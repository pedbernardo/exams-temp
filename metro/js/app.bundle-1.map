{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/tiny-emitter/index.js","webpack:///./src/js/app.js","webpack:///./src/js/components/button-radio.js","webpack:///./src/js/components/form-validation.js","webpack:///./src/js/components/form.js","webpack:///./src/js/components/input-radio.js","webpack:///./src/js/components/table-expand.js","webpack:///./src/js/components/table-multivalue.js","webpack:///./src/js/components/template.js","webpack:///./src/js/helpers/component-error.js","webpack:///./src/js/helpers/component-helpers.js","webpack:///./src/js/helpers/component-reference.js","webpack:///./src/js/modules/equipments/api/api.equipments.js","webpack:///./src/js/modules/equipments/equipments-config.js","webpack:///./src/js/modules/equipments/equipments-form.js","webpack:///./src/js/modules/equipments/equipments-table.js","webpack:///./src/js/modules/intervention/intervention-form.js"],"names":["AppEvents","Emitter","Template","init","Form","conditionals","on","EquipmentsForm","mount","tableData","EquipmentsTable","taskAlias","InterventionForm","defaults","groupClass","btnClass","activeClass","hidePrefix","splitSeparator","ButtonGroup","reference","params","name","elements","resolveReference","HTMLElement","element","createInstance","map","filter","undefined","changeEvent","Event","getOrquestraField","select","textvalue","removeTextPrefix","createButtonGroup","buttons","buttonGroup","state","value","isEnable","instance","reset","set","get","addListners","_buttonGroup","forEach","button","addEventListener","onClick","onChange","e","silent","option","dataset","classList","add","dispatchEvent","removeOptionPrefix","textContent","remove","find","ComponentError","message","type","call","querySelector","inputHidden","options","getOrquestraFieldOptions","btnGroupHtml","getButtonGroupMarkup","insertAdjacentHTML","style","display","nextSibling","querySelectorAll","label","getButtonMarkup","join","group","context","errorMessage","console","error","setTriggers","$","handleChange","validateField","field","addError","removeError","validateForm","groups","hasErrors","result","validation","errors","getFormHelpElement","FormValidation","config","document","Array","isArray","formGroup","closest","formHelp","COD_FLOW","getElementById","COD_FLOW_EXECUTE","COD_FLOW_EXECUTE_MASTER","COD_FLOW_EXECUTE_TASK","COD_FLOW_EXECUTE_TASK_POSITION","COD_FLOW_EXECUTE_C","ASSOCIATE_TO_COD_FLOW","ASSOCIATE_TO_COD_FLOW_EXECUTE","COD_TASK","TASK_ALIAS","IS_SIMULATION","USER_TOKEN","OrquestraData","codFlow","getInputValue","codFlowExecute","codFlowExecuteMaster","codFlowExecuteTask","codFlowExecuteTaskPosition","codFlowExecuteC","associateToCodFlow","associateToCodFlowExecute","codTask","isSimulation","userToken","container","hideClass","inputValue","target","callback","targets","includes","helperClass","currentAlias","replace","split","getField","fieldId","alwaysArray","fields","length","clearField","checked","addRequired","setAttribute","removeAttribute","removeRequired","showField","$container","isRequired","getAttribute","hideField","getFieldValue","fieldType","checkedField","checkedFields","handler","events","arrEvents","event","resolveCallbacks","values","radioInnerClass","radioHelpClass","InputRadio","radios","radio","createInputRadio","_inputRadio","apply","radioInnerHtml","getRadioInnerMarkup","radioOption","radioHelper","getRadioHelper","textNode","radioText","insertAdjacentElement","radioHelperClone","cloneNode","ctrlHelp","openClass","expandCellClass","expandIcon","table","HTMLTableElement","buttonInsert","getTableBtnInsert","isReadOnly","rows","createExpandRows","closeAll","openAll","addTableListners","_tableExpand","row","addRowListners","mountNewRow","open","close","expandElement","deleteButton","removeRow","lastRow","getLastRow","rowInstance","getRowInstance","push","rowIndex","splice","toggle","isOpen","getTableRows","getRowFirstCell","getfirstHeaderCell","firstHeaderCell","emptyHeaderHtml","firstCell","expandCellHtml","getExpandCellMarkup","registerEvents","tableInstance","btnInsert","onclick","removeEventListener","InsertNewRow","handeClick","registerRowEvents","btnDelete","DeleteRow","handleRemove","getEventConfig","bubbles","detail","getTableRowsLength","CustomEvent","newestRow","onMount","eventConfig","deletedRow","removeRows","click","getRows","TableMultivalue","tableElementSelector","eventName","mountTables","isActive","appendData","data","addFirstRow","Object","entries","id","filters","cnpj","titleCase","toLowerCase","word","charAt","toUpperCase","slice","input","newValue","substring","binds","indexOf","handleUpdate","index","update","addField","single","defaultAttr","getDefaultAttributes","collection","isInputMultiple","getIgnoredNotSelector","ids","isFieldCollection","codfield","getRowIndex","ignored","ignoredSelector","bind","filterName","fieldValueIndex","fieldValue","fieldText","hasAttribute","filterFn","Error","trim","component","HTMLCollection","ORQUESTRA_DATASOURCE_URL","process","getDataFromDataSource","unitId","period","equipmentSector","equipmentGroup","url","URL","inppunidadeSesi","inpperiodoDeReferencia","getMonth","getFullYear","inppequipmentSector","inpgrupoDeEquipamento","search","URLSearchParams","toString","fetch","then","res","json","success","$query","query","$pane","$emptyMessage","$table","form","$btnSearch","$unity","$period","$sector","$group","processVariables","$referenceTermNeeded","SearchForm","handleSearch","validationResult","validate","datepicker","preventDefault","addLoadingState","searchEquipments","setReferenceTermNeeded","sectorId","securitySectorsIds","EquipmentsApi","mountTable","err","handleSearchError","removeLoadingState","emit","EventEmitter","language","startView","minViewMode","format","attr","addTagsLocationVariant","tr","tag","variant","getTagVariant","tagFieldId","equipmentsTable","TableExapnd","addCertificateFormHandlers","addReportFormHandler","handlePreviousAndNextIntervention","$lastDate","$nextDate","$targets","calculateNextIntervention","$input","$origin","val","lastDate","nextDate","Date","daysToAdd","parseInt","setDate","getDate","dateToStringDate","$target","date","toLocaleString","year","month","day","ButtonRadio"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/app.js\");\n","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n","\nimport Emitter from 'tiny-emitter'\nimport Template from './components/template'\nimport Form from './components/form'\nimport EquipmentsTable from './modules/equipments/equipments-table'\nimport EquipmentsForm from './modules/equipments/equipments-form'\nimport InterventionForm from './modules/intervention/intervention-form'\n\nconst AppEvents = new Emitter()\n\nTemplate.init()\nForm.conditionals()\n\nForm.on('avulso', function () {\n  EquipmentsForm.mount(AppEvents)\n\n  AppEvents\n    .on('search-done', function (tableData) {\n      EquipmentsTable.mount(tableData)\n    })\n})\n\nForm.on('controle', function () {\n  EquipmentsTable.mount()\n})\n\nForm.on(['checklist-certificado', 'checklist-relatorio'], function (taskAlias) {\n  InterventionForm.mount(taskAlias)\n})\n","import ComponentError from '../helpers/component-error'\nimport resolveReference from '../helpers/component-reference'\nimport { removeOptionPrefix } from '../helpers/component-helpers'\n\nconst defaults = {\n  groupClass: 'btn-radio-group',\n  btnClass: 'btn-radio',\n  activeClass: '-active',\n  hidePrefix: false,\n  splitSeparator: '.'\n}\n\nexport default function ButtonGroup (reference, params) {\n  params = {\n    ...defaults,\n    ...params,\n    name: 'ButtonRadio'\n  }\n\n  const elements = resolveReference(reference, params.name)\n\n  if (elements instanceof HTMLElement) {\n    const [element] = elements\n    return createInstance(element, params)\n  }\n\n  return elements\n    .map(element => createInstance(element, params))\n    .filter(element => element !== undefined)\n}\n\nfunction createInstance (element, params) {\n  const changeEvent = new Event('change')\n  const {\n    select,\n    textvalue\n  } = getOrquestraField(element, params)\n\n  if (textvalue && params.hidePrefix) {\n    removeTextPrefix(textvalue)\n  }\n\n  if (!select) {\n    return\n  }\n\n  const { buttons, buttonGroup } = createButtonGroup(select, params)\n\n  const state = {\n    value: '',\n    isEnable: true\n  }\n\n  const instance = {\n    state,\n    element,\n    select,\n    buttonGroup,\n    buttons: [...buttons],\n    reset,\n    set,\n    get\n  }\n\n  addListners(buttons, select)\n\n  if (select.value !== '') {\n    set(select.value, true)\n  }\n\n  element._buttonGroup = instance\n\n  return instance\n\n  /**\n   *  Private Methods\n   */\n  function addListners (buttons, select) {\n    buttons\n      .forEach(button => {\n        button.addEventListener('click', onClick)\n      })\n\n    select.addEventListener('change', onChange)\n  }\n\n  function onChange () {\n    const value = this.value\n\n    if (value === '') {\n      reset()\n    } else {\n      set(value, true)\n    }\n  }\n\n  function onClick (e, silent) {\n    const option = this.dataset.option\n\n    reset()\n\n    this.classList.add(params.activeClass)\n    instance.select.value = option\n    state.value = option\n\n    if (!silent) {\n      instance.select.dispatchEvent(changeEvent)\n    }\n  }\n\n  function removeTextPrefix (textvalue) {\n    const value = removeOptionPrefix(textvalue.textContent, params.splitSeparator)\n    textvalue.textContent = value\n  }\n\n  /**\n   *  Public Methods\n   * @todo Destroy / ShowOption / HideOption / Disable (readonly) / Enable / TextOnly\n   */\n  function reset () {\n    state.value = ''\n    instance.select.value = ''\n    instance.buttons\n      .forEach(button => {\n        button.classList.remove(params.activeClass)\n      })\n  }\n\n  function set (option, silent = false) {\n    const button = instance.buttons\n      .find(button => button.dataset.option === option)\n\n    if (!button) {\n      throw new ComponentError({\n        name: params.name,\n        message:\n        `Erro ao realizar set para novo valor.\\nNo foi encontrada nenhuma opo para o valor ${option}`,\n        type: 'option_not_found'\n      })\n    }\n\n    onClick.call(button, null, silent)\n  }\n\n  function get () {\n    return state.value\n  }\n}\n\n/**\n *  Helper Functions\n */\n\nfunction getOrquestraField (element, params) {\n  const select = element.querySelector('select[xname]')\n  const textvalue = element.querySelector('div[xid]')\n  const inputHidden = element.querySelector('input[type=hidden][xname]')\n\n  if (!select && !textvalue && !inputHidden) {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      'Erro ao criar a instncia do componente.\\nNenhum campo do Orquestra encontrado para a referncia informada',\n      type: 'instace_field_not_found'\n    })\n  }\n\n  return {\n    select,\n    textvalue\n  }\n}\n\nfunction createButtonGroup (select, params) {\n  const options = getOrquestraFieldOptions(select, params)\n  const btnGroupHtml = getButtonGroupMarkup(options, params)\n\n  select.insertAdjacentHTML('afterend', btnGroupHtml)\n  select.style.display = 'none'\n\n  const buttonGroup = select.nextSibling\n  const buttons = buttonGroup.querySelectorAll(`.${params.btnClass}`)\n\n  return {\n    buttonGroup,\n    buttons\n  }\n}\n\nfunction getOrquestraFieldOptions (select, params) {\n  return [...select.options]\n    .filter(option => option.value)\n    .map(option => {\n      const value = option.value\n      const label = params.hidePrefix\n        ? removeOptionPrefix(value, params.splitSeparator)\n        : value\n\n      return { value, label }\n    })\n}\n\nfunction getButtonGroupMarkup (options, { groupClass, btnClass }) {\n  const buttons = options\n    .map(option => getButtonMarkup(option, btnClass))\n\n  return `<div class=\"btn-group ${groupClass}\">${buttons.join('')}</div>`\n}\n\nfunction getButtonMarkup ({ value, label }, btnClass) {\n  return `<button type=\"button\" class=\"btn ${btnClass}\" data-option=\"${value}\">${label}</button>`\n}\n","function mount (group, context) {\n  const element = context.querySelector(group.element)\n  const errorMessage = group.errorMessage\n\n  if (!element) {\n    return console.error(`[Form Validation] element not found for selector: ${group.element}`)\n  }\n\n  setTriggers(element, errorMessage)\n}\n\nfunction setTriggers (element, errorMessage) {\n  // Utilizado jQuery para corrigir o no disparo de\n  // eventos `change` em campos do tipo `data` do Orquestra\n  // que fazem uso do componente Bootstrap Datepicker.\n  $(element).on('change', function (e) {\n    handleChange.call(this, e, errorMessage)\n  })\n}\n\nfunction handleChange (e, errorMessage) {\n  validateField(this, errorMessage)\n}\n\nfunction validateField (field, errorMessage, silent) {\n  if (field.value === '') {\n    if (!silent) addError(field, errorMessage)\n    return true\n  } else {\n    if (!silent) removeError(field)\n    return false\n  }\n}\n\nfunction validateForm (groups, silent, context) {\n  let hasErrors = false\n\n  const result = groups.map(group => {\n    const element = context.querySelector(group.element)\n    const errorMessage = group.errorMessage\n    const validation = {\n      result: validateField(element, errorMessage, silent),\n      error: null\n    }\n\n    if (!validation.result) {\n      return validation\n    }\n\n    hasErrors = true\n    validation.error = errorMessage\n\n    return validation\n  })\n\n  const errors = result.filter(({ error }) => error !== null)\n\n  return {\n    hasErrors,\n    errors\n  }\n}\n\nconst getFormHelpElement = message =>\n  `<p class=\"form-help\">${message}</p>`\n\n/**\n * Public API\n */\nexport class FormValidation {\n  constructor (config, context = document) {\n    this.groups = config\n    this.context = context\n\n    if (!Array.isArray(config)) {\n      return console.error('[Form Validation] config parameter must by a array with a element selector, error message and callback (optional)')\n    }\n\n    this.groups.forEach(group => mount(group, context))\n  }\n\n  validate (silent = false) {\n    return validateForm(this.groups, silent, this.context)\n  }\n}\n\nexport function addError (element, errorMessage) {\n  const formGroup = element.closest('.form-group')\n\n  if (!formGroup) {\n    return console.error('[Form Validation] the element must be inside a .form-group container')\n  }\n\n  const formHelp = formGroup.querySelector('.form-help')\n\n  formGroup.classList.add('-error')\n\n  if (!formHelp) {\n    const formHelp = getFormHelpElement(errorMessage)\n    formGroup.insertAdjacentHTML('beforeend', formHelp)\n  } else {\n    formHelp.textContent = errorMessage\n  }\n}\n\nexport function removeError (element) {\n  const formGroup = element.closest('.form-group')\n  const formHelp = formGroup.querySelector('.form-help')\n\n  if (!formGroup) {\n    return console.error('[Form Validation] the element must be inside a .form-group container')\n  }\n\n  if (formHelp) {\n    formHelp.remove()\n  }\n\n  formGroup.classList.remove('-error')\n}\n","import ComponentError from '../helpers/component-error'\n\nconst COD_FLOW = document.getElementById('inpCodFlow')\nconst COD_FLOW_EXECUTE = document.getElementById('inpCodFlowExecute')\nconst COD_FLOW_EXECUTE_MASTER = document.getElementById('inpCodFlowExecuteMaster')\nconst COD_FLOW_EXECUTE_TASK = document.getElementById('inpCodFlowExecuteTask')\nconst COD_FLOW_EXECUTE_TASK_POSITION = document.getElementById('inpCodFlowExecuteTaskPosition')\nconst COD_FLOW_EXECUTE_C = document.getElementById('inpCodFlowExecuteC')\nconst ASSOCIATE_TO_COD_FLOW = document.getElementById('inpAssociateToCodFlow')\nconst ASSOCIATE_TO_COD_FLOW_EXECUTE = document.getElementById('inpAssociateToCodFlowExecute')\nconst COD_TASK = document.getElementById('inpCodFlowElement')\nconst TASK_ALIAS = document.getElementById('inpDsFlowElementAlias')\nconst IS_SIMULATION = document.getElementById('inpStSimulation')\nconst USER_TOKEN = document.getElementById('inpToken')\n\nconst OrquestraData = {\n  codFlow: getInputValue(COD_FLOW),\n  codFlowExecute: getInputValue(COD_FLOW_EXECUTE),\n  codFlowExecuteMaster: getInputValue(COD_FLOW_EXECUTE_MASTER),\n  codFlowExecuteTask: getInputValue(COD_FLOW_EXECUTE_TASK),\n  codFlowExecuteTaskPosition: getInputValue(COD_FLOW_EXECUTE_TASK_POSITION),\n  codFlowExecuteC: getInputValue(COD_FLOW_EXECUTE_C),\n  associateToCodFlow: getInputValue(ASSOCIATE_TO_COD_FLOW),\n  associateToCodFlowExecute: getInputValue(ASSOCIATE_TO_COD_FLOW_EXECUTE),\n  codTask: getInputValue(COD_TASK),\n  taskAlias: getInputValue(TASK_ALIAS),\n  isSimulation: getInputValue(IS_SIMULATION),\n  userToken: getInputValue(USER_TOKEN)\n}\n\nconst params = {\n  name: 'Form',\n  container: '.form-group',\n  hideClass: 'is-hidden'\n}\n\n/**\n *  Helper Functions\n */\nfunction getInputValue (inputValue) {\n  return inputValue\n    ? inputValue.value\n    : null\n}\n\n/**\n *  Public Methods\n */\nfunction on (target, callback) {\n  if (typeof target !== 'string' && !Array.isArray(target)) {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      `Erro ao criar o evento 'on', \\n${target} no  um parmetro vlido. Voc deve utilizar como target somente strings ou arrays de strings.`,\n      type: 'invalid_target_for_on_event'\n    })\n  }\n\n  if (typeof callback !== 'function') {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      `Erro ao criar o evento 'on', \\n${callback} no  um parmetro vlido. Voc deve utilizar como callback somente funes.`,\n      type: 'invalid_callback_for_on_event'\n    })\n  }\n\n  const targets = typeof target === 'string'\n    ? [target]\n    : target\n\n  if (targets.includes(OrquestraData.taskAlias)) {\n    callback(OrquestraData.taskAlias)\n  }\n}\n\nfunction conditionals (context = document, helperClass = 'is-hidden') {\n  context\n    .querySelectorAll('[data-if]')\n    .forEach(element => {\n      const currentAlias = element.dataset.if\n        .replace(/[\\s[\\]]/g, '') // remove white spaces and brakets\n        .split(',') // splits if it's a list, using comma\n\n      if (currentAlias.includes(OrquestraData.taskAlias)) {\n        element.classList.remove(helperClass)\n      } else {\n        element.classList.add(helperClass)\n      }\n    })\n}\n\nfunction getField (fieldId, options = { alwaysArray: false }) {\n  const fields = document.querySelectorAll(`[xname=\"inp${fieldId}\"]`)\n\n  if (!fields.length) {\n    return null\n  }\n\n  if (options.alwaysArray) {\n    return [...fields]\n  }\n\n  return fields.length > 1\n    ? [...fields]\n    : fields[0]\n}\n\nfunction clearField (fieldId) {\n  const changeEvent = new Event('change')\n  const fields = getField(fieldId, { alwaysArray: true })\n\n  fields.forEach(field => {\n    field.value = ''\n    field.checked = false\n    field.dispatchEvent(changeEvent)\n  })\n}\n\nfunction addRequired (fieldId) {\n  const fields = getField(fieldId, { alwaysArray: true })\n\n  if (!fields) {\n    return console.error(`[Form] Unable to add required. Field reference ${fieldId} not found`)\n  }\n\n  fields.forEach(field => {\n    field.setAttribute('required', 'S')\n    field.removeAttribute('data-was-required')\n  })\n}\n\nfunction removeRequired (fieldId) {\n  const fields = getField(fieldId, { alwaysArray: true })\n\n  if (!fields) {\n    return console.error(`[Form] Unable to remove required. Field reference ${fieldId} not found`)\n  }\n\n  fields.forEach(field => {\n    field.setAttribute('required', 'N')\n    field.setAttribute('data-was-required', true)\n  })\n}\n\nfunction showField (fieldId, container = params.container) {\n  const fields = getField(fieldId, { alwaysArray: true })\n  const $container = fields[0].closest(container)\n  const isRequired = fields\n    .filter(field => field.getAttribute('data-was-required')).length > 0\n\n  $container.classList.remove(params.hideClass)\n\n  if (isRequired) {\n    addRequired(fieldId)\n  }\n}\n\nfunction hideField (fieldId, container = params.container) {\n  const fields = getField(fieldId, { alwaysArray: true })\n  const $container = fields[0].closest(container)\n  const isRequired = fields\n    .filter(field => field.getAttribute('required') === 'S').length > 0\n\n  $container.classList.add(params.hideClass)\n  clearField(fieldId)\n\n  if (isRequired) {\n    removeRequired(fieldId)\n  }\n}\n\nfunction getFieldValue (fieldId) {\n  const fields = getField(fieldId, { alwaysArray: true })\n  const fieldType = fields[0].type\n\n  if (['text', 'textarea', 'select-one', 'hidden'].includes(fieldType)) {\n    return fields[0].value\n  }\n\n  if (fieldType === 'radio') {\n    const checkedField = fields.find(field => field.checked)\n\n    return checkedField\n      ? checkedField.value\n      : null\n  }\n\n  if (fieldType === 'checkbox') {\n    const checkedFields = fields\n      .filter(field => field.checked)\n      .map(field => field.value)\n\n    return checkedFields.length\n      ? checkedFields\n      : null\n  }\n\n  return null\n}\n\nfunction handler ({ target, events }, callback) {\n  const fields = getField(target, { alwaysArray: true })\n  const arrEvents = typeof events === 'string'\n    ? [events]\n    : events\n\n  if (!callback) {\n    return console.error('[Form] Unable to attach handler. You must inform a callback param')\n  }\n\n  fields.forEach(field => {\n    arrEvents.forEach(event => {\n      field.addEventListener(event, resolveCallbacks)\n    })\n  })\n\n  resolveCallbacks()\n\n  function resolveCallbacks () {\n    const values = getFieldValue(target)\n    callback(values)\n  }\n}\n\n/**\n *  Public API\n */\nexport default {\n  ...OrquestraData,\n  on,\n  conditionals,\n  getField,\n  getFieldValue,\n  clearField,\n  addRequired,\n  removeRequired,\n  showField,\n  hideField,\n  handler\n}\n","import ComponentError from '../helpers/component-error'\nimport resolveReference from '../helpers/component-reference'\nimport { removeOptionPrefix } from '../helpers/component-helpers'\n\nconst defaults = {\n  radioInnerClass: 'input-radio-inner',\n  radioHelpClass: 'ctrl-option-help',\n  activeClass: '-active',\n  hidePrefix: false,\n  splitSeparator: '.'\n}\n\nexport default function InputRadio (reference, params) {\n  params = {\n    ...defaults,\n    ...params,\n    name: 'InputRadio'\n  }\n\n  const elements = resolveReference(reference, params.name)\n\n  if (elements instanceof HTMLElement) {\n    const [element] = elements\n    return createInstance(element, params)\n  }\n\n  return elements\n    .map(element => createInstance(element, params))\n    .filter(element => element !== undefined)\n}\n\nfunction createInstance (element, params) {\n  const {\n    radios,\n    textvalue\n  } = getOrquestraField(element, params)\n\n  const checked = radios\n    .find(radio => radio.checked)\n\n  if (textvalue && params.hidePrefix) {\n    removeTextPrefix(textvalue)\n  }\n\n  if (!radios) {\n    return\n  }\n\n  createInputRadio(radios, element, params)\n\n  const state = {\n    value: '',\n    isEnable: true\n  }\n\n  const instance = {\n    state,\n    element,\n    radios,\n    checked,\n    reset,\n    set,\n    get\n  }\n\n  addListners(radios)\n\n  if (checked) {\n    set(checked.value)\n  }\n\n  element._inputRadio = instance\n\n  return instance\n\n  /**\n   *  Private Methods\n   */\n  function addListners (radios) {\n    radios\n      .forEach(radio => {\n        radio.addEventListener('click', onClick)\n      })\n  }\n\n  function onClick () {\n    instance.checked = this\n    state.value = this.value\n  }\n\n  function removeTextPrefix (textvalue) {\n    const value = removeOptionPrefix(textvalue.textContent, params.splitSeparator)\n    textvalue.textContent = value\n  }\n\n  /**\n   *  Public Methods\n   * @todo Destroy / AddOption / RemoveOption / Disable (readonly) / Enable / TextOnlys\n   */\n  function reset () {\n    state.value = ''\n    instance.radios\n      .forEach(radio => {\n        radio.checked = false\n      })\n  }\n\n  function set (option) {\n    const radio = instance.radios\n      .find(radio => radio.value === option)\n\n    if (!radio) {\n      throw new ComponentError({\n        name: params.name,\n        message:\n        `Erro ao realizar set para novo valor.\\nNo foi encontrada nenhuma opo para o valor ${option}`,\n        type: 'option_not_found'\n      })\n    }\n\n    onClick.apply(radio)\n  }\n\n  function get () {\n    return state.value\n  }\n}\n\n/**\n *  Helper Functions\n */\n\nfunction getOrquestraField (element, params) {\n  const radios = [...element.querySelectorAll('input[type=radio][xname]')]\n  const textvalue = element.querySelector('div[xid]')\n\n  if (!radios && !textvalue) {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      'Erro ao criar a instncia do componente.\\nNenhum campo do tipo mltipla seleo (radio) Orquestra encontrado',\n      type: 'instace_field_not_found'\n    })\n  }\n\n  return {\n    radios,\n    textvalue\n  }\n}\n\nfunction createInputRadio (radios, element, params) {\n  const radioInnerHtml = getRadioInnerMarkup(params.radioInnerClass)\n\n  radios.forEach(radio => {\n    const radioOption = radio.value\n    const radioHelper = getRadioHelper(element, radioOption, params)\n    const textNode = radio.nextSibling\n    const radioText = params.hidePrefix\n      ? removeOptionPrefix(radioOption, params.splitSeparator)\n      : textNode.textContent\n\n    textNode.remove()\n\n    if (radioHelper) {\n      radio.insertAdjacentElement('afterend', radioHelper)\n    }\n\n    radio.insertAdjacentHTML('afterend', `<span>${radioText}</span>`)\n    radio.insertAdjacentHTML('afterend', radioInnerHtml)\n  })\n}\n\nfunction getRadioHelper (element, radioOption, params) {\n  const radioHelper = element.querySelector(`[data-ctrl-help=\"${radioOption}\"]`)\n\n  if (!radioHelper) {\n    return null\n  }\n\n  const radioHelperClone = radioHelper.cloneNode(true)\n  delete radioHelperClone.dataset.ctrlHelp\n  radioHelperClone.classList.add(params.radioHelpClass)\n\n  return radioHelperClone\n}\n\nfunction getRadioInnerMarkup (radioInnerClass) {\n  return `<div class=\"${radioInnerClass}\"></div>`\n}\n","import ComponentError from '../helpers/component-error'\nimport resolveReference from '../helpers/component-reference'\n\nconst defaults = {\n  openClass: '-open',\n  expandCellClass: 'form-table-expand-trigger',\n  expandIcon: 'fa-angle-right'\n}\n\nexport default function ButtonGroup (reference, params) {\n  params = {\n    ...defaults,\n    ...params,\n    name: 'TableExpand'\n  }\n\n  const elements = resolveReference(reference, params.name)\n\n  if (elements instanceof HTMLElement) {\n    const [element] = elements\n    return createInstance(element, params)\n  }\n\n  return elements\n    .map(element => createInstance(element, params))\n    .filter(element => element !== undefined)\n}\n\nfunction createInstance (table, params) {\n  if (!(table instanceof HTMLTableElement)) {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      'Erro ao criar a instncia do componente.\\nO elemento informado deve obrigatoriamente ser uma tabela (HTMLTableElement)',\n      type: 'instace_table_not_found'\n    })\n  }\n\n  const buttonInsert = getTableBtnInsert(table)\n  const isReadOnly = !buttonInsert\n  const rows = createExpandRows(table, isReadOnly, params)\n\n  const instance = {\n    table,\n    rows,\n    buttonInsert,\n    isReadOnly,\n    closeAll,\n    openAll\n  }\n\n  addTableListners()\n\n  table._tableExpand = instance\n\n  return instance\n\n  /**\n   *  Private Methods\n   */\n  function addTableListners () {\n    rows\n      .forEach(row => addRowListners(row, instance.isReadOnly))\n\n    if (!isReadOnly) {\n      instance.buttonInsert\n        .addEventListener('click', () => mountNewRow(isReadOnly))\n    }\n  }\n\n  function addRowListners (row, isReadOnly) {\n    row.open = open\n    row.close = close\n\n    row.expandElement\n      .addEventListener('click', () => onClick(row))\n\n    if (!isReadOnly) {\n      row.deleteButton\n        .addEventListener('click', () => removeRow(row))\n    }\n  }\n\n  function mountNewRow (isReadOnly) {\n    const lastRow = getLastRow(table)\n    const rowInstance = getRowInstance(lastRow, params.expandCellClass)\n\n    addRowListners(rowInstance)\n\n    lastRow.classList.remove(params.openClass)\n    instance.rows.push(rowInstance)\n  }\n\n  function removeRow (row) {\n    const rowIndex = row.element.rowIndex\n\n    // rowIndex it's only `1` when row isn't removed yet by\n    // Orquestra `DeleteRow` function\n    if (rowIndex === 1) {\n      return\n    }\n\n    // the first table row is actually the table header\n    instance.rows.splice(rowIndex - 1, 1)\n  }\n\n  function onClick (row) {\n    row.element.classList.toggle(params.openClass)\n    row.isOpen = !row.isOpen\n  }\n\n  /**\n   *  Public Methods\n   */\n  function closeAll () {\n    instance.rows\n      .forEach(row => row.close())\n  }\n\n  function openAll () {\n    instance.rows\n      .forEach(row => row.open())\n  }\n\n  function close () {\n    this.element.classList.remove(params.openClass)\n    this.isOpen = false\n  }\n\n  function open () {\n    this.element.classList.add(params.openClass)\n    this.isOpen = true\n  }\n}\n\n/**\n *  Helper Functions\n */\nfunction getTableBtnInsert (table) {\n  return table.querySelector('#BtnInsertNewRow')\n}\n\nfunction getTableRows (table) {\n  return [...table.querySelectorAll('tr:not(.header)')]\n}\n\nfunction getRowFirstCell (row, isReadOnly) {\n  return isReadOnly\n    ? row.querySelector('td:nth-child(1)')\n    : row.querySelector('td:nth-child(2)')\n}\n\nfunction getfirstHeaderCell (table, isReadOnly) {\n  return isReadOnly\n    ? table.querySelector('tr.header td:nth-child(1)')\n    : table.querySelector('tr.header td:nth-child(2)')\n}\n\nfunction getLastRow (table) {\n  return table.querySelector('tr:last-child')\n}\n\nfunction getRowInstance (row, expandCellClass) {\n  const expandElement = row\n    .querySelector(`.${expandCellClass}`)\n\n  const deleteButton = row\n    .querySelector('.btn-delete-mv')\n\n  return {\n    expandElement,\n    deleteButton,\n    element: row,\n    isOpen: false\n  }\n}\n\nfunction createExpandRows (table, isReadOnly, params) {\n  const rows = getTableRows(table)\n  const firstHeaderCell = getfirstHeaderCell(table, isReadOnly)\n  const emptyHeaderHtml = '<td class=\"form-table-expand-th\"></td>'\n\n  firstHeaderCell\n    .insertAdjacentHTML('beforebegin', emptyHeaderHtml)\n\n  return rows.map(row => {\n    const firstCell = getRowFirstCell(row, isReadOnly)\n    const expandCellHtml = getExpandCellMarkup(params)\n\n    firstCell\n      .insertAdjacentHTML('beforebegin', expandCellHtml)\n\n    return getRowInstance(row, params.expandCellClass)\n  })\n}\n\nfunction getExpandCellMarkup (params) {\n  return `\n  <td class=\"${params.expandCellClass}\">\n    <i class=\"form-table-expand-icon fas ${params.expandIcon}\"></i>\n  </td>`\n}\n","function registerEvents (tableInstance) {\n  tableInstance.btnInsert.onclick = ''\n  tableInstance.btnInsert.removeEventListener('click', InsertNewRow)\n  tableInstance.btnInsert.addEventListener('click', function (e) {\n    handeClick.call(this, e, tableInstance)\n  })\n\n  tableInstance\n    .rows()\n    .forEach(row => registerRowEvents(tableInstance, row))\n}\n\nfunction registerRowEvents (tableInstance, row) {\n  const btnDelete = row.querySelector('.btn-delete-mv')\n\n  btnDelete.onclick = ''\n  btnDelete.removeEventListener('click', DeleteRow)\n  btnDelete.addEventListener('click', function (e) {\n    handleRemove.call(this, e, tableInstance)\n  })\n}\n\nfunction getEventConfig (tableInstance) {\n  return {\n    bubbles: true,\n    detail: {\n      table: tableInstance.table,\n      length: getTableRowsLength(tableInstance.table),\n      lastRow: getLastRow(tableInstance.table)\n    }\n  }\n}\n\nfunction handeClick (e, tableInstance) {\n  this.dispatchEvent(\n    new CustomEvent('beforeInsert', getEventConfig(tableInstance))\n  )\n\n  InsertNewRow(this, true)\n\n  const newestRow = getLastRow(tableInstance.table)\n\n  registerRowEvents(tableInstance, newestRow)\n\n  if (tableInstance.onMount) {\n    tableInstance.onMount(newestRow)\n  }\n\n  this.dispatchEvent(\n    new CustomEvent('afterInsert', getEventConfig(tableInstance))\n  )\n}\n\nfunction handleRemove (e, tableInstance) {\n  const eventConfig = getEventConfig(tableInstance)\n  eventConfig.detail.deletedRow = this.closest('tr')\n\n  // chamando o evento diretamente na <table>\n  tableInstance.table.dispatchEvent(\n    new CustomEvent('beforeDelete', eventConfig)\n  )\n\n  DeleteRow(this)\n\n  tableInstance.table.dispatchEvent(\n    new CustomEvent('afterDelete', eventConfig)\n  )\n}\n\nfunction removeRows (table) {\n  const btnInsert = table.querySelector('#BtnInsertNewRow')\n\n  btnInsert.click()\n  table\n    .querySelectorAll('tr:not(.header):not(:last-child')\n    .forEach(row => row.remove())\n}\n\n/**\n * Helpers\n */\nconst getRows = table =>\n  table.querySelectorAll('tr:not(.header)')\n\nconst getLastRow = table =>\n  table.querySelector('tr:last-child')\n\nconst getTableRowsLength = table =>\n  getRows(table).length\n\n/**\n * Public Constructor\n */\nexport class TableMultivalue {\n  constructor (tableElementSelector, onMount, context = document) {\n    this.table = context.querySelector(tableElementSelector)\n    this.onMount = onMount\n\n    if (!this.table) {\n      console.error(`[Table Multivalue] table not found for the following selector: ${tableElementSelector}`)\n    }\n\n    if (this.onMount) {\n      this.table\n        .querySelectorAll('tr:not(.header)')\n        .forEach(row => this.onMount(row))\n    }\n\n    this.btnInsert = this.table.querySelector('#BtnInsertNewRow')\n    registerEvents(this)\n  }\n\n  static () {\n    this.table.classList.add('-static')\n  }\n\n  active () {\n    this.table.classList.remove('-static')\n  }\n\n  reset () {\n    removeRows(this.table)\n  }\n\n  on (eventName, callback) {\n    this.table.addEventListener(eventName, callback)\n  }\n\n  rows () {\n    return getRows(this.table)\n  }\n\n  lastRow () {\n    return getLastRow(this.table)\n  }\n\n  length () {\n    return getTableRowsLength(this.table)\n  }\n}\n\n/**\n * @todo implementar usando parmetros tambm...\n * colocar as funes auxiliares dentro de um namespace\n */\nexport function mountTables () {\n  document.querySelectorAll('[mult=S]')\n    .forEach(table => {\n      const isActive = table.querySelector('#BtnInsertNewRow')\n\n      if (!isActive) {\n        table.classList.add('-readonly')\n      }\n    })\n}\n\nexport function appendData (table, data, addFirstRow = false) {\n  removeRows(table)\n\n  data.forEach((field, rowIndex) => {\n    if (addFirstRow || rowIndex > 0) {\n      table.querySelector('#BtnInsertNewRow').click()\n    }\n\n    Object.entries(field).forEach(([id, value]) => {\n      const lastRow = getLastRow(table)\n      const field = lastRow.querySelector(`[xname=inp${id}]`)\n\n      if (field) {\n        field.value = value\n      }\n    })\n  })\n}\n","const config = {\n  filters: {\n    cnpj (value) {\n      return value.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d)/, '$1.$2.$3/$4-$5')\n    },\n    titleCase (value) {\n      return value\n        .toLowerCase()\n        .split(' ')\n        .map(word => {\n          return word.charAt(0).toUpperCase() + word.slice(1)\n        }).join(' ')\n    }\n  }\n}\n\nfunction setTriggers (field, data) {\n  // Workaround para no observncia do evento `change` em campos do tipo `data` do Orquestra.\n  // Estes fazem uso do plugin `Bootstrap Datepicker`, o qual restringe o evento change nativo\n  $(field).on('change', function (e) {\n    handleChange(e, field, data)\n  })\n}\n\nfunction handleChange (e, field, data) {\n  const input = e.target\n  const newValue = input.value || ''\n  const id = field.getAttribute('xname').substring(3)\n  const binds = document.querySelectorAll(`[data-bind=${id}]`)\n\n  if (field.type === 'checkbox') {\n    if (field.checked) {\n      data[id].value.push(newValue)\n    } else {\n      data[id].value.splice(\n        data[id].value.indexOf(newValue),\n        1\n      )\n    }\n    return handleUpdate(binds, data)\n  }\n\n  if (field.type === 'radio') {\n    if (field.checked) {\n      data[id].value = newValue\n    }\n    return handleUpdate(binds, data)\n  }\n\n  if (Array.isArray(data[id].value)) {\n    const index = input.closest('tr').rowIndex - 1 // ignora a 1 linha usada como cabealho\n    data[id].value[index] = newValue\n  } else {\n    data[id].value = newValue\n  }\n\n  return handleUpdate(binds, data)\n}\n\nfunction handleUpdate (binds, data) {\n  binds.forEach(element => {\n    update(element, data)\n  })\n}\n\nconst addField = {\n  single (field, data) {\n    const value = field.value || ''\n    const defaultAttr = getDefaultAttributes(field)\n\n    data[defaultAttr.id] = {\n      value,\n      ...defaultAttr\n    }\n  },\n\n  collection (field, data) {\n    const isInputMultiple = field.type === 'checkbox' || field.type === 'radio'\n    const defaultAttr = getDefaultAttributes(field)\n\n    if (!data[defaultAttr.id]) {\n      data[defaultAttr.id] = {\n        value: field.type === 'radio'\n          ? null\n          : [],\n        ...defaultAttr\n      }\n    }\n\n    if (isInputMultiple && !field.checked) {\n      return\n    }\n\n    if (field.type === 'radio') {\n      data[defaultAttr.id].value = field.value\n      return\n    }\n\n    data[defaultAttr.id].value.push(\n      field.value || ''\n    )\n  }\n}\n\n/**\n * Helpers\n */\nconst getIgnoredNotSelector = ids =>\n  ids.map(id => `:not([xname=inp${id}])`)\n\nconst isFieldCollection = (field, context) => (\n  context.querySelectorAll(`[xname=${field.getAttribute('xname')}]`).length > 1 ||\n  context.querySelector(`[xname=${field.getAttribute('xname')}]`).type === 'checkbox' ||\n  field.closest('table[mult=S]') !== null\n)\n\nconst getDefaultAttributes = field => ({\n  id: field.getAttribute('xname').substring(3),\n  codfield: field.getAttribute('name').substring(3)\n})\n\nconst getRowIndex = element => {\n  return element.closest('tr').rowIndex - 1 // ignora a linha de cabealho\n}\n\n/**\n * Public API\n */\nfunction init (\n  { ignored = [], filters = {} } = { ignored: [], filters: {} },\n  context = document\n) {\n  const data = {}\n  const ignoredSelector = getIgnoredNotSelector(ignored)\n  const fields = context.querySelectorAll(`[xname]${ignoredSelector.join()}`)\n\n  document.data = data\n  config.filters = { ...config.filters, ...filters }\n\n  fields\n    .forEach(field => {\n      mount(field, data, context)\n    })\n\n  handleUpdate(\n    document.querySelectorAll('[data-bind]'),\n    data\n  )\n\n  document\n    .querySelectorAll('[data-bind]')\n    .forEach(element => update(element, data))\n}\n\nfunction mount (field, data = document.data, context = document) {\n  field.dataset.id = field.getAttribute('xname').substring(3)\n\n  setTriggers(field, data)\n\n  isFieldCollection(field, context)\n    ? addField.collection(field, data)\n    : addField.single(field, data)\n}\n\nfunction update (element, data = document.data) {\n  const fieldId = element.dataset.bind\n  const filterName = element.dataset.filter\n\n  if (!data[fieldId]) {\n    return\n  }\n\n  const fieldValueIndex = element.dataset.index === '{row}'\n    ? getRowIndex(element)\n    : element.dataset.index || 0\n\n  const fieldValue = Array.isArray(data[fieldId].value)\n    ? data[fieldId].value[fieldValueIndex]\n    : data[fieldId].value\n\n  let fieldText = fieldValue\n\n  if (element.hasAttribute('data-prefix')) {\n    fieldText = fieldValue.substring(2)\n  }\n\n  if (filterName) {\n    const filterFn = config.filters[filterName]\n\n    if (!filterFn) {\n      return console.error(`[Template] Filter function ${filterName} not found`)\n    }\n\n    fieldText = filterFn.call(config.filters, fieldText)\n  }\n\n  element.textContent = fieldText\n}\n\nfunction remove (field, data = document.data) {\n  const fieldId = field.getAttribute('xname').substring(3)\n\n  if (Array.isArray(data[fieldId].value)) {\n    // previne a removao total de campos em tabelas multi-valoradas\n    if (data[fieldId].value.length === 1) {\n      return\n    }\n\n    const fieldValueIndex = getRowIndex(field)\n\n    if (fieldValueIndex < 0) {\n      console.error('[Template] You are trying to remove a field from data that already been deleted from DOM')\n    }\n\n    data[fieldId].value.splice(fieldValueIndex, 1)\n  } else {\n    delete data[fieldId]\n  }\n}\n\nexport default {\n  init,\n  mount,\n  update,\n  remove\n}\n","class ComponentError extends Error {\n  constructor ({ name, message, type, errors } = {}) {\n    super()\n\n    this.name = name || 'ComponentError'\n    this.message = message\n    this.type = type\n  }\n}\n\nexport default ComponentError\n","export function removeOptionPrefix (option, splitSeparator) {\n  return option\n    .split(splitSeparator)[1]\n    .trim()\n}\n","import ComponentError from './component-error'\n\nexport default function resolveReference (reference, component) {\n  // Any QuerySelector string\n  // e.g. 'div > .class'\n  if (typeof reference === 'string') {\n    let elements\n\n    try {\n      elements = [...document.querySelectorAll(reference)]\n    } catch (error) {\n      throw new ComponentError({\n        name: component,\n        message:\n        `Erro ao inicializar a instncia do componente.\\n${reference} no  um seletor vlido`,\n        type: 'reference_queryselector_validation'\n      })\n    }\n\n    if (!elements.length) {\n      throw new ComponentError({\n        name: component,\n        message:\n        `Erro ao inicializar a instncia do componente.\\nNo foi encontrado nenhum elemento para o seletor ${reference}`,\n        type: 'reference_queryselector_empty'\n      })\n    }\n\n    return elements\n  }\n\n  // Single HTML Elements\n  // e.g. document.querySelector('div')\n  if (reference instanceof HTMLElement) {\n    return [reference]\n  }\n\n  // HTML Collection and Node List\n  // HTMLCollection: e.g. document.getElementsByClassName('myClass')\n  // NodeList: e.g. document.querySelectorAll('div')\n  if (reference instanceof HTMLCollection) {\n    return [...reference]\n  }\n\n  // Array of HTML Elements\n  // e.g. [document.querySelector('#a'), document.querySelector('#b')]\n  if (Array.isArray(reference)) {\n    if (!reference.length) {\n      throw new ComponentError({\n        name: component,\n        message:\n        'Erro ao inicializar a instncia do componente.\\nVoc no pode chamar o construtor com array vazio',\n        type: 'reference_array_empty'\n      })\n    }\n\n    reference.forEach(element => {\n      if (!(element instanceof HTMLElement)) {\n        throw new ComponentError({\n          name: component,\n          message:\n          'Erro ao inicializar a instncia do componente\\nVoc no pode chamar o construtor com arrays que possuam elementos diferentes de HTMLElement',\n          type: 'reference_array_validation'\n        })\n      }\n    })\n\n    return reference\n  }\n\n  throw new ComponentError({\n    name: component,\n    message:\n    'Erro ao inicializar a instncia do componente.\\nVoc deve chamar o construtor com strings (seletores CSS), HTMLElement, HTMLElement[], HTMLCollection ou NodeList',\n    type: 'reference_invalid_type'\n  })\n}\n","const ORQUESTRA_DATASOURCE_URL = process.env.DATASOURCE_BASE_URL + process.env.DATASOURCE_EQUIPMENTS\n\nconst getDataFromDataSource = function ({\n  unitId,\n  period,\n  equipmentSector,\n  equipmentGroup\n}) {\n  const url = new URL(ORQUESTRA_DATASOURCE_URL)\n\n  const params = {\n    inppunidadeSesi: unitId,\n    inpperiodoDeReferencia: `${period.getMonth() + 1}/${period.getFullYear()}`,\n    inppequipmentSector: equipmentSector,\n    inpgrupoDeEquipamento: equipmentGroup\n  }\n\n  url.search = new URLSearchParams(params).toString()\n\n  return fetch(url)\n    .then(res => res.json())\n    .then(({ success }) => {\n      return success.map(({ fields }) => fields)\n    })\n}\n\nexport default {\n  getDataFromDataSource\n}\n","const $query = (query) =>\n  document.querySelector(query)\n\nexport default {\n  $pane: $query('#equipments-pane'),\n  $emptyMessage: $query('#equipments-empty-state'),\n  $table: $query('#equipments-table'),\n  form: {\n    $btnSearch: $query('.js-search-equipments'),\n    $unity: $query('[xname=inpunidadeSesi]'),\n    $period: $query('[xname=inpperiodoDeReferencia]'),\n    $sector: $query('[xname=inpsetorEquipamento]'),\n    $group: $query('[xname=inpgrupoDeEquipamento]')\n  },\n  processVariables: {\n    $referenceTermNeeded: $query('[xname=inpnecessarioElaborarTr]')\n  }\n}\n","import config from './equipments-config'\nimport EquipmentsApi from './api/api.equipments'\nimport { FormValidation } from '../../components/form-validation'\n\nconst SearchForm = new FormValidation([\n  {\n    element: '[xname=inpunidadeSesi]',\n    errorMessage: 'Informe uma Unidade para pesquisar'\n  }, {\n    element: '[xname=inpsetorEquipamento]',\n    errorMessage: 'Informe o setor dos equipamentos'\n  }, {\n    element: '[xname=inpperiodoDeReferencia]',\n    errorMessage: 'Informe um perodo'\n  }\n])\n\nlet AppEvents\n\nfunction handleSearch (e) {\n  const validationResult = SearchForm.validate()\n  const params = {\n    unitId: config.form.$unity.value,\n    period: $(config.form.$period).datepicker('getDate'),\n    equipmentSector: config.form.$sector.value,\n    equipmentGroup: config.form.$group.value\n  }\n\n  e.preventDefault()\n\n  if (validationResult.hasErrors) {\n    return\n  }\n\n  addLoadingState()\n  searchEquipments(params)\n}\n\nfunction setReferenceTermNeeded () {\n  const { processVariables } = config\n  const sectorId = this.value\n  const securitySectorsIds = ['04', '05']\n\n  if (securitySectorsIds.includes(sectorId)) {\n    processVariables.$referenceTermNeeded.value = 'No'\n  } else {\n    processVariables.$referenceTermNeeded.value = 'Sim'\n  }\n}\n\nfunction searchEquipments (params) {\n  EquipmentsApi\n    .getDataFromDataSource(params)\n    .then(data => mountTable(data))\n    .catch(err => handleSearchError(err))\n}\n\nfunction mountTable (data) {\n  config.$emptyMessage\n    .classList.add('is-hidden')\n\n  removeLoadingState()\n\n  AppEvents.emit('search-done', data)\n}\n\nfunction handleSearchError (err) {\n  console.error(err)\n  removeLoadingState()\n}\n\nfunction addLoadingState () {\n  config.form.$btnSearch\n    .classList\n    .add('-loading')\n\n  config.$pane\n    .classList\n    .add('-loading')\n\n  config.$table\n    .classList\n    .add('is-hidden')\n}\n\nfunction removeLoadingState () {\n  config.form.$btnSearch\n    .classList\n    .remove('-loading')\n\n  config.$pane\n    .classList\n    .remove('-loading')\n}\n\n/**\n * Public API\n */\nfunction mount (EventEmitter) {\n  AppEvents = EventEmitter\n\n  config.form.$btnSearch\n    .addEventListener('click', handleSearch)\n\n  config.form.$sector\n    .addEventListener('change', setReferenceTermNeeded)\n\n  $(config.form.$period)\n    .datepicker({\n      language: 'pt-BR',\n      startView: 'months',\n      minViewMode: 'months',\n      format: 'M/yyyy'\n    })\n    .attr('autocomplete', 'off')\n}\n\nexport default {\n  mount\n}\n","import config from './equipments-config'\nimport TableExapnd from '../../components/table-expand'\nimport { appendData } from '../../components/table-multivalue'\nimport Template from '../../components/template'\n\nfunction addTagsLocationVariant (table, fieldId) {\n  table\n    .querySelectorAll('tr:not(.header')\n    .forEach(tr => {\n      const tag = tr.querySelector(`[data-bind=\"${fieldId}\"]`)\n      const variant = getTagVariant(tag.textContent)\n\n      tag.classList.add(variant)\n    })\n}\n\nfunction getTagVariant (value) {\n  if (value === 'Interno') {\n    return '-yellow'\n  }\n  if (value === 'Externo') {\n    return '-blue'\n  }\n\n  return null\n}\n\n/**\n * Public API\n */\nfunction mount (tableData) {\n  const tagFieldId = 'metodoCalibracao'\n  const equipmentsTable = TableExapnd(config.$table)\n\n  if (tableData) {\n    appendData(\n      config.$table,\n      tableData\n    )\n  }\n\n  Template.init()\n\n  addTagsLocationVariant(config.$table, tagFieldId)\n\n  config.$table\n    .classList.remove('is-hidden')\n\n  return equipmentsTable\n}\n\nexport default {\n  mount\n}\n","import Form from '../../components/form'\nimport ButtonRadio from '../../components/button-radio'\nimport InputRadio from '../../components/input-radio'\n\nfunction addCertificateFormHandlers () {\n  Form.handler({\n    target: 'calibracaoSegundoNormaTecnica',\n    events: 'change'\n  }, function (value) {\n    if (value === '1. Sim') {\n      Form.showField('normaTecnica')\n    } else {\n      Form.hideField('normaTecnica')\n    }\n  })\n\n  Form.handler({\n    target: 'laboratorioCalibracaoRbc',\n    events: 'change'\n  }, function (value) {\n    const fields = [\n      'certificadosDosPadroesFornecidos',\n      'padoresSecundariosCalibradosRbc',\n      'calibracaoDosPadroesSecundariosNaValidade'\n    ]\n\n    if (value === '2. No') {\n      fields.forEach(field => Form.showField(field))\n    } else {\n      fields.forEach(field => Form.hideField(field))\n    }\n  })\n\n  Form.handler({\n    target: 'equipamentoAptoUtilizacao',\n    events: 'change'\n  }, function (value) {\n    if (value === '2. No') {\n      Form.showField('destinoEquipamento')\n    } else {\n      Form.hideField('destinoEquipamento')\n    }\n  })\n}\n\nfunction addReportFormHandler () {\n  Form.handler({\n    target: 'equipamentoAprovadoPeloFornecedor',\n    events: 'change'\n  }, function (value) {\n    if (value === '2. No') {\n      Form.showField('destinoEquipamento')\n    } else {\n      Form.hideField('destinoEquipamento')\n    }\n  })\n}\n\nfunction handlePreviousAndNextIntervention () {\n  const $lastDate = document.querySelector('[xname=inpultimaCalibracao]')\n  const $nextDate = document.querySelector('[xname=inpproximaCalibracaoPrevisto]')\n\n  const $targets = [\n    $nextDate,\n    document.querySelector('[name=proximaCalibracaoPrevisto]')\n  ]\n\n  // Limpa os campos com as datas da ltima e prxima calibrao\n  // para que sejam validados pelo Orquestra como campos obrigatrios\n  // caso a tarefa seja concluda sem o preenchimento do campo `ultimaCalibracao`\n  $lastDate.value = ''\n  $nextDate.value = ''\n\n  $('[name=ultimaCalibracao]')\n    .on('change', function () {\n      calculateNextIntervention($(this), $lastDate, $targets)\n    })\n}\n\nfunction calculateNextIntervention ($input, $origin, $targets) {\n  if ($input.val() === '') {\n    return [...$targets, $origin].forEach($input => {\n      $input.value = ''\n    })\n  }\n\n  const lastDate = $input.datepicker('getDate')\n  const nextDate = new Date(lastDate)\n  const daysToAdd = parseInt(document.querySelector('[xname=inpqtdDiasFrequenciaCalibracao]').value)\n\n  nextDate.setDate(nextDate.getDate() + daysToAdd)\n\n  $origin.value = dateToStringDate(lastDate)\n\n  $targets.forEach($target => {\n    $target.value = dateToStringDate(nextDate)\n  })\n}\n\nfunction dateToStringDate (date) {\n  return date.toLocaleString('pt-BR', { year: 'numeric', month: 'numeric', day: 'numeric' })\n}\n\n/**\n * Public API\n */\nfunction mount (taskAlias) {\n  ButtonRadio('[data-btn-radio]', { hidePrefix: true })\n  InputRadio('[data-input-radio]', { hidePrefix: true })\n\n  handlePreviousAndNextIntervention()\n\n  if (taskAlias === 'checklist-certificado') {\n    addCertificateFormHandlers()\n  }\n\n  if (taskAlias === 'checklist-relatorio') {\n    addReportFormHandler()\n  }\n}\n\nexport default {\n  mount\n}\n"],"sourceRoot":""}