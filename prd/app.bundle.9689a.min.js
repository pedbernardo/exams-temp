!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){e.btnInsert.onclick="",e.btnInsert.removeEventListener("click",InsertNewRow),e.btnInsert.addEventListener("click",(function(t){s.call(this,t,e)})),e.rows().forEach((function(t){return u(e,t)}))}function u(e,t){var n=t.querySelector(".btn-delete-mv");n.onclick="",n.removeEventListener("click",DeleteRow),n.addEventListener("click",(function(t){d.call(this,t,e)}))}function l(e){return{bubbles:!0,detail:{table:e.table,length:y(e.table),lastRow:m(e.table)}}}function s(e,t){this.dispatchEvent(new CustomEvent("beforeInsert",l(t))),InsertNewRow(this,!0);var n=m(t.table);u(t,n),t.onMount&&t.onMount(n),this.dispatchEvent(new CustomEvent("afterInsert",l(t)))}function d(e,t){var n=l(t);n.detail.deletedRow=this.closest("tr"),t.table.dispatchEvent(new CustomEvent("beforeDelete",n)),DeleteRow(this),t.table.dispatchEvent(new CustomEvent("afterDelete",n))}function f(e){e.querySelector("#BtnInsertNewRow").click(),e.querySelectorAll("tr:not(.header):not(:last-child").forEach((function(e){return e.remove()}))}n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b}));var p=function(e){return e.querySelectorAll("tr:not(.header)")},m=function(e){return e.querySelector("tr:last-child")},y=function(e){return p(e).length},v=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;a(this,e),this.table=o.querySelector(t),this.onMount=n,this.table||console.error("[Table Multivalue] table not found for the following selector: ".concat(t)),this.onMount&&this.table.querySelectorAll("tr:not(.header)").forEach((function(e){return r.onMount(e)})),this.btnInsert=this.table.querySelector("#BtnInsertNewRow"),c(this)}var t,n,r;return t=e,(n=[{key:"static",value:function(){this.table.classList.add("-static")}},{key:"active",value:function(){this.table.classList.remove("-static")}},{key:"reset",value:function(){f(this.table)}},{key:"on",value:function(e,t){this.table.addEventListener(e,t)}},{key:"rows",value:function(){return p(this.table)}},{key:"lastRow",value:function(){return m(this.table)}},{key:"length",value:function(){return y(this.table)}}])&&i(t.prototype,n),r&&i(t,r),e}();function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(e),t.forEach((function(t,o){(n||o>0)&&e.querySelector("#BtnInsertNewRow").click(),Object.entries(t).forEach((function(t){var n=r(t,2),o=n[0],a=n[1],i=m(e).querySelector("[xname=inp".concat(o,"]"));i&&(i.value=a)}))}))}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$(e).find("[xname]"),r=$(e).find("[xid]"),a=o({language:"pt-BR",inputs:n},t);if(r.length>0&&e.classList.add("-readonly"),0===n.length)return console.error("[DatepickerRange] Orquestra inputs not found inside ".concat(e));n.attr("autocomplete","off"),$(e).datepicker(a)}t.a={init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;n.querySelectorAll(e).forEach((function(e){return i(e,t)}))}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={filters:{cnpj:function(e){return e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d)/,"$1.$2.$3/$4-$5")},titleCase:function(e){return e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}}};function c(e,t){$(e).on("change",(function(n){!function(e,t,n){var r=e.target,o=r.value||"",a=t.getAttribute("xname").substring(3),i=document.querySelectorAll("[data-bind=".concat(a,"]"));if("checkbox"===t.type)return t.checked?n[a].value.push(o):n[a].value.splice(n[a].value.indexOf(o),1),u(i,n);if("radio"===t.type)return t.checked&&(n[a].value=o),u(i,n);if(Array.isArray(n[a].value)){var c=r.closest("tr").rowIndex-1;n[a].value[c]=o}else n[a].value=o;u(i,n)}(n,e,t)}))}function u(e,t){e.forEach((function(e){v(e,t)}))}var l=function(e,t){var n=e.value||"",r=p(e);t[r.id]=o({value:n},r)},s=function(e,t){var n="checkbox"===e.type||"radio"===e.type,r=p(e);t[r.id]||(t[r.id]=o({value:"radio"===e.type?null:[]},r)),n&&!e.checked||("radio"!==e.type?t[r.id].value.push(e.value||""):t[r.id].value=e.value)},d=function(e){return e.map((function(e){return":not([xname=inp".concat(e,"])")}))},f=function(e,t){return t.querySelectorAll("[xname=".concat(e.getAttribute("xname"),"]")).length>1||"checkbox"===t.querySelector("[xname=".concat(e.getAttribute("xname"),"]")).type||null!==e.closest("table[mult=S]")},p=function(e){return{id:e.getAttribute("xname").substring(3),codfield:e.getAttribute("name").substring(3)}},m=function(e){return e.closest("tr").rowIndex-1};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.data,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;e.dataset.id=e.getAttribute("xname").substring(3),c(e,t),f(e,n)?s(e,t):l(e,t)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.data,n=e.dataset.bind,r=e.dataset.filter;if(t[n]){var o="{row}"===e.dataset.index?m(e):e.dataset.index,a=Array.isArray(t[n].value)?t[n].value[o]:t[n].value,c=a;if(e.hasAttribute("data-prefix")&&(c=a.substring(2)),r){var u=i.filters[r];if(!u)return console.error("[Template] Filter function ".concat(r," not found"));c=u.call(i.filters,c)}e.textContent=c}}t.a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ignored:[],filters:{}},t=e.ignored,n=void 0===t?[]:t,r=e.filters,a=void 0===r?{}:r,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,l={},s=d(n),f=c.querySelectorAll("[xname]".concat(s.join()));document.data=l,i.filters=o(o({},i.filters),a),f.forEach((function(e){y(e,l,c)})),u(document.querySelectorAll("[data-bind]"),l),document.querySelectorAll("[data-bind]").forEach((function(e){return v(e,l)}))},mount:y,update:v,remove:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.data,n=e.getAttribute("xname").substring(3);if(Array.isArray(t[n].value)){if(1===t[n].value.length)return;var r=m(e);r<0&&console.error("[Template] You are trying to remove a field from data that already been deleted from DOM"),t[n].value.splice(r,1)}else delete t[n]},conditionals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=document.querySelector("#inpDsFlowElementAlias"),n=t?t.value:"";e.querySelectorAll("[data-if]").forEach((function(e){e.dataset.if.replace(/[\s[\]]/g,"").split(",").includes(n)?(e.classList.remove("hidden"),e.removeAttribute("data-if")):e.classList.add("hidden")}))}}},,function(e,t,n){"use strict";function r(e){var t=e.querySelector("label"),n=null===t,r=""!==e.querySelector("[xname]").value,a=o(n,r);if(n)return e.insertAdjacentHTML("beforeend",a);t.insertAdjacentHTML("beforeend",a)}var o=function(e,t){return'<div\n    class="switch-marker '.concat(e?"-readonly":""," ").concat(t&&e?"-active":"",'">\n  </div>')};t.a={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;t.querySelectorAll(e).forEach((function(e){return r(e)}))}}},function(e,t,n){"use strict";function r(e,t){var n=e.closest(t),r=e.querySelector("input[type=radio]").value,a=o(),i=n.querySelector('.radio-card-helper[data-radio-option="'.concat(r,'"]'));e.insertAdjacentHTML("beforeend",a),i&&function(e,t){var n=e.cloneNode(!0);delete n.dataset.radioOption,t.insertAdjacentElement("beforeend",n)}(i,e)}var o=function(){return'<div class="radio-marker"></div>'};t.a={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;t.querySelectorAll("".concat(e," .radio")).forEach((function(t){return r(t,e)}))}}},,,function(e,t,n){"use strict";n.r(t);var r=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).slice().map((function(e){e(n)})),(e["*"]||[]).slice().map((function(e){e(t,n)}))}}};var o=n(2),a=n(4),i=n(5);function c(e){if(!e.nextElementSibling.classList.contains("tab-panes"))return console.error("[Tabs Component] .tab-panes not found, must be used next to .tabs element");e.querySelectorAll(".tab").forEach((function(e){return function(e){e.addEventListener("click",u)}(e)}))}function u(e){e.preventDefault();var t=this.dataset.tab,n=this.classList.contains("-active"),r=this.classList.contains("-disabled");if(!this.closest(".tabs").nextElementSibling.querySelector('.tab-pane[data-tab="'.concat(t,'"]')))return console.error("[Tabs Component] element not found for data-tab ".concat(t));n||r||d(this)}var l=function(e){return e.closest(".tabs").nextElementSibling.querySelector('.tab-pane[data-tab="'.concat(e.dataset.tab,'"]'))};function s(e){e.querySelectorAll(".tab").forEach((function(e){return f(e)}))}function d(e){var t=l(e);s(e.closest(".tabs")),e.classList.add("-active"),e.classList.remove("-pulse"),t.classList.add("-active")}function f(e){var t=l(e);e.classList.remove("-active"),t.classList.remove("-active")}function p(e){e.classList.remove("-disabled")}function m(e){e.classList.contains("-active")||e.classList.add("-pulse")}function y(e){var t=l(e);e.classList.add("-disabled"),e.classList.remove("-active"),t.classList.remove("-active")}var v={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;t.querySelectorAll(e).forEach((function(e){return c(e)}))},reset:s,destroy:function(e){e.querySelectorAll(".tab").forEach((function(e){e.removeEventListener("click",u),f(e),y(e)}))},showTab:d,hideTab:f,enableTab:p,pulseTab:m,disabledTab:y,tab:{show:d,hide:f,enable:p,pulse:m,disabled:y}},b=function(){var e={tabsPane:document.querySelector("#exams-search-panes"),tabs:document.querySelectorAll("".concat("#exams-tabs"," .tab"))},t={emitter:null};function n(){e.tabs.forEach((function(e){v.enableTab(e)}))}function r(e){v.pulseTab(e)}return{mount:function(o){var a=o.emitter;t.emitter=a,t.emitter.on("search-done",n),t.emitter.on("tab-data-found",r),v.init("#exams-tabs"),e.tabs.forEach((function(e,t){if(t>0)return v.disabledTab(e);v.enableTab(e)}))},getTabsPane:function(){return e.tabsPane},getTabs:function(){return e.tabs}}}();const h=(e,t={month:"long",capitalize:!0,lang:"pt-BR"})=>{const n=e.toLocaleString(t.lang,{month:t.month});return t.capitalize?n[0].toUpperCase()+n.slice(1):n},g=e=>e.getMonth()+1,S=(e,t={month:"long",capitalize:!0,lang:"pt-BR"})=>{const n=new Date,r=parseInt(e)-1;n.setMonth(r);const o=n.toLocaleString(t.lang,{month:t.month});return t.capitalize?o[0].toUpperCase()+o.slice(1):o},O=(e,t)=>{const n=new Date(e);return n.setFullYear(e.getFullYear()+t),n};var w=n(1);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){var n=t.querySelector(e.element),r=e.errorMessage;if(!n)return console.error("[Form Validation] element not found for selector: ".concat(e.element));!function(e,t){$(e).on("change",(function(e){q.call(this,e,t)}))}(n,r)}function q(e,t){T(this,t)}function T(e,t,n){return""===e.value?(n||function(e,t){var n=e.closest(".form-group");if(!n)return console.error("[Form Validation] the element must be inside a .form-group container");var r=n.querySelector(".form-help");if(n.classList.add("-error"),r)r.textContent=t;else{var o='<p class="form-help">'.concat(t,"</p>");n.insertAdjacentHTML("beforeend",o)}}(e,t),!0):(n||function(e){var t=e.closest(".form-group"),n=t.querySelector(".form-help");if(!t)return console.error("[Form Validation] the element must be inside a .form-group container");n&&n.remove();t.classList.remove("-error")}(e),!1)}var L=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(E(this,e),this.groups=t,this.context=n,!Array.isArray(t))return console.error("[Form Validation] config parameter must by a array with a element selector, error message and callback (optional)");this.groups.forEach((function(e){return P(e,n)}))}var t,n,r;return t=e,(n=[{key:"validate",value:function(e){var t,n,r,o,a,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({silent:!1},e);return t=this.groups,n=i.silent,r=this.context,o=!1,a=t.map((function(e){var t=r.querySelector(e.element),a=e.errorMessage,i={result:T(t,a,n),error:null};return i.result?(o=!0,i.error=a,i):i})).filter((function(e){return null!==e.error})),{hasErrors:o,errors:a}}}])&&x(t.prototype,n),r&&x(t,r),e}())([{element:"[xname=inpperiodoInicio]",errorMessage:"Informe o período para pesquisa"},{element:"[xname=inpperiodoFim]",errorMessage:"Informe o período para pesquisa"}]),I=function(){var e={section:document.querySelector("#section-exams-form"),periodStart:document.querySelector("[xname=inpperiodoInicio]"),periodEnd:document.querySelector("[xname=inpperiodoFim]"),searchBtn:document.querySelector(".js-search-lives")},t={emitter:null};function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{silent:!1},t=e.silent;return L.validate({silent:t})}function r(e){var r=n().hasErrors;if(e.preventDefault(),r)return r;t.emitter.emit("search-start")}return{mount:function(n){var o=n.emitter;t.validator=L,t.emitter=o,e.searchBtn.addEventListener("click",r),e.section.classList.remove("hidden"),w.a.init("#exams-period",{startDate:O(new Date,-2),endDate:O(new Date,2),startView:"months",minViewMode:"months",format:"M/yyyy"})},getPeriod:function(){return{start:$(e.periodStart).datepicker("getDate"),end:$(e.periodEnd).datepicker("getDate")}},getTrigger:function(){return e.searchBtn},validate:n}}(),k=function(){var e={actionsWrapper:document.querySelector("#controllers #buttons"),btnFinish:document.querySelector("#btnFinish"),actionsWell:document.querySelector("#controllers .well"),alert:null},t={emitter:null};function n(){e.btnFinish.disabled=!1,e.actionsWell.classList.remove("hidden"),e.alert.classList.add("hidden")}return{mount:function(r){var o=r.emitter,a=D("search-data-alert");t.emitter=o,t.emitter.on("search-done",n),e.actionsWrapper.insertAdjacentHTML("beforebegin",a),e.alert=document.querySelector("#".concat("search-data-alert")),e.btnFinish.disabled=!0,e.actionsWell.classList.add("hidden"),e.alert.classList.remove("hidden")}}}(),D=function(e){return'<div class="alert alert-info" id="'.concat(e,'">\n  <strong>Atenção!</strong> Antes de concluir a atividade você deve <strong>pesquisar</strong> por um período de levantamento.\n</div>')};function M(e){e.querySelectorAll(".table-collapse-header th:first-child").forEach((function(e){return function(e){e.addEventListener("click",C)}(e)}))}function C(){var e=this.closest(".table-collapse-header");if(!e)return console.error("[Table Collapse] .table-collapse-header not found, must have a parent .table-collapse-header");_(e)}function R(e){e.querySelectorAll(".table-collapse-header").forEach((function(e){return N(e)}))}function _(e){e.classList.toggle("-collapse")}function N(e){e.classList.remove("-collapse")}function F(e){e.classList.add("-collapse")}var U={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;t.querySelectorAll(e).forEach((function(e){return M(e)}))},expand:R,shrink:function(e){e.querySelectorAll(".table-collapse-header").forEach((function(e){return F(e)}))},destroy:function(e){R(e),e.querySelectorAll(".table-collapse-header th:first-child").forEach((function(e){e.removeEventListener("click",C)}))},toggleGroup:_,showGroup:N,hideGroup:F,group:{toggle:_,show:N,hide:F}},K=n(0),H={emptyMessage:"Não foi encontrado nenhum dado de vidas dentro do período pesquisado.",tabName:"dados-vidas",tableId:"tbl-lives",columns:[{key:"quantityActiveLives",title:"Vidas Ativas",headerPrefix:'<i class="fas fa-plus-circle color-green"></i> '},{key:"quantityInactiveLives",title:"Vidas Inativas",headerPrefix:'<i class="fas fa-minus-circle color-red"></i> '}]},V={emptyMessage:"Não foi encontrada nenhuma interação da Coordenação dentro do período pesquisado.",tabName:"interacoes-coordenacao",tableId:"tbl-coordination",columns:[{key:"quantity",title:"Registros"}]},z={emptyMessage:"Não foi encontrada nenhuma interação no Help+ dentro do período pesquisado.",tabName:"interacoes-help",tableId:"tbl-help-plus",columns:[{key:"quantityDoubts",title:"Dúvidas"},{key:"quantityChanges",title:"Mudanças"},{key:"quantitySupportSPlus",title:"S+",headerPrefix:'<span class="th-sup">Suporte</span>'},{key:"quantitySupportCoord",title:"Méd. Coord.",headerPrefix:'<span class="th-sup">Suporte</span>'},{key:"quantitySupportVivaPlus",title:"Viva+",headerPrefix:'<span class="th-sup">Suporte</span>'}]};var B=function(e){var t=e.key,n=e.config,r=n.columns.findIndex((function(e){return e.key===t}));return r>=0&&n.columns.splice(r,1),n},Y={get:function(e){var t=z;return"PPRA"===e&&(t=B({key:"quantitySupportCoord",config:z})),{lives:H,coord:V,help:t}}};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){for(var t=e.start,n=e.end,r=e.data,o=e.defaultParams,a=[],i=new Date(t.getTime()),c=function(){var e=i.getFullYear(),t=g(i),n=r.find((function(n){var r=n.month,o=n.year;return r===t&&o===e}));n?a.push(n):a.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({month:t,monthName:S(t),year:e},o)),i.setMonth(i.getMonth()+1)};i<=n;)c();return a},Z={quantity:0},Q=function(e){return e.map((function(e){return{month:parseInt(e.txt),monthName:S(e.txt),year:parseInt(e.fields.ano),quantity:parseInt(e.fields.quantidade)}}))};var X={getDataFromPeriod:function(e){return new Promise((function(t,n){(function(e){var t=e.start,n=e.end,r=e.cnpj,o=new URL("https://sisweb.fieb.org.br/FIEB/Orquestra/api/json/datasource/get/1.0/0POMGDbP@kblzrbtsTh-ixzbACYZksABtuuvRmiF4fqlTsvusTNtQmjNOtTW2fan4-z37KkG6iYrdXZGqgVa-A__"),a={inpperiodoInicial:g(t),inpanoInicial:t.getFullYear(),inpperiodoFinal:g(n),inpanoFinal:n.getFullYear(),inpcnpj:r.replace(/\D/g,"")};return o.search=new URLSearchParams(a).toString(),fetch(o).then((function(e){return e.json()})).then((function(e){var r=e.success;return{data:Q(r),start:t,end:n}}))})(e).then((function(e){var n=e.start,r=e.end,o=e.data;if(!o.length)return t(o);var a=J({start:n,end:r,data:o,defaultParams:Z});return t(a)})).catch((function(e){return n(e)}))}))},formatData:function(e){return e.map((function(e){var t={};return t.coordenacaoMesAno="".concat(e.monthName.substring(0,3),"/").concat(e.year),t.coordenacaoRegistros=e.quantity||"-",t}))}};function ee(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae={quantityDoubts:0,quantityChanges:0,quantitySupportSPlus:0,quantitySupportCoord:0,quantitySupportVivaPlus:0},ie=function(e){return e.map((function(e){var t=e.fields,n=re(re({},ae),{},{month:parseInt(t.mes),monthName:S(t.mes),year:parseInt(t.ano)});return n[ce(t.tipoDeDemanda)]=parseInt(t.quantidadeTipo),n}))},ce=function(e){var t="";switch(e){case"Dúvida":t="Doubts";break;case"Mudança nos Programas/Documentos/Exames":t="Changes";break;case"Suporte para o Sistema Informatizado S+":t="SupportSPlus";break;case"Suporte do Médico Coordenador do PCMSO":t="SupportCoord";break;case"Suporte Portal SESI Viva+":t="SupportVivaPlus"}return"quantity"+t};var ue={getDataFromPeriod:function(e){return new Promise((function(t,n){(function(e){var t=e.start,n=e.end,r=e.proposal,o=e.productId,a=new URL("https://sisweb.fieb.org.br/FIEB/Orquestra/api/json/datasource/get/1.0/0POMGDbP@kblzrbtsTh-i47uvALBVC9g7T05HBrAoeJ6IFNJR16V1mVu77cdz5AbTf55O2Te-AE55t2mCRkNsw__"),i={inpperiodoInicial:g(t),inpanoInicial:t.getFullYear(),inpperiodoFinal:g(n),inpanoFinal:n.getFullYear(),inpnumeroDaProposta:r,inpcodProduto:o};return a.search=new URLSearchParams(i).toString(),fetch(a).then((function(e){return e.json()})).then((function(e){var r=e.success;return{data:ie(r),start:t,end:n}}))})(e).then((function(e){var n=e.start,r=e.end,o=e.data;if(!o.length)return t(o);var a=ae,i=function(e){var t;return new Set(e.map((function(e){return e.year}))).forEach((function(n){var r=e.filter((function(e){return e.year===n})),o=ee(new Set(r.map((function(e){return e.month}))));t=o.map((function(t){return e.filter((function(e){return e.month===t})).reduce((function(e,t){return Object.assign(e,t)}),{})}))})),t}(o),c=J({start:n,end:r,defaultParams:a,data:i});return t(c)})).catch((function(e){return n(e)}))}))},formatData:function(e){return e.map((function(e){var t={};return t.helpMesAno="".concat(e.monthName.substring(0,3),"/").concat(e.year),t.helpDuvidas=e.quantityDoubts||"-",t.helpMudancas=e.quantityChanges||"-",t.helpSuporteSMais=e.quantitySupportSPlus||"-",t.helpSuporteMedCoordenacao=e.quantitySupportCoord||"-",t.helpSuporteVivaMais=e.quantitySupportVivaPlus||"-",t}))}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var me,ye=function(){var e={templateHelp:document.querySelector("#template-help"),templateCoord:document.querySelector("#template-coordenacao")},t={alias:null,emitter:null,productType:null};function n(n){var o=fe(n,3),a=o[0],i=o[1],c=o[2],u=Y.get(t.productType),l=u.lives,s=u.help,d=u.coord;r(se({data:a},l)),r(se({data:i},s)),r(se({data:c},d)),["complementacao"].includes(t.alias)&&function(t){var n=t.helpData,r=t.coordData;Object(K.b)(e.templateHelp,ue.formatData(n)),Object(K.b)(e.templateCoord,X.formatData(r))}({helpData:i,coordData:c}),U.init(".table-collapse")}function r(e){var n=e.data,r=e.columns,o=e.tabName,a=e.tableId,i=void 0===a?"":a,c=e.emptyMessage,u=void 0===c?"Não foi encontrada nenhuma informação no período pesquisado.":c,l=document.querySelector('.tab-pane[data-tab="'.concat(o,'"]')),s=document.querySelector('.tab[data-tab="'.concat(o,'"]'));if(!l)return console.error("[Module:ExamsTables] Container element not found for tab: ".concat(o));if(!n.length){var d=ve(u);return l.innerHTML=d,!1}var f=Ee(n,r),p=r.map((function(e){return se({showTotal:!0,showAverage:!0,headerPrefix:"",total:f.summary[e.key],average:f.summary[e.key]/f.summary.rows},e)})),m=ge(p),y=Object.entries(f.entries).map((function(e){var t=fe(e,2),n=t[0],o=t[1];return be(n,o,r)})).join(""),v='<table class="table-collapse -tree -padded -hover" id="'.concat(i,'">').concat(m).concat(y,"</table>").replace(/[\t\n]/g,"").replace(/\s\s+(?=[^><]*<)/g,"");l.innerHTML=v,t.emitter.emit("tab-data-found",s)}return{mount:function(e){var r=e.emitter,o=e.alias,a=e.productType;t.alias=o,t.productType=a,t.emitter=r,t.emitter.on("search-done",n)}}}(),ve=function(e){return'\n<div class="empty">\n<div class="empty-icon">\n  <i class="fas fa-calendar -minus"></i>\n</div>\n<div class="empty-content">\n  <h1 class="empty-title">Nenhuma informação no período</h1>\n  <p class="empty-message">'.concat(e,"</p>\n</div>\n</div>")},be=function(e,t,n){var r=n.map((function(e){var n=t.reduce((function(t,n){return t+n[e.key]}),0),r=se({showTotal:!0,showAverage:!0,average:n/t.length,total:n},e),o=he(r);return se(se({},r),{},{collapsePrefix:o})}));return Oe(e,r)+je(t,n)},he=function(e){if(!e.showTotal&&!e.showAverage)return"";return'\n  <span class="margin-right-m">\n    '.concat(e.showAverage?'<span class="text-summary">(Média)</span>':"","\n    ").concat(e.showTotal?'<span class="text-sub">Total</span>':"","\n  </span>")},ge=function(e){var t=e.map((function(e){return Se(e)}));return'\n<thead>\n  <tr class="-stick">\n    <th></th>\n    '.concat(t.join(""),"\n    <th></th>\n  </tr>\n</thead>")},Se=function(e){var t=e.title,n=e.total,r=e.average,o=e.headerPrefix,a=e.showTotal,i=e.showAverage;return'\n<th class="text-right">\n  <div class="col">'.concat(o).concat(t,'</div>\n  <div class="col ').concat(i||a?"":"hidden",'">\n    <span class="text-small text-summary margin-right-s ').concat(i?"":"hidden",'">\n    ').concat(n>0?"("+r.toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1})+")":"",'</span>\n    <span class="text-small ').concat(a?"":"hidden",'">').concat(n>0?n:"","</span>\n  </div>\n</th>")},Oe=function(e,t){var n=t.map((function(e,t){return we(e,t)}));return'\n<tbody class="table-collapse-header -stick -summary">\n  <tr>\n    <th><i class="table-collapse-indicator fas fa-chevron-down"></i>'.concat(e,"</th>\n    ").concat(n.join(""),"\n    <th></th>\n  </tr>\n</tbody>")},we=function(e,t){var n=e.total,r=e.average,o=e.collapsePrefix,a=e.showTotal,i=e.showAverage;return'\n<th class="text-right">\n  '.concat(0===t?o:"","\n  ").concat(i&&r>0?'<span class="text-summary margin-right-s">('+r.toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1})+")</span>":"","\n  ").concat(a?n>0?n:"-":"","\n</th>")},je=function(e,t){var n=e.map((function(e){return Ae(e,t)}));return'\n<tbody class="table-collapse-group">\n  '.concat(n.join(""),"\n</tbody>")},Ae=function(e,t){var n=t.map((function(t){var n=t.key;return'<td class="text-right">'.concat(e[n]>0?e[n]:"-","</td>")}));return"\n<tr>\n  <td>".concat(e.monthName,"</td>\n  ").concat(n.join(""),"\n  <td></td>\n</tr>\n  ")},Ee=function(e,t){var n=new Set(e.map((function(e){return e.year}))),r=e.reduce((function(e,n,r){return t.forEach((function(t){var o=t.key;o in n&&(0===r?e[o]=n[o]:e[o]+=n[o])})),e}),{});r.rows=e.length;var o={};return n.forEach((function(t){var n=e.filter((function(e){return e.year===t}));o[t]=n})),{entries:o,summary:r}};function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=(xe(me={"Ilhéus":{name:"SESI SUL – ILHEUS",id:521343,exportKey:16741,key:"46955ddfe8a55f287b10",new_exportKey:13945,new_key:"d7ace77d2252d749c02f"},"Euanópolis":{name:"SESI SUL – EUNAPÓLIS",id:521343,exportKey:16741,key:"46955ddfe8a55f287b10",new_exportKey:13945,new_key:"d7ace77d2252d749c02f"},"Teixeira de Freitas":{name:"SESI SUL - TEIXEIRA DE FREITAS",id:521343,exportKey:16741,key:"46955ddfe8a55f287b10",new_exportKey:13945,new_key:"d7ace77d2252d749c02f"},Juazeiro:{name:"SESI NORTE – JUAZEIRO",id:521346,exportKey:22704,key:"9a981dce8f81ada74433",new_exportKey:13847,new_key:"a5e30b1a85b1c8d7842f"},"Vitória da Conquista":{name:"SESI SUDOESTE - VITÓRIA DA CONQUISTA",id:521349,exportKey:14122,key:"19cdb2487b44e42803e5",new_exportKey:13360,new_key:"80614c85ac13e96c159d"}},"Vitória da Conquista",{name:"SESI SUDOESTE - JEQUIÉ",id:521349,exportKey:14122,key:"19cdb2487b44e42803e5",new_exportKey:13360,new_key:"80614c85ac13e96c159d"}),xe(me,"Barreiras",{name:"SESI OESTE – BARREIRAS",id:520981,exportKey:22705,key:"54e4be5fe904c3c7e8eb",new_exportKey:13949,new_key:"55f7887d7165f524543a"}),xe(me,"Feira de Santana",{name:"SESI FEIRA DE SANTANA",id:520980,exportKey:22706,key:"54e4be5fe904c3c7e8eb",new_exportKey:12612,new_key:"ebebf524d770e42c263e"}),xe(me,"Lucaia",{name:"SESI LUCAIA",id:520979,exportKey:16745,key:"7abd67eb04ebbaf3dde7",new_exportKey:12608,new_key:"9eeadb1b256fe39b09a9"}),xe(me,"Luís Eduardo Magalhães",{name:"SESI OESTE – LUIS EDUARDO",id:520978,exportKey:22708,key:"54e4be5fe904c3c7e8eb",new_exportKey:13953,new_key:"99675f2b71a9492025f8"}),me),qe=function(e,t){return e.find((function(e){return t.replace(/\D/g,"")===e.CNPJ.replace(/\D/g,"")&&"1"===e.ATIVO}))},Te=function(e){var t=e.cnpj,n=e.unitId,r=e.exportKey,o=e.apiKey,a=new URL("https://sisweb.fieb.org.br/FIEB/Orquestra/api/json/datasource/get/1.0/0POMGDbP@kblzrbtsTh-i3okaO70qUVTKWwscNkgGwtrx0WtRhGiJiFrrh9C8ifo@dfoY0ONIZjqddg6KYa0yA__"),i={inpcodUnidade:n,inpcodExportaDadosNovo:r,inpchaveExportaNovo:o};return a.search=new URLSearchParams(i).toString(),fetch(a).then((function(e){return e.json()})).then((function(e){var t=e.success;if("true"===t[0].fields.error)throw Error(t[0].fields.msg);return JSON.parse(t[0].txt)})).then((function(e){var n=qe(e,t);if(!n)throw alert("Infelizmente não é possível realizar a sua pesquisa.\n\nNão foi encontrada nenhuma empresa com o seguinte CNPJ no S+:\n".concat(t)),Error("Empresa não encontrada para o CNPJ informado");return n.CODIGO}))};function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e){var t=e.date,n=e.companyId,r=e.exportKey,o=e.apiKey,a=t.getFullYear(),i=h(t),c=new URL("https://sisweb.fieb.org.br/FIEB/Orquestra/api/json/datasource/get/1.0/0POMGDbP@kblzrbtsTh-i4bAEctWUzVlate2vkdUkTdKkF8C@WWPEygXtx6C0TZ1phfzHAYYrgOHWWD4Z4RBSw__"),u={inpano:a,inpmes:g(t),inpempresaDeAtendimento:n,inpcodExportaDados:r,inpchaveExporta:o};return c.search=new URLSearchParams(u).toString(),fetch(c).then((function(e){return e.json()})).then((function(e){var t=e.success;return"true"===t[0].fields.error?(console.info(t[0].fields.msg),null):JSON.parse(t[0].txt)})).then((function(e){return Ie(Ie({},Me(e)),{},{year:a,monthName:i})}))},Me=function(e){return e?e.reduce((function(e,t){return"Ativo"===t.situacaoFuncionario?e.quantityActiveLives+=1:e.quantityInactiveLives+=1,e}),{quantityActiveLives:0,quantityInactiveLives:0}):{quantityActiveLives:0,quantityInactiveLives:0}};var Ce={getDataFromPeriod:function(e){for(var t=e.start,n=e.end,r=e.companyId,o=e.exportKey,a=e.apiKey,i=[],c=new Date(t.getTime());c<=n;){var u=De({date:c,companyId:r,exportKey:o,apiKey:a});i.push(u),c.setMonth(c.getMonth()+1)}return new Promise((function(e,t){Promise.all(i).then((function(t){return e(t)})).catch((function(e){return t(e)}))}))}};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=function(){var e={companyId:document.querySelector("[xname=inpcodEmpresaSmais]"),companyCnpj:document.querySelector("[xname=inpcnpjEmpresaDeAtendimento]"),proposalId:document.querySelector("[xname=inpnumeroDaProposta]"),productId:document.querySelector("[xname=inpcodProduto]"),productType:document.querySelector("[xname=inptipoProduto]"),unityName:document.querySelector("[xname=inpunidadeProspectora]"),trigger:I.getTrigger(),pane:b.getTabsPane()},t={alias:null,emitter:null,companyCnpj:e.companyCnpj.value,proposalId:e.proposalId.value,productId:e.productId.value,productType:e.productType.value};function n(){var n=function(e){var t=Object.values(Pe).find((function(t){return t.name===e}));if(!t)return console.error("[Module:Exams] Unit not found: ".concat(e)),null;return t}(e.unityName.value),u=t.companyCnpj;[e.trigger,e.pane].forEach((function(e){return e.classList.add("-loading")})),Promise.resolve({cnpj:u,keys:n}).then(r).then((function(t){return e.companyId.value=t,_e(_e({},n),{},{companyId:t})})).then(o).then(a).catch(i).finally(c)}function r(t){var n=t.cnpj,r=t.keys,o=e.companyId.value;return""!==o?o:Te({cnpj:n,unitId:r.id,exportKey:r.new_exportKey,apiKey:r.new_key})}function o(e){var n=e.exportKey,r=e.key,o=e.companyId,a=I.getPeriod(),i=a.start,c=a.end,u=Ce.getDataFromPeriod({start:i,end:c,exportKey:n,companyId:o,apiKey:r}),l=ue.getDataFromPeriod({start:i,end:c,proposal:t.proposalId,productId:t.productId}),s=X.getDataFromPeriod({start:i,end:c,cnpj:t.companyCnpj});return Promise.all([u,l,s])}function a(e){t.emitter.emit("search-done",e)}function i(e){console.error("[Module:Exams] Something went wrong during the search"),console.error(e)}function c(){[e.trigger,e.pane].forEach((function(e){return e.classList.remove("-loading")}))}return{init:function(e){var r=e.alias,o=e.emitter,a=["elaboracao","complementacao","elaboracaoAnual","complementacaoAnual"].includes(r);t.emitter=o,t.alias=r,t.emitter.on("search-start",n),a&&function(){var e=I.validate({silent:!0}).hasErrors,n=t.alias,r=t.emitter,o=t.productType;I.mount({emitter:r}),b.mount({emitter:r}),ye.mount({emitter:r,alias:n,productType:o}),"elaboracao"===t.alias&&k.mount({emitter:r});e||t.emitter.emit("search-start")}()}}}();function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}function ze(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(n,e);var t=Ve(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.name,a=r.message,i=r.type;r.errors;return Ke(this,n),(e=t.call(this)).name=o||"ComponentError",e.message=a,e.type=i,e}return n}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));function Ye(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et={baseHeight:30,textareaClass:"textarea-autosize"};function tt(e,t){var n=function(e,t){if("string"==typeof e){var n;try{n=Ye(document.querySelectorAll(e))}catch(n){throw new Be({name:t,message:"Erro ao inicializar a instância do componente.\n".concat(e," não é um seletor válido"),type:"reference_queryselector_validation"})}if(!n.length)throw new Be({name:t,message:"Erro ao inicializar a instância do componente.\nNão foi encontrado nenhum elemento para o seletor ".concat(e),type:"reference_queryselector_empty"});return n}if(e instanceof HTMLElement)return[e];if(e instanceof HTMLCollection)return Ye(e);if(Array.isArray(e)){if(!e.length)throw new Be({name:t,message:"Erro ao inicializar a instância do componente.\nVocê não pode chamar o construtor com array vazio",type:"reference_array_empty"});return e.forEach((function(e){if(!(e instanceof HTMLElement))throw new Be({name:t,message:"Erro ao inicializar a instância do componente\nVocê não pode chamar o construtor com arrays que possuam elementos diferentes de HTMLElement",type:"reference_array_validation"})})),e}throw new Be({name:t,message:"Erro ao inicializar a instância do componente.\nVocê deve chamar o construtor com strings (seletores CSS), HTMLElement, HTMLElement[], HTMLCollection ou NodeList",type:"reference_invalid_type"})}(e,(t=Qe(Qe(Qe({},et),t),{},{name:"TextareaAutosize"})).name);return n instanceof HTMLElement?nt(We(n,1)[0],t):n.map((function(e){return nt(e,t)})).filter((function(e){return void 0!==e}))}function nt(e,t){var n=function(e,t){var n="textarea"===e.nodeName.toLowerCase()?e:e.querySelector("textarea[xname]"),r=e.querySelector("div[xid]"),o=e.querySelector("input[type=hidden][xname]");if(!n&&!r&&!o)throw new Be({name:t.name,message:"Erro ao criar a instância do componente.\nNenhum campo do Orquestra encontrado para a referência informada",type:"instace_field_not_found"});return{textarea:n,textvalue:r}}(e,t).textarea;if(!n)return!1;var r,o={element:e,textarea:n,update:function(){a.apply(o.textarea)},destroy:function(){o.textarea.classList.remove("textarea-autosize"),o.textarea.removeEventListener("input",a),o.textarea.removeEventListener("focus",a)}};return function(e){e.addEventListener("input",a),e.addEventListener("focus",a)}(n),o.textarea.classList.add(t.textareaClass),(r=o.textarea.cloneNode(!0)).style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      box-sizing: border-box;\n      height: ".concat(t.baseHeight,"px;\n      overflow: hidden;\n      resize: none;\n      visibility: hidden;\n      pointer-events: none;\n    "),document.body.append(r),a.apply(r),r.remove(),n._textareaAutosize=o,o;function a(){var e=function(e){return e.style.height=0,(e.scrollHeight+2)/t.baseHeight*t.baseHeight}(this);o.textarea.style.height="".concat(e,"px")}}function rt(e){return function(e){if(Array.isArray(e))return ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t){var n=e.querySelector("select");if(e.querySelector(".btn-group"))ft(e);else{var r=lt(n,t),o=st(r);n.insertAdjacentHTML("afterend",o)}ct.apply(n),n.addEventListener("change",ct),e.querySelectorAll(".btn-radio").forEach((function(e){return function(e){e.addEventListener("click",it)}(e)}))}function it(){var e=this.dataset.option,t=this.closest(".btn-radio-wrapper"),n=t.querySelector("select");ft(t),this.classList.add("-active"),n.value=e}function ct(){var e=this.closest(".btn-radio-wrapper");if(""===this.value)return ft(e);var t=e.querySelector(".btn-radio[data-option='".concat(this.value,"']"));it.apply(t)}function ut(e){e.classList.remove("-active")}var lt=function(e,t){return rt(e.options).filter((function(e){return e.value})).map((function(e){var n=e.value,r=t?n.substring(2):n;return{value:n,label:r}}))},st=function(e){var t=e.map((function(e){return dt(e)}));return'<div class="btn-group">'.concat(t.join(""),"</div>")},dt=function(e){var t=e.value,n=e.label;return'<button type="button" class="btn btn-radio" data-option="'.concat(t,'">').concat(n,"</button>")};function ft(e){e.querySelectorAll(".btn-radio").forEach((function(e){return ut(e)}))}var pt={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;n.querySelectorAll(e).forEach((function(e){return at(e,t)}))},reset:ft,destroy:function(e){e.querySelectorAll(".btn-radio").forEach((function(e){e.removeEventListener("click",it),ut(e)}))}},mt=function(){var e={section:document.querySelector("#section-actions"),table:document.querySelector("#tbl-actions"),executedLabels:document.querySelectorAll("[xid=divplanoExecutado]"),periodStart:document.querySelector("[xname=inpperiodoInicio]"),pertiodEnd:document.querySelector("[xname=inpperiodoFim]")},t={alias:null};function n(e){pt.init(".btn-radio-wrapper",!0,e),tt(e.querySelector("[xname=inp".concat("planoAcompanhamento","]"))),w.a.init(".input-monthrange",{startView:"months",minViewMode:"months",format:"M/yyyy"},e)}function r(e){var t=e.textContent.substring(2),n=e.closest("td"),r=n.querySelector(".btn-radio-wrapper"),o=yt(t);n.insertAdjacentHTML("beforeend",o),r.classList.add("hidden"),e.classList.add("hidden")}return{mount:function(o){var a=o.alias,i=o.hasToResetTable,c=["complementacao","complementacaoAnual"].includes(a),u=["complementacao"].includes(a);if(t.alias=a,c)return e.table.classList.add("-readonly","-hover"),e.executedLabels.forEach(r),void w.a.init("".concat("#tbl-actions"," .input-monthrange"),{});var l=new K.a("#tbl-actions",n);return u&&l.static(),i&&l.reset(),l},hasToMount:function(e){var t=e.alias;return["elaboracao","complementacao","elaboracaoAnual","complementacaoAnual"].includes(t)},show:function(){e.section.classList.remove("hidden")},destroy:function(){e.section.remove()}}}(),yt=function(e){return'<span class="tag '.concat(vt(e),'">').concat(e,"</span>")},vt=function(e){return"Sim"===e?"-success":"Não"===e?"-danger":"Parcial"===e?"-warning":(console.error("[Module:TableActions] Unknow executed value: ".concat(e)),"")},bt=function(){var e={section:document.querySelector("#section-recommendations"),table:document.querySelector("#tbl-recommendations"),executedLabels:document.querySelectorAll("[xid=divplanoExecutado]")},t={alias:null};function n(e){pt.init(".btn-radio-wrapper",!0,e),tt(e.querySelector("[xname=inp".concat("recomendacoesDescricao","]"))),w.a.init(".input-monthrange",{startView:"months",minViewMode:"months",format:"M/yyyy"},e)}return{mount:function(r){var o=r.alias,a=r.hasToResetTable,i=["elaboracaoAnual","complementacaoAnual"].includes(o);if(t.alias=o,i)return e.table.classList.add("-readonly","-hover"),void w.a.init("".concat("#tbl-recommendations"," .input-monthrange"),{});var c=new K.a("#tbl-recommendations",n);return a&&c.reset(),c},hasToMount:function(e){var t=e.alias,n=e.productType;return["complementacao","elaboracaoAnual","complementacaoAnual"].includes(t)||"PPRA"===n&&"elaboracao"===t},show:function(){e.section.classList.remove("hidden")},destroy:function(){e.section.remove()}}}();function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||St(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||St(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wt,jt,At=function(){var e={normal:"examesNormais",altered:"examesAlterados",total:"examesTipoTotal"},t={section:document.querySelector("#section-exams"),table:document.querySelector("#tbl-exams"),tableSummary:document.querySelector("#tbl-exames-total"),alert:document.querySelector("#exams-alert"),reportDate:document.querySelector("[xname=inpdataCicloRelatorio]")},n={alias:null,productType:null};function r(t){var n=t.querySelector("[data-bind=".concat(e.total,"]")),r=u(t),i=l(t),c=i.examesNormais,s=i.examesAlterados;c.input.addEventListener("change",a),s.input.addEventListener("change",a),o.a.mount(r),o.a.update(n)}function a(){var e=new Event("change"),t=l(this.closest("tr")),n=t.examesNormais,r=t.examesAlterados,o=t.examesTipoTotal;o.input.value=r.value+n.value,o.input.dispatchEvent(e),c()}function i(e){var t=u(e.detail.deletedRow);o.a.remove(t)}function c(){var e=new Event("change"),n=function(){var e=gt(t.table.querySelectorAll("tr:not(.header)")).map(l),n=e.reduce((function(e,t){return Object.entries(t).forEach((function(t){var n=ht(t,2),r=n[0],o=n[1];e[r]?e[r]+=o.value:e[r]=o.value})),e}),{});return{rows:e,total:n}}().total;t.summary.totalNormal.value=n.examesNormais,t.summary.totalAltered.value=n.examesAlterados,t.summary.total.value=n.examesTipoTotal,Object.values(t.summary).forEach((function(t){return t.dispatchEvent(e)}))}function u(t){return t.querySelector("[xname=inp".concat(e.total,"]"))}function l(t){return Object.values(e).reduce((function(e,n){var r=t.querySelector("[xname=inp".concat(n,"]")),o=parseInt(r.value)||0;return e[n]={input:r,value:o},e}),{})}return{mount:function(e){var o,a=e.alias,u=e.productType,l=e.hasToResetTable,s=["complementacao","elaboracaoAnual","complementacaoAnual"].includes(a),d=["elaboracaoAnual","complementacaoAnual"].includes(a)&&"PCMSO"===u;if(n.alias=a,d&&(o=(e=>{const[t,n,r]=e.split("/");return new Date(r,n-1,t)})(t.reportDate.value),t.alert.textContent=Et(o)),s)t.table.classList.add("-readonly","-hover");else{var f=new K.a("#tbl-exams",r);l&&f.reset(),f.on("beforeDelete",i),f.on("afterDelete",c),t.summary={totalNormal:t.tableSummary.querySelector("[xname=inpexamesTotalNormal]"),totalAltered:t.tableSummary.querySelector("[xname=inpexamesTotalAlterado]"),total:t.tableSummary.querySelector("[xname=inpexamesTotalGlobal]")}}},hasToMount:function(e){var t=e.alias,n=e.productType;return["elaboracao","complementacao","elaboracaoAnual","complementacaoAnual"].includes(t)&&"PCMSO"===n},show:function(){t.section.classList.remove("hidden")},destroy:function(){t.section.remove()}}}(),Et=function(e){var t=((e,t)=>{const n=new Date(e);return n.setMonth(e.getMonth()+t),n})(e,-5),n=h(t),r=t.getFullYear();return"Os dados abaixo são referentes ao relatório semestral elaborado em ".concat(n,"/").concat(r,".")},xt=function(){var e={productType:document.querySelector("[xname=inptipoProduto]"),periodStart:document.querySelector("[xname=inpperiodoInicio]"),pertiodEnd:document.querySelector("[xname=inpperiodoFim]")},t={alias:null,emitter:null,productType:e.productType.value};function n(n){var r,o,a,i={alias:t.alias,productType:t.productType,hasToResetTable:(r=t.alias,o=["elaboracao"].includes(r),a=""===e.periodStart.value&&""===e.pertiodEnd.value,o&&a)},c=n.hasToMount(i);return c?n.mount(i):n.destroy(),c}function r(){t.tables.forEach((function(e){return e.show()}))}return{init:function(e){var o=e.alias,a=e.emitter,i=["elaboracao","complementacao","elaboracaoAnual","complementacaoAnual"].includes(o);t.alias=o,t.emitter=a,i&&(t.emitter.on("search-done",r),t.tables=[mt,bt,At].filter(n))}}}(),Pt=(wt={reviwerCodUser:document.querySelector("[xname=inpprofissionalAprovador]"),ppraCodUser:document.querySelector("[xname=inpengenheiroTxt]"),pcmsoCodUser:document.querySelector("[xname=inpresponsavelPelaExecucaoDoServico]"),productId:document.querySelector("[xname=inpcodProduto]"),productType:document.querySelector("[xname=inptipoProduto]")},jt={productId:wt.productId.value,productType:wt.productType.value,reviwer:wt.reviwerCodUser.value},{init:function(){var e,t;""===wt.productType.value&&(e=qt(jt.productId),wt.productType.value=e,jt.productType=e),""===wt.reviwerCodUser.value&&(t=function(e){return"PPRA"===e?wt.ppraCodUser.value:"PCMSO"===e?wt.pcmsoCodUser.value:(console.error("[Module:TaskReviewer] Unknow product type: ".concat(e)),null)}(jt.productType),wt.reviwerCodUser.value=t,jt.reviwer=t)}}),qt=function(e){return"2.02.01.01.03.001.001"===e?"PPRA":"2.02.01.01.08.001.001"===e?"PCMSO":(console.error("[Module:TaskReviewer] Unknow product id: ".concat(e)),null)};const Tt=e=>e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");function Lt(e){var t=e.querySelectorAll("li:not(:first-child)"),n=kt(t.length);e.insertAdjacentHTML("beforeend",n),function(e){e.querySelectorAll(".list-trunk-toggler").forEach((function(e){return e.addEventListener("click",It)}))}(e)}function It(){this.closest("ul").classList.toggle("-active")}var kt=function(e){return'\n<span class="list-trunk-toggler" data-trunk="more">Mostrar mais '.concat(e,'</span>\n<span class="list-trunk-toggler" data-trunk="less">Mostrar menos</span>\n')};var Dt={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;t.querySelectorAll(e).forEach((function(e){return Lt(e)}))}},Mt=function(){var e={wrapper:document.querySelector("#contacts-list")};return{mount:function(t){var n=Ct(t);e.wrapper.insertAdjacentHTML("beforeend",n),t.length&&Dt.init(".list-trunk")}}}(),Ct=function(e){if(!e.length)return'<span class="form-text"><i>Nenhum contato informado</i></span>';var t=e.map((function(e){return Rt(e)})).join("");return'<ul class="list-trunk">'.concat(t,"</ul>")},Rt=function(e){var t=e.contato,n=e.emailEmpresa;return'<li>\n  <span class="form-text">'.concat(Tt(t),'</span>\n  <span class="form-text text-small -gapless">').concat(n,"</span>\n</li>")};function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e){return function(e){if(Array.isArray(e))return Kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e,t){var n=t.inputPlaceholder,r=t.errorMessage,o=Xt(n,r);if(e.insertAdjacentHTML("beforeend",o),t.readonly?(t.editable=!1,t.removeable=!1,function(e){var t=Zt(e);e.classList.add("-readonly"),t.style.display="none"}(e)):function(e,t){var n=Zt(e);e.addEventListener("click",(function(){tn(this)})),n.addEventListener("focus",$t),n.addEventListener("blur",Bt),n.addEventListener("change",(function(){Yt(this,t)})),n.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),Yt(this,t))}))}(e,t),""!==t.target.value){var a=t.target.value;return t.target.value="",a.split(";").forEach((function(n){return an(e,n,t)}))}if(t.data)return t.data.forEach((function(n){return an(e,n,t)}))}function Vt(e,t,n){var r=e.querySelector(".chip-input-wrapper"),o=Qt(t),a=en(o,n),i=new Event("change");r.insertAdjacentHTML("beforebegin",a);var c=n.target.value,u=Ut(e.querySelectorAll(".chip")).pop(),l=u.querySelector('.chip-action[data-chip-action="remove"]'),s=u.querySelector('.chip-action[data-chip-action="edit"]');n.target.value=""===c?o:"".concat(c,";").concat(o),n.target.dispatchEvent(i),l&&l.addEventListener("click",(function(){Gt.call(this,n.target)})),s&&(u.addEventListener("dblclick",(function(){Wt.call(s,n)})),s.addEventListener("click",(function(){Wt.call(this,n)})))}function zt(e,t){var n=e.closest(".chips"),r=Jt(e),o=t.target.value.split(";")[r],a=Xt("",t.errorMessage,o);t=Nt(Nt({},t),{},{chip:e,value:o,index:r}),e.insertAdjacentHTML("afterend",a),e.classList.add("hidden"),sn(n);var i=n.querySelector(".chip-input");i.focus(),i.setSelectionRange(0,i.value.length),i.addEventListener("focus",$t),i.addEventListener("blur",(function(){!function(e,t){var n=t.validation,r=t.target,o=t.chip,a=t.value,i=t.index,c=r.value.split(";"),u=e.closest(".chips"),l=e.value,s=new Event("change"),d=!0;if(nn(u),l===a)return o.classList.remove("hidden"),on(u),ln(u);if(""===l)return on(u),un(o,r),ln(u);n&&(d=n(l));d?(c[i]=l,r.value=c.join(";"),r.dispatchEvent(s),o.childNodes[0].nodeValue=l,o.classList.remove("hidden"),on(u),ln(u)):rn(u)}(this,t)})),i.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),this.blur())}))}function $t(){tn(this.closest(".chips"))}function Bt(){nn(this.closest(".chips"))}function Yt(e,t){var n=t.validation,r=e.closest(".chips"),o=e.value,a=!0;return""===o?on(r):!n||n instanceof Function?(n&&(a=n(o)),void(a?(e.value="",an(r,o,t),on(r)):rn(r))):console.error("[Chips] The parameter config.validation must be a function")}function Gt(e){un(this.closest(".chip"),e)}function Wt(e){cn(this.closest(".chip"),e)}var Jt=function(e){return Ut(e.closest(".chips").querySelectorAll(".chip")).indexOf(e)},Zt=function(e){return e.querySelector(".chip-input")},Qt=function(e){return e.replace(/[^[A-zÀ-ú0-9_@.()\s]+/g,"").replace(/\s+/g," ")},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Adicionar",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return'\n<div class="chip-input-wrapper" '.concat(t?'data-error-msg="'.concat(t,'"'):"",'>\n  <input type="text" class="chip-input" placeholder="').concat(e,'" value="').concat(n,'"/>\n</div>')},en=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{editable:!1,removeable:!0},n=t.editable,r=void 0!==n&&n,o=t.removeable,a=void 0===o||o,i='<i class="chip-action" data-chip-action="edit"></i>',c='<i class="chip-action" data-chip-action="remove"></i>';return'\n<div class="chip '.concat(r?"-editable":"",'">\n  ').concat(e).concat(r?i:"").concat(a?c:"","\n</div>").replace(/[\t\n]/g,"").replace(/\s\s+(?=[^><]*<)/g,"")};function tn(e){var t=Zt(e);e.classList.add("-focus"),t.focus()}function nn(e){var t=Zt(e);e.classList.remove("-focus"),t.blur()}function rn(e){e.classList.add("-error")}function on(e){e.classList.remove("-error")}function an(e,t,n){Vt(e,t,n)}function cn(e,t){zt(e,t)}function un(e,t){var n=Jt(e),r=new Event("change");t.value=function(e,t){var n=e.value.split(";");return n.splice(t,1),n.join(";")}(t,n),t.dispatchEvent(r),e.remove()}function ln(e){var t=Ut(e.querySelectorAll(".chip-input-wrapper")),n=t.pop();t.forEach((function(e){return e.remove()})),n.classList.remove("hidden"),n.querySelector(".chip-input").focus()}function sn(e){Ut(e.querySelectorAll(".chip-input-wrapper")).pop().classList.add("hidden")}var dn={init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;n.querySelectorAll(e).forEach((function(e){return Ht(e,t)}))},focus:tn,blur:nn,addError:rn,removeError:on,addChip:an,editChip:cn,removeChip:un,enableAdd:ln,disabledAdd:sn};function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yn=function(){var e={wrapper:document.querySelector("#send-to-group"),placeholder:document.querySelector("[xname=inpenviarRelatorioPara]"),input:document.querySelector("[xname=inplistaEmailsRelatorio]")};function t(){e.input.value=bn(this.value).join(";")}return{mount:function(n,r){var o=function(t){if(""!==e.placeholder.value)return e.placeholder.value.split(";");if(!t.length)return t;return t.map(vn)}(n),a={readonly:r,editable:!r};dn.init(".chips",pn(pn({},a),{},{data:o,inputPlaceholder:"Adicionar E-mail",target:e.placeholder,errorMessage:"Formato de e-mail inválido",validation:hn})),e.placeholder.addEventListener("change",t),t.call(e.placeholder)},show:function(){e.wrapper.classList.remove("hidden")},hide:function(){e.wrapper.classList.add("hidden")}}}(),vn=function(e){var t=e.contato,n=e.emailEmpresa;return"".concat(Tt(t)," (").concat(n,")")},bn=function(e){return e.split(";").map(gn)},hn=function(e){var t=gn(e);return!(e.split(")").length>2||e.split("(").length>2||e.includes("(")&&")"!==e.slice(-1))&&(e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()))(t)},gn=function(e){var t=e.replace(")","").split("(");return t.length>1?t[1]:t[0]},Sn=function(){var e={sendReport:{group:document.querySelector("#send-report"),field:document.querySelector("[xname=inpenviarEmail]")},reportType:{group:document.querySelector("#report-type"),field:document.querySelectorAll("[xname=inptipoTemplate]")}},t={emitter:null};function n(){return t.emitter.emit("send-report-change",this.checked),this.checked?void e.reportType.field.forEach((function(e){e.disabled=!1,e.setAttribute("required","S")})):void e.reportType.field.forEach((function(e){e.disabled=!0,e.checked=!1,e.setAttribute("required","N")}))}return{mount:function(r){var o=r.emitter;t.emitter=o,e.sendReport.group.classList.remove("hidden"),e.reportType.group.classList.remove("hidden"),e.sendReport.field.addEventListener("change",n),n.call(e.sendReport.field)}}}();function On(e){return function(e){if(Array.isArray(e))return wn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jn=function(){var e={contacts:[],alias:null,emitter:null},t={section:document.querySelector("#section-send-options")};function n(){var n=["elaboracaoAnual","complementacaoAnual","formatacaoAnual"].includes(e.alias),r=["elaboracao","complementacao"].includes(e.alias);t.section.classList.remove("hidden"),n&&yn.show(),r&&Sn.mount({emitter:e.emitter})}function r(e){e?yn.show():yn.hide()}return{init:function(t){var o=t.alias,a=t.emitter,i=["formatacaoAnual"].includes(o);e.contacts=An(["contato","emailEmpresa"]),e.alias=o,e.emitter=a,e.emitter.on("search-done",n),e.emitter.on("send-report-change",r),yn.mount(e.contacts,i),Mt.mount(e.contacts),i&&n()}}}(),An=function(e){var t=Math.max.apply(Math,On(e.map((function(e){return document.querySelectorAll("[xname=inp".concat(e,"]")).length}))));return Array(t).fill(null).map((function(t,n){return e.reduce((function(e,t){var r=document.querySelectorAll("[xname=inp".concat(t,"]"))[n].value;return r&&(e[t]=r),e}),{})})).filter((function(e){return Object.keys(e).length}))};function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pn=r(),qn=document.querySelector("#inpDsFlowElementAlias").value;o.a.init({filters:{product:function(e){var t=En(e.split("-"),2),n=t[0],r=t[1];return"".concat(n.toUpperCase()," - ").concat(this.titleCase(r))}}}),o.a.conditionals(),a.a.init(".switch"),i.a.init(".radio-card"),Pt.init(),jn.init({alias:qn,emitter:Pn}),xt.init({alias:qn,emitter:Pn}),Fe.init({alias:qn,emitter:Pn})}]);
//# sourceMappingURL=app.bundle.9689a.min.js.map