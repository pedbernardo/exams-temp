{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/components/table-multivalue.js","webpack:///./src/js/components/datepicker-range.js","webpack:///./src/js/components/template.js","webpack:///./src/js/components/switch.js","webpack:///./src/js/components/radio-card.js","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./src/js/components/tabs.js","webpack:///./src/js/modules/exams-search/exams-tabs.js","webpack:///./node_modules/orquestra-helpers/src/dates.js","webpack:///./src/js/components/form-validation.js","webpack:///./src/js/modules/exams-search/exams-form.js","webpack:///./src/js/modules/exams-search/exams-controls.js","webpack:///./src/js/components/table-collapse.js","webpack:///./src/js/modules/exams-search/exams-table-config.js","webpack:///./src/js/modules/exams-search/api/util.js","webpack:///./src/js/modules/exams-search/api/api.coordination.js","webpack:///./src/js/modules/exams-search/api/api.help-plus.js","webpack:///./src/js/modules/exams-search/exams-tables.js","webpack:///./src/js/modules/exams-search/keys.js","webpack:///./src/js/modules/exams-search/api/api.s-plus.js","webpack:///./src/js/modules/exams-search/api/api.lives.js","webpack:///./src/js/modules/exams-search/index.js","webpack:///./src/js/helpers/component-error.js","webpack:///./src/js/components/textarea-autosize.js","webpack:///./src/js/helpers/component-reference.js","webpack:///./src/js/components/button-radio.js","webpack:///./src/js/modules/tables/table-actions.js","webpack:///./src/js/modules/tables/table-recommendations.js","webpack:///./src/js/modules/tables/table-occupational-exams.js","webpack:///./src/js/modules/task-reviewer/index.js","webpack:///./src/js/modules/tables/index.js","webpack:///./node_modules/orquestra-helpers/src/strings.js","webpack:///./src/js/components/list-trunk.js","webpack:///./src/js/modules/reports/report-contacts.js","webpack:///./src/js/components/chips.js","webpack:///./src/js/modules/reports/report-send-to.js","webpack:///./src/js/modules/reports/report-type.js","webpack:///./src/js/modules/reports/index.js","webpack:///./src/js/app.js","webpack:///./node_modules/orquestra-helpers/src/forms.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","registerEvents","tableInstance","btnInsert","onclick","removeEventListener","InsertNewRow","addEventListener","e","handeClick","this","rows","forEach","row","registerRowEvents","btnDelete","querySelector","DeleteRow","handleRemove","getEventConfig","bubbles","detail","table","length","getTableRowsLength","lastRow","getLastRow","dispatchEvent","CustomEvent","newestRow","onMount","eventConfig","deletedRow","closest","removeRows","click","querySelectorAll","remove","getRows","TableMultivalue","tableElementSelector","context","document","console","error","classList","add","eventName","callback","appendData","data","addFirstRow","field","rowIndex","entries","id","mount","container","datepickerOptions","inputs","$","find","labels","options","language","attr","datepicker","init","containerElementSelector","config","filters","cnpj","replace","titleCase","toLowerCase","split","map","word","charAt","toUpperCase","slice","join","setTriggers","on","input","target","newValue","getAttribute","substring","binds","type","checked","push","splice","indexOf","handleUpdate","Array","isArray","index","handleChange","element","update","addField","defaultAttr","getDefaultAttributes","isInputMultiple","getIgnoredNotSelector","ids","isFieldCollection","codfield","getRowIndex","dataset","fieldId","filterName","filter","fieldValueIndex","fieldValue","fieldText","hasAttribute","filterFn","textContent","ignored","ignoredSelector","fields","conditionals","$alias","taskAlias","includes","removeAttribute","switchEl","label","isReadOnly","isActive","marker","getSwitchMarker","insertAdjacentHTML","readonly","active","switchElementSelector","radio","radioElementSelector","radioValue","getRadioMarker","radioHelper","helper","clonedHelper","cloneNode","radioOption","insertAdjacentElement","addRadioHelper","all","handler","off","emit","evt","tabs","nextElementSibling","contains","tab","handleClick","preventDefault","tabDataRef","isDisabled","showTab","getTabPane","reset","hideTab","tabPanel","tabPane","enableTab","pulseTab","disabledTab","tabsElementSelector","destroy","show","hide","enable","pulse","disabled","ExamsTabs","$refs","tabsPane","state","emitter","enableAllTabs","Tabs","getTabsPane","getTabs","getMonthName","date","month","capitalize","lang","toLocaleString","getMonthInt","getMonth","getMonthNameByNumber","monthNumber","Date","currentMonth","parseInt","setMonth","addYears","quantity","newDate","setFullYear","getFullYear","group","errorMessage","validateField","silent","formGroup","formHelp","addError","removeError","SearchForm","groups","props","hasErrors","errors","validation","result","ExamsForm","section","periodStart","periodEnd","searchBtn","validate","handleSearch","validator","DatepickerRange","startDate","endDate","startView","minViewMode","format","getPeriod","start","end","getTrigger","ExamsControls","actionsWrapper","btnFinish","actionsWell","alert","alertMarkup","createAlert","tableGroupTitle","tableGroupHeader","toggleGroup","expand","showGroup","toggle","hideGroup","shrink","lives","emptyMessage","tabName","tableId","columns","title","headerPrefix","coord","help","removeColumnFromConfig","columnIndex","findIndex","col","productType","helpConfig","fillMonthsOnPeriod","defaultParams","monthlyEntries","currDate","getTime","currYear","currMonth","monthlyData","year","monthName","parseData","success","entry","txt","ano","quantidade","getDataFromPeriod","params","Promise","resolve","reject","url","URL","process","inpperiodoInicial","inpanoInicial","inpperiodoFinal","inpanoFinal","inpcnpj","search","URLSearchParams","toString","fetch","then","res","json","getDataFromDataSource","filledData","err","formatData","rowData","coordenacaoMesAno","coordenacaoRegistros","quantityDoubts","quantityChanges","quantitySupportSPlus","quantitySupportCoord","quantitySupportVivaPlus","mes","getQuantityKeyByType","tipoDeDemanda","quantidadeTipo","keyType","proposal","productId","inpnumeroDaProposta","inpcodProduto","mergedData","Set","yearlyData","months","reduce","acc","curr","assign","groupDataByType","helpMesAno","helpDuvidas","helpMudancas","helpSuporteSMais","helpSuporteMedCoordenacao","helpSuporteVivaMais","ExamsTables","templateHelp","templateCoord","alias","createTables","livesData","helpData","coordData","ExamsTableConfig","build","HelpPlus","Coordination","persistData","TableCollapse","tabContainer","tabNav","emptyHtml","createEmptyMessage","innerHTML","groupDataByYear","headerSettings","column","showTotal","showAverage","total","summary","average","tableHeaderHtml","createTableHeader","tableCollapseHtml","createCollapse","tableHtml","message","collapseSettings","columnSettings","collapsePrefix","crateCollapsePrefix","createCollapseHeader","createCollapseGroup","cols","createTableHeaderColumn","minimumFractionDigits","maximumFractionDigits","createCollapseHeaderColumn","tableRows","createCollapseRow","years","exportKey","new_exportKey","new_key","findCompany","company","CNPJ","ATIVO","unitId","apiKey","inpcodUnidade","inpcodExportaDadosNovo","inpchaveExportaNovo","Error","msg","JSON","parse","CODIGO","companyId","inpano","inpmes","inpempresaDeAtendimento","inpcodExportaDados","inpchaveExporta","info","situacaoFuncionario","quantityActiveLives","quantityInactiveLives","currentDate","monthData","ExamsSearch","companyCnpj","proposalId","unityName","trigger","pane","searchData","keys","unitName","values","unit","getUnityKeys","el","getCompanyId","getExamsData","handleSearchDone","handleSearchError","removeLoadingState","SPlusService","LivesSerice","helpPlusData","HelpPlusService","coordinationData","CoordinationService","mountComponents","ComponentError","defaults","baseHeight","textareaClass","TextareaAutosize","reference","elements","component","HTMLElement","HTMLCollection","resolveReference","createInstance","undefined","textarea","nodeName","textvalue","inputHidden","getOrquestraField","clone","instance","setHeight","apply","addListners","style","cssText","body","append","_textareaAutosize","height","scrollHeight","getHeight","btnRadioWrapper","hidePrefix","select","getOptions","btnGroup","createButtonGroup","btn","optionValue","option","btnRadio","resetState","buttons","createButton","btnRadioWrapperSelector","TableActions","executedLabels","pertiodEnd","onRowMount","ButtonRadio","appendTag","$label","text","$td","$btnRadio","tagMarkup","createTag","hasToResetTable","isReadonly","isStatic","Table","hasToMount","getLabelModifier","TableRecommendations","TableOccupationalExams","tableFieldsId","normal","altered","tableSummary","reportDate","totalLabel","totalInput","getRowTotalInput","getTableRowFields","examesNormais","examesAlterados","onInputChange","Template","changeEvent","Event","examesTipoTotal","updateSummary","onRowDelete","getTableData","totalNormal","totalAltered","hasAlert","stringDate","dd","mm","yyyy","parseDate","createAlertMessage","previousReport","addMonths","Tables","initTables","isOnInitialTask","isPeriodEmpty","showTables","tables","hasToInit","TaskReviewer","reviwerCodUser","ppraCodUser","pcmsoCodUser","reviwer","getProductTypeById","getReviewerByProductType","list","toggleItems","listToggler","createListToggler","toggler","listElementSelector","ReportContacts","wrapper","contacts","listMarkup","createList","ListTrunk","items","contact","createListItem","contato","emailEmpresa","chips","inputPlaceholder","inputHtml","createInput","editable","removeable","getChipsInput","display","setReadonly","focus","handleInputFocus","handleInputBlur","handleInputChange","addChip","mountSingleChip","inputWrapper","sanitized","sanitizeValue","chipHtml","createChip","eventChange","chipsValues","chip","pop","removeBtn","editBtn","handleRemoveChip","handleEditChip","mountEditChip","getChipIndex","disabledAdd","editInput","setSelectionRange","hasValidValue","blur","enableAdd","removeChip","childNodes","nodeValue","handleEditChange","Function","editChip","editIcon","removeIcon","removeValueFromTarget","inputAdd","chipsElementSelector","ReportSendTo","placeholder","updateInputEmails","filterEmails","contactsParsed","formatContactToChipEmail","resolveContacts","chipsConfig","Chips","validateEmailFormat","contactsPlaceholder","getEmailFromContact","email","test","String","isEmail","ReportType","sendReport","reportType","onChange","setAttribute","Reports","showSendTo","mountReportType","onSendReportChange","isEnable","isSendToReadonly","getContactsData","contactsListSize","Math","max","fill","none","mitt","product","initials","desc","Switch","RadioCard"],"mappings":"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","file":"app.bundle.9689a.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","function registerEvents (tableInstance) {\r\n  tableInstance.btnInsert.onclick = ''\r\n  tableInstance.btnInsert.removeEventListener('click', InsertNewRow)\r\n  tableInstance.btnInsert.addEventListener('click', function (e) {\r\n    handeClick.call(this, e, tableInstance)\r\n  })\r\n\r\n  tableInstance\r\n    .rows()\r\n    .forEach(row => registerRowEvents(tableInstance, row))\r\n}\r\n\r\nfunction registerRowEvents (tableInstance, row) {\r\n  const btnDelete = row.querySelector('.btn-delete-mv')\r\n\r\n  btnDelete.onclick = ''\r\n  btnDelete.removeEventListener('click', DeleteRow)\r\n  btnDelete.addEventListener('click', function (e) {\r\n    handleRemove.call(this, e, tableInstance)\r\n  })\r\n}\r\n\r\nfunction getEventConfig (tableInstance) {\r\n  return {\r\n    bubbles: true,\r\n    detail: {\r\n      table: tableInstance.table,\r\n      length: getTableRowsLength(tableInstance.table),\r\n      lastRow: getLastRow(tableInstance.table)\r\n    }\r\n  }\r\n}\r\n\r\nfunction handeClick (e, tableInstance) {\r\n  this.dispatchEvent(\r\n    new CustomEvent('beforeInsert', getEventConfig(tableInstance))\r\n  )\r\n\r\n  InsertNewRow(this, true)\r\n\r\n  const newestRow = getLastRow(tableInstance.table)\r\n\r\n  registerRowEvents(tableInstance, newestRow)\r\n\r\n  if (tableInstance.onMount) {\r\n    tableInstance.onMount(newestRow)\r\n  }\r\n\r\n  this.dispatchEvent(\r\n    new CustomEvent('afterInsert', getEventConfig(tableInstance))\r\n  )\r\n}\r\n\r\nfunction handleRemove (e, tableInstance) {\r\n  const eventConfig = getEventConfig(tableInstance)\r\n  eventConfig.detail.deletedRow = this.closest('tr')\r\n\r\n  // chamando o evento diretamente na <table>\r\n  tableInstance.table.dispatchEvent(\r\n    new CustomEvent('beforeDelete', eventConfig)\r\n  )\r\n\r\n  DeleteRow(this)\r\n\r\n  tableInstance.table.dispatchEvent(\r\n    new CustomEvent('afterDelete', eventConfig)\r\n  )\r\n}\r\n\r\nfunction removeRows (table) {\r\n  const btnInsert = table.querySelector('#BtnInsertNewRow')\r\n\r\n  btnInsert.click()\r\n  table\r\n    .querySelectorAll('tr:not(.header):not(:last-child')\r\n    .forEach(row => row.remove())\r\n}\r\n\r\n/**\r\n * Helpers\r\n */\r\nconst getRows = table =>\r\n  table.querySelectorAll('tr:not(.header)')\r\n\r\nconst getLastRow = table =>\r\n  table.querySelector('tr:last-child')\r\n\r\nconst getTableRowsLength = table =>\r\n  getRows(table).length\r\n\r\n/**\r\n * Public Constructor\r\n */\r\nexport class TableMultivalue {\r\n  constructor (tableElementSelector, onMount, context = document) {\r\n    this.table = context.querySelector(tableElementSelector)\r\n    this.onMount = onMount\r\n\r\n    if (!this.table) {\r\n      console.error(`[Table Multivalue] table not found for the following selector: ${tableElementSelector}`)\r\n    }\r\n\r\n    if (this.onMount) {\r\n      this.table\r\n        .querySelectorAll('tr:not(.header)')\r\n        .forEach(row => this.onMount(row))\r\n    }\r\n\r\n    this.btnInsert = this.table.querySelector('#BtnInsertNewRow')\r\n    registerEvents(this)\r\n  }\r\n\r\n  static () {\r\n    this.table.classList.add('-static')\r\n  }\r\n\r\n  active () {\r\n    this.table.classList.remove('-static')\r\n  }\r\n\r\n  reset () {\r\n    removeRows(this.table)\r\n  }\r\n\r\n  on (eventName, callback) {\r\n    this.table.addEventListener(eventName, callback)\r\n  }\r\n\r\n  rows () {\r\n    return getRows(this.table)\r\n  }\r\n\r\n  lastRow () {\r\n    return getLastRow(this.table)\r\n  }\r\n\r\n  length () {\r\n    return getTableRowsLength(this.table)\r\n  }\r\n}\r\n\r\n/**\r\n * @todo implementar usando parâmetros também...\r\n * colocar as funções auxiliares dentro de um namespace\r\n */\r\nexport function mountTables () {\r\n  document.querySelectorAll('[mult=S]')\r\n    .forEach(table => {\r\n      const isActive = table.querySelector('#BtnInsertNewRow')\r\n\r\n      if (!isActive) {\r\n        table.classList.add('-readonly')\r\n      }\r\n    })\r\n}\r\n\r\nexport function appendData (table, data, addFirstRow = false) {\r\n  removeRows(table)\r\n\r\n  data.forEach((field, rowIndex) => {\r\n    if (addFirstRow || rowIndex > 0) {\r\n      table.querySelector('#BtnInsertNewRow').click()\r\n    }\r\n\r\n    Object.entries(field).forEach(([id, value]) => {\r\n      const lastRow = getLastRow(table)\r\n      const field = lastRow.querySelector(`[xname=inp${id}]`)\r\n\r\n      if (field) {\r\n        field.value = value\r\n      }\r\n    })\r\n  })\r\n}\r\n","function mount (container, datepickerOptions = {}) {\r\n  const inputs = $(container).find('[xname]')\r\n  const labels = $(container).find('[xid]')\r\n\r\n  const options = {\r\n    language: 'pt-BR',\r\n    inputs,\r\n    ...datepickerOptions\r\n  }\r\n\r\n  if (labels.length > 0) {\r\n    container.classList.add('-readonly')\r\n  }\r\n\r\n  if (inputs.length === 0) {\r\n    return console.error(`[DatepickerRange] Orquestra inputs not found inside ${container}`)\r\n  }\r\n\r\n  inputs.attr('autocomplete', 'off')\r\n  $(container).datepicker(options)\r\n}\r\n\r\n/**\r\n * Public API\r\n */\r\nfunction init (containerElementSelector, datepickerOptions, context = document) {\r\n  context\r\n    .querySelectorAll(containerElementSelector)\r\n    .forEach(container => mount(container, datepickerOptions))\r\n}\r\n\r\nexport default {\r\n  init\r\n}\r\n","const config = {\r\n  filters: {\r\n    cnpj (value) {\r\n      return value.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d)/, '$1.$2.$3/$4-$5')\r\n    },\r\n    titleCase (value) {\r\n      return value\r\n        .toLowerCase()\r\n        .split(' ')\r\n        .map(word => {\r\n          return word.charAt(0).toUpperCase() + word.slice(1)\r\n        }).join(' ')\r\n    }\r\n  }\r\n}\r\n\r\nfunction setTriggers (field, data) {\r\n  // Workaround para não observância do evento `change` em campos do tipo `data` do Orquestra.\r\n  // Estes fazem uso do plugin `Bootstrap Datepicker`, o qual restringe o evento change nativo\r\n  $(field).on('change', function (e) {\r\n    handleChange(e, field, data)\r\n  })\r\n}\r\n\r\nfunction handleChange (e, field, data) {\r\n  const input = e.target\r\n  const newValue = input.value || ''\r\n  const id = field.getAttribute('xname').substring(3)\r\n  const binds = document.querySelectorAll(`[data-bind=${id}]`)\r\n\r\n  if (field.type === 'checkbox') {\r\n    if (field.checked) {\r\n      data[id].value.push(newValue)\r\n    } else {\r\n      data[id].value.splice(\r\n        data[id].value.indexOf(newValue),\r\n        1\r\n      )\r\n    }\r\n    return handleUpdate(binds, data)\r\n  }\r\n\r\n  if (field.type === 'radio') {\r\n    if (field.checked) {\r\n      data[id].value = newValue\r\n    }\r\n    return handleUpdate(binds, data)\r\n  }\r\n\r\n  if (Array.isArray(data[id].value)) {\r\n    const index = input.closest('tr').rowIndex - 1 // ignora a 1º linha usada como cabeçalho\r\n    data[id].value[index] = newValue\r\n  } else {\r\n    data[id].value = newValue\r\n  }\r\n\r\n  return handleUpdate(binds, data)\r\n}\r\n\r\nfunction handleUpdate (binds, data) {\r\n  binds.forEach(element => {\r\n    update(element, data)\r\n  })\r\n}\r\n\r\nconst addField = {\r\n  single (field, data) {\r\n    const value = field.value || ''\r\n    const defaultAttr = getDefaultAttributes(field)\r\n\r\n    data[defaultAttr.id] = {\r\n      value,\r\n      ...defaultAttr\r\n    }\r\n  },\r\n\r\n  collection (field, data) {\r\n    const isInputMultiple = field.type === 'checkbox' || field.type === 'radio'\r\n    const defaultAttr = getDefaultAttributes(field)\r\n\r\n    if (!data[defaultAttr.id]) {\r\n      data[defaultAttr.id] = {\r\n        value: field.type === 'radio'\r\n          ? null\r\n          : [],\r\n        ...defaultAttr\r\n      }\r\n    }\r\n\r\n    if (isInputMultiple && !field.checked) {\r\n      return\r\n    }\r\n\r\n    if (field.type === 'radio') {\r\n      data[defaultAttr.id].value = field.value\r\n      return\r\n    }\r\n\r\n    data[defaultAttr.id].value.push(\r\n      field.value || ''\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Helpers\r\n */\r\nconst getIgnoredNotSelector = ids =>\r\n  ids.map(id => `:not([xname=inp${id}])`)\r\n\r\nconst isFieldCollection = (field, context) => (\r\n  context.querySelectorAll(`[xname=${field.getAttribute('xname')}]`).length > 1 ||\r\n  context.querySelector(`[xname=${field.getAttribute('xname')}]`).type === 'checkbox' ||\r\n  field.closest('table[mult=S]') !== null\r\n)\r\n\r\nconst getDefaultAttributes = field => ({\r\n  id: field.getAttribute('xname').substring(3),\r\n  codfield: field.getAttribute('name').substring(3)\r\n})\r\n\r\nconst getRowIndex = element => {\r\n  return element.closest('tr').rowIndex - 1 // ignora a linha de cabeçalho\r\n}\r\n\r\n/**\r\n * Public API\r\n */\r\nfunction init (\r\n  { ignored = [], filters = {} } = { ignored: [], filters: {} },\r\n  context = document\r\n) {\r\n  const data = {}\r\n  const ignoredSelector = getIgnoredNotSelector(ignored)\r\n  const fields = context.querySelectorAll(`[xname]${ignoredSelector.join()}`)\r\n\r\n  document.data = data\r\n  config.filters = { ...config.filters, ...filters }\r\n\r\n  fields\r\n    .forEach(field => {\r\n      mount(field, data, context)\r\n    })\r\n\r\n  handleUpdate(\r\n    document.querySelectorAll('[data-bind]'),\r\n    data\r\n  )\r\n\r\n  document\r\n    .querySelectorAll('[data-bind]')\r\n    .forEach(element => update(element, data))\r\n}\r\n\r\nfunction mount (field, data = document.data, context = document) {\r\n  field.dataset.id = field.getAttribute('xname').substring(3)\r\n\r\n  setTriggers(field, data)\r\n\r\n  isFieldCollection(field, context)\r\n    ? addField.collection(field, data)\r\n    : addField.single(field, data)\r\n}\r\n\r\nfunction update (element, data = document.data) {\r\n  const fieldId = element.dataset.bind\r\n  const filterName = element.dataset.filter\r\n\r\n  if (!data[fieldId]) {\r\n    return\r\n  }\r\n\r\n  const fieldValueIndex = element.dataset.index === '{row}'\r\n    ? getRowIndex(element)\r\n    : element.dataset.index\r\n\r\n  const fieldValue = Array.isArray(data[fieldId].value)\r\n    ? data[fieldId].value[fieldValueIndex]\r\n    : data[fieldId].value\r\n\r\n  let fieldText = fieldValue\r\n\r\n  if (element.hasAttribute('data-prefix')) {\r\n    fieldText = fieldValue.substring(2)\r\n  }\r\n\r\n  if (filterName) {\r\n    const filterFn = config.filters[filterName]\r\n\r\n    if (!filterFn) {\r\n      return console.error(`[Template] Filter function ${filterName} not found`)\r\n    }\r\n\r\n    fieldText = filterFn.call(config.filters, fieldText)\r\n  }\r\n\r\n  element.textContent = fieldText\r\n}\r\n\r\nfunction remove (field, data = document.data) {\r\n  const fieldId = field.getAttribute('xname').substring(3)\r\n\r\n  if (Array.isArray(data[fieldId].value)) {\r\n    // previne a removação total de campos em tabelas multi-valoradas\r\n    if (data[fieldId].value.length === 1) {\r\n      return\r\n    }\r\n\r\n    const fieldValueIndex = getRowIndex(field)\r\n\r\n    if (fieldValueIndex < 0) {\r\n      console.error('[Template] You are trying to remove a field from data that already been deleted from DOM')\r\n    }\r\n\r\n    data[fieldId].value.splice(fieldValueIndex, 1)\r\n  } else {\r\n    delete data[fieldId]\r\n  }\r\n}\r\n\r\nfunction conditionals (context = document) {\r\n  const $alias = document.querySelector('#inpDsFlowElementAlias')\r\n  const taskAlias = $alias\r\n    ? $alias.value\r\n    : ''\r\n\r\n  context\r\n    .querySelectorAll('[data-if]')\r\n    .forEach(element => {\r\n      const currentAlias = element.dataset.if\r\n        .replace(/[\\s[\\]]/g, '') // remove espaços em branco e colchetes\r\n        .split(',')\r\n\r\n      if (!currentAlias.includes(taskAlias)) {\r\n        element.classList.add('hidden')\r\n      } else {\r\n        element.classList.remove('hidden')\r\n        element.removeAttribute('data-if')\r\n      }\r\n    })\r\n}\r\n\r\nexport default {\r\n  init,\r\n  mount,\r\n  update,\r\n  remove,\r\n  conditionals\r\n}\r\n","function mount (switchEl) {\r\n  const label = switchEl.querySelector('label')\r\n  const field = switchEl.querySelector('[xname]')\r\n  const isReadOnly = label === null\r\n  const isActive = field.value !== ''\r\n  const marker = getSwitchMarker(isReadOnly, isActive)\r\n\r\n  if (isReadOnly) {\r\n    return switchEl.insertAdjacentHTML('beforeend', marker)\r\n  }\r\n\r\n  label.insertAdjacentHTML('beforeend', marker)\r\n}\r\n\r\nconst getSwitchMarker = (readonly, active) =>\r\n  `<div\r\n    class=\"switch-marker ${readonly ? '-readonly' : ''} ${active && readonly ? '-active' : ''}\">\r\n  </div>`\r\n\r\n/**\r\n * Public API\r\n */\r\nfunction init (switchElementSelector, context = document) {\r\n  context\r\n    .querySelectorAll(switchElementSelector)\r\n    .forEach(switchEl => mount(switchEl))\r\n}\r\n\r\nexport default {\r\n  init\r\n}\r\n","function mount (radio, radioElementSelector) {\r\n  const container = radio.closest(radioElementSelector)\r\n  const radioValue = radio.querySelector('input[type=radio]').value\r\n  const marker = getRadioMarker()\r\n  const radioHelper = container.querySelector(`.radio-card-helper[data-radio-option=\"${radioValue}\"]`)\r\n\r\n  radio.insertAdjacentHTML('beforeend', marker)\r\n\r\n  if (radioHelper) {\r\n    addRadioHelper(radioHelper, radio)\r\n  }\r\n}\r\n\r\nfunction addRadioHelper (helper, radio) {\r\n  const clonedHelper = helper.cloneNode(true)\r\n\r\n  delete clonedHelper.dataset.radioOption\r\n\r\n  radio.insertAdjacentElement('beforeend', clonedHelper)\r\n}\r\n\r\nconst getRadioMarker = () =>\r\n  '<div class=\"radio-marker\"></div>'\r\n\r\n/**\r\n * Public API\r\n */\r\nfunction init (radioElementSelector, context = document) {\r\n  context\r\n    .querySelectorAll(`${radioElementSelector} .radio`)\r\n    .forEach(radio => mount(radio, radioElementSelector))\r\n}\r\n\r\nexport default {\r\n  init\r\n}\r\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n//# sourceMappingURL=mitt.es.js.map\n","function mount (tabs) {\n  const tabPanes = tabs.nextElementSibling\n  const hasPanes = tabPanes.classList.contains('tab-panes')\n\n  if (!hasPanes) {\n    return console.error('[Tabs Component] .tab-panes not found, must be used next to .tabs element')\n  }\n\n  tabs\n    .querySelectorAll('.tab')\n    .forEach(tab => setTriggers(tab))\n}\n\nfunction setTriggers (tab) {\n  tab.addEventListener('click', handleClick)\n}\n\nfunction handleClick (e) {\n  e.preventDefault()\n\n  const tabDataRef = this.dataset.tab\n  const isActive = this.classList.contains('-active')\n  const isDisabled = this.classList.contains('-disabled')\n  const tabPane = this\n    .closest('.tabs')\n    .nextElementSibling\n    .querySelector(`.tab-pane[data-tab=\"${tabDataRef}\"]`)\n\n  if (!tabPane) {\n    return console.error(`[Tabs Component] element not found for data-tab ${tabDataRef}`)\n  }\n\n  if (isActive || isDisabled) {\n    return\n  }\n\n  showTab(this)\n}\n\n/**\n * Helpers\n */\nconst getTabPane = tab =>\n  tab\n    .closest('.tabs')\n    .nextElementSibling\n    .querySelector(`.tab-pane[data-tab=\"${tab.dataset.tab}\"]`)\n\n/**\n * Public API\n */\nfunction init (tabsElementSelector, context = document) {\n  context\n    .querySelectorAll(tabsElementSelector)\n    .forEach(tabs => mount(tabs))\n}\n\nfunction reset (tabs) {\n  tabs\n    .querySelectorAll('.tab')\n    .forEach(tab => hideTab(tab))\n}\n\nfunction destroy (tabs) {\n  tabs\n    .querySelectorAll('.tab')\n    .forEach(tab => {\n      tab.removeEventListener('click', handleClick)\n      hideTab(tab)\n      disabledTab(tab)\n    })\n}\n\nfunction showTab (tab) {\n  const tabPanel = getTabPane(tab)\n  const tabs = tab.closest('.tabs')\n\n  reset(tabs)\n\n  tab.classList.add('-active')\n  tab.classList.remove('-pulse')\n  tabPanel.classList.add('-active')\n}\n\nfunction hideTab (tab) {\n  const tabPane = getTabPane(tab)\n\n  tab.classList.remove('-active')\n  tabPane.classList.remove('-active')\n}\n\nfunction enableTab (tab) {\n  tab.classList.remove('-disabled')\n}\n\nfunction pulseTab (tab) {\n  if (!tab.classList.contains('-active')) {\n    tab.classList.add('-pulse')\n  }\n}\n\nfunction disabledTab (tab) {\n  const tabPane = getTabPane(tab)\n\n  tab.classList.add('-disabled')\n  tab.classList.remove('-active')\n  tabPane.classList.remove('-active')\n}\n\nexport default {\n  init,\n  reset,\n  destroy,\n  showTab,\n  hideTab,\n  enableTab,\n  pulseTab,\n  disabledTab,\n  /**\n   * `.tab` aliases\n   */\n  tab: {\n    show: showTab,\n    hide: hideTab,\n    enable: enableTab,\n    pulse: pulseTab,\n    disabled: disabledTab\n  }\n}\n","import Tabs from './../../components/tabs'\n\nconst ExamsTabs = function () {\n  const tabsSelector = '#exams-tabs'\n\n  const $refs = {\n    tabsPane: document.querySelector('#exams-search-panes'),\n    tabs: document.querySelectorAll(`${tabsSelector} .tab`)\n  }\n\n  const state = {\n    emitter: null\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount ({ emitter }) {\n    state.emitter = emitter\n    state.emitter.on('search-done', enableAllTabs)\n    state.emitter.on('tab-data-found', pulseTab)\n\n    Tabs.init(tabsSelector)\n    setInitialState()\n  }\n\n  function getTabsPane () {\n    return $refs.tabsPane\n  }\n\n  function getTabs () {\n    return $refs.tabs\n  }\n\n  /**\n   * Private Methods\n   */\n  function setInitialState () {\n    $refs.tabs.forEach((tab, index) => {\n      if (index > 0) {\n        return Tabs.disabledTab(tab)\n      }\n\n      Tabs.enableTab(tab)\n    })\n  }\n\n  function enableAllTabs () {\n    $refs.tabs.forEach(tab => {\n      Tabs.enableTab(tab)\n    })\n  }\n\n  function pulseTab (tab) {\n    Tabs.pulseTab(tab)\n  }\n\n  return {\n    mount,\n    getTabsPane,\n    getTabs\n  }\n}\n\nexport default ExamsTabs()\n","/**\r\n * @param {Date} date - related date to get locale string month name\r\n * @param {String} config.month - native option of toLocaleString method for month output\r\n * @param {Boolean} config.capitalize - transform locale month in captilezed format (eg. January insted january)\r\n * @param {String} config.lang - language used to get locale string month name\r\n * @return {String} month name\r\n */\r\nexport const getMonthName = (date, config = {\r\n  month: 'long',\r\n  capitalize: true,\r\n  lang: 'pt-BR'\r\n}) => {\r\n  const month = date.toLocaleString(config.lang, { month: config.month })\r\n\r\n  if (!config.capitalize) {\r\n    return month\r\n  }\r\n\r\n  return month[0].toUpperCase() + month.slice(1)\r\n}\r\n\r\n/**\r\n * @param {Date} date - related date to get integer month value\r\n * @return {Number} month integer equivalent\r\n */\r\nexport const getMonthInt = date =>\r\n  date.getMonth() + 1 // avoid months starting at 0\r\n\r\n/**\r\n * @param {String, Number} monthNumber - month number, starting at 1 (eg. 1 = January)\r\n * @param {String} config.month - native option of toLocaleString method for month output\r\n * @param {Boolean} config.capitalize - transform locale month in captilezed format (eg. January insted january)\r\n * @param {String} config.lang - language used to get locale string month name\r\n * @return {String} month name\r\n */\r\nexport const getMonthNameByNumber = (monthNumber, config = {\r\n  month: 'long',\r\n  capitalize: true,\r\n  lang: 'pt-BR'\r\n}) => {\r\n  const date = new Date()\r\n  const currentMonth = parseInt(monthNumber) - 1 // adjust months to starts at 0\r\n\r\n  date.setMonth(currentMonth)\r\n\r\n  const month = date.toLocaleString(config.lang, { month: config.month })\r\n\r\n  if (!config.capitalize) {\r\n    return month\r\n  }\r\n\r\n  return month[0].toUpperCase() + month.slice(1)\r\n}\r\n\r\n/**\r\n * @param {Date} date - actual date to add years\r\n * @param {Number} quantity - years quantity to sum, accepts negative numbers\r\n * @return {Date} result date\r\n */\r\nexport const addYears = (date, quantity) => {\r\n  const newDate = new Date(date)\r\n  newDate.setFullYear(date.getFullYear() + quantity)\r\n\r\n  return newDate\r\n}\r\n\r\n/**\r\n * @param {Date} date - actual date to add months\r\n * @param {Number} quantity - months quantity to sum, accepts negative numbers\r\n * @return {Date} result date\r\n */\r\nexport const addMonths = (date, quantity) => {\r\n  const newDate = new Date(date)\r\n  newDate.setMonth(date.getMonth() + quantity)\r\n\r\n  return newDate\r\n}\r\n\r\n/**\r\n * @param {String} stringDate - dates with pt-br format dd/mm/yyyy\r\n * @return {Date} stringDate as date object\r\n */\r\nexport const parseDate = stringDate => {\r\n  const [dd, mm, yyyy] = stringDate.split('/')\r\n  return new Date(yyyy, mm - 1, dd)\r\n}\r\n","function mount (group, context) {\n  const element = context.querySelector(group.element)\n  const errorMessage = group.errorMessage\n\n  if (!element) {\n    return console.error(`[Form Validation] element not found for selector: ${group.element}`)\n  }\n\n  setTriggers(element, errorMessage)\n}\n\nfunction setTriggers (element, errorMessage) {\n  // Utilizado jQuery para corrigir o não disparo de\n  // eventos `change` em campos do tipo `data` do Orquestra\n  // que fazem uso do componente Bootstrap Datepicker.\n  $(element).on('change', function (e) {\n    handleChange.call(this, e, errorMessage)\n  })\n}\n\nfunction handleChange (e, errorMessage) {\n  validateField(this, errorMessage)\n}\n\nfunction validateField (field, errorMessage, silent) {\n  if (field.value === '') {\n    if (!silent) addError(field, errorMessage)\n    return true\n  } else {\n    if (!silent) removeError(field)\n    return false\n  }\n}\n\nfunction validateForm (groups, silent, context) {\n  let hasErrors = false\n\n  const result = groups.map(group => {\n    const element = context.querySelector(group.element)\n    const errorMessage = group.errorMessage\n    const validation = {\n      result: validateField(element, errorMessage, silent),\n      error: null\n    }\n\n    if (!validation.result) {\n      return validation\n    }\n\n    hasErrors = true\n    validation.error = errorMessage\n\n    return validation\n  })\n\n  const errors = result.filter(({ error }) => error !== null)\n\n  return {\n    hasErrors,\n    errors\n  }\n}\n\nconst getFormHelpElement = message =>\n  `<p class=\"form-help\">${message}</p>`\n\n/**\n * Public API\n */\nexport class FormValidation {\n  constructor (config, context = document) {\n    this.groups = config\n    this.context = context\n\n    if (!Array.isArray(config)) {\n      return console.error('[Form Validation] config parameter must by a array with a element selector, error message and callback (optional)')\n    }\n\n    this.groups.forEach(group => mount(group, context))\n  }\n\n  validate (props) {\n    const options = {\n      silent: false, ...props\n    }\n\n    return validateForm(this.groups, options.silent, this.context)\n  }\n}\n\nexport function addError (element, errorMessage) {\n  const formGroup = element.closest('.form-group')\n\n  if (!formGroup) {\n    return console.error('[Form Validation] the element must be inside a .form-group container')\n  }\n\n  const formHelp = formGroup.querySelector('.form-help')\n\n  formGroup.classList.add('-error')\n\n  if (!formHelp) {\n    const formHelp = getFormHelpElement(errorMessage)\n    formGroup.insertAdjacentHTML('beforeend', formHelp)\n  } else {\n    formHelp.textContent = errorMessage\n  }\n}\n\nexport function removeError (element) {\n  const formGroup = element.closest('.form-group')\n  const formHelp = formGroup.querySelector('.form-help')\n\n  if (!formGroup) {\n    return console.error('[Form Validation] the element must be inside a .form-group container')\n  }\n\n  if (formHelp) {\n    formHelp.remove()\n  }\n\n  formGroup.classList.remove('-error')\n}\n","import { addYears } from 'orquestra-helpers'\nimport DatepickerRange from '../../components/datepicker-range'\nimport { FormValidation } from '../../components/form-validation'\n\nconst SearchForm = new FormValidation([\n  {\n    element: '[xname=inpperiodoInicio]',\n    errorMessage: 'Informe o período para pesquisa'\n  }, {\n    element: '[xname=inpperiodoFim]',\n    errorMessage: 'Informe o período para pesquisa'\n  }\n])\n\nconst ExamsForm = function () {\n  const $refs = {\n    section: document.querySelector('#section-exams-form'),\n    periodStart: document.querySelector('[xname=inpperiodoInicio]'),\n    periodEnd: document.querySelector('[xname=inpperiodoFim]'),\n    searchBtn: document.querySelector('.js-search-lives')\n  }\n\n  const state = {\n    emitter: null\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount ({ emitter }) {\n    state.validator = SearchForm\n    state.emitter = emitter\n\n    $refs.searchBtn\n      .addEventListener('click', handleSearch)\n\n    $refs.section\n      .classList.remove('hidden')\n\n    DatepickerRange.init('#exams-period', {\n      startDate: addYears(new Date(), -2),\n      endDate: addYears(new Date(), 2),\n      startView: 'months',\n      minViewMode: 'months',\n      format: 'M/yyyy'\n    })\n  }\n\n  function getPeriod () {\n    return {\n      start: $($refs.periodStart).datepicker('getDate'),\n      end: $($refs.periodEnd).datepicker('getDate')\n    }\n  }\n\n  function getTrigger () {\n    return $refs.searchBtn\n  }\n\n  function validate ({ silent } = { silent: false }) {\n    return SearchForm.validate({ silent })\n  }\n\n  /**\n   * Private Methods\n   */\n  function handleSearch (e) {\n    const { hasErrors } = validate()\n\n    e.preventDefault()\n\n    if (hasErrors) {\n      return hasErrors\n    }\n\n    state.emitter.emit('search-start')\n  }\n\n  return {\n    mount,\n    getPeriod,\n    getTrigger,\n    validate\n  }\n}\n\nexport default ExamsForm()\n","const ExamsControls = function () {\n  const alertId = 'search-data-alert'\n\n  const $refs = {\n    actionsWrapper: document.querySelector('#controllers #buttons'),\n    btnFinish: document.querySelector('#btnFinish'),\n    actionsWell: document.querySelector('#controllers .well'),\n    alert: null\n  }\n\n  const state = {\n    emitter: null\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount ({ emitter }) {\n    const alertMarkup = createAlert(alertId)\n\n    state.emitter = emitter\n    state.emitter.on('search-done', enable)\n\n    $refs.actionsWrapper\n      .insertAdjacentHTML('beforebegin', alertMarkup)\n\n    $refs.alert = document.querySelector(`#${alertId}`)\n\n    disable()\n  }\n\n  /**\n   * Private Methods\n   */\n  function enable () {\n    $refs.btnFinish.disabled = false\n\n    $refs.actionsWell\n      .classList.remove('hidden')\n\n    $refs.alert\n      .classList.add('hidden')\n  }\n\n  function disable () {\n    $refs.btnFinish.disabled = true\n\n    $refs.actionsWell\n      .classList.add('hidden')\n\n    $refs.alert\n      .classList.remove('hidden')\n  }\n\n  return {\n    mount\n  }\n}\n\nexport default ExamsControls()\n\n/**\n * Helpers\n */\nconst createAlert = id =>\n`<div class=\"alert alert-info\" id=\"${id}\">\n  <strong>Atenção!</strong> Antes de concluir a atividade você deve <strong>pesquisar</strong> por um período de levantamento.\n</div>`\n","function mount (table) {\r\n  table\r\n    .querySelectorAll('.table-collapse-header th:first-child')\r\n    .forEach(tableGroupTitle => setTriggers(tableGroupTitle))\r\n}\r\n\r\nfunction setTriggers (tableGroupTitle) {\r\n  tableGroupTitle.addEventListener('click', handleClick)\r\n}\r\n\r\nfunction handleClick () {\r\n  const tableGroupHeader = this.closest('.table-collapse-header')\r\n\r\n  if (!tableGroupHeader) {\r\n    return console.error('[Table Collapse] .table-collapse-header not found, must have a parent .table-collapse-header')\r\n  }\r\n\r\n  toggleGroup(tableGroupHeader)\r\n}\r\n\r\n/**\r\n * Public API\r\n */\r\nfunction init (tableElementSelector, context = document) {\r\n  context\r\n    .querySelectorAll(tableElementSelector)\r\n    .forEach(table => mount(table))\r\n}\r\n\r\nfunction expand (table) {\r\n  table\r\n    .querySelectorAll('.table-collapse-header')\r\n    .forEach(tableGroupHeader => showGroup(tableGroupHeader))\r\n}\r\n\r\nfunction shrink (table) {\r\n  table\r\n    .querySelectorAll('.table-collapse-header')\r\n    .forEach(tableGroupHeader => hideGroup(tableGroupHeader))\r\n}\r\n\r\nfunction destroy (table) {\r\n  expand(table)\r\n\r\n  table\r\n    .querySelectorAll('.table-collapse-header th:first-child')\r\n    .forEach(tableGroupTitle => {\r\n      tableGroupTitle.removeEventListener('click', handleClick)\r\n    })\r\n}\r\n\r\nfunction toggleGroup (tableGroupHeader) {\r\n  tableGroupHeader.classList.toggle('-collapse')\r\n}\r\n\r\nfunction showGroup (tableGroupHeader) {\r\n  tableGroupHeader.classList.remove('-collapse')\r\n}\r\n\r\nfunction hideGroup (tableGroupHeader) {\r\n  tableGroupHeader.classList.add('-collapse')\r\n}\r\n\r\nexport default {\r\n  init,\r\n  expand,\r\n  shrink,\r\n  destroy,\r\n  toggleGroup,\r\n  showGroup,\r\n  hideGroup,\r\n  /**\r\n   * `.group` aliases\r\n   */\r\n  group: {\r\n    toggle: toggleGroup,\r\n    show: showGroup,\r\n    hide: hideGroup\r\n  }\r\n}\r\n","const lives = {\n  emptyMessage: 'Não foi encontrado nenhum dado de vidas dentro do período pesquisado.',\n  tabName: 'dados-vidas',\n  tableId: 'tbl-lives',\n  columns: [{\n    key: 'quantityActiveLives',\n    title: 'Vidas Ativas',\n    headerPrefix: '<i class=\"fas fa-plus-circle color-green\"></i> '\n  }, {\n    key: 'quantityInactiveLives',\n    title: 'Vidas Inativas',\n    headerPrefix: '<i class=\"fas fa-minus-circle color-red\"></i> '\n  }]\n}\n\nconst coord = {\n  emptyMessage: 'Não foi encontrada nenhuma interação da Coordenação dentro do período pesquisado.',\n  tabName: 'interacoes-coordenacao',\n  tableId: 'tbl-coordination',\n  columns: [{\n    key: 'quantity',\n    title: 'Registros'\n  }]\n}\n\nconst help = {\n  emptyMessage: 'Não foi encontrada nenhuma interação no Help+ dentro do período pesquisado.',\n  tabName: 'interacoes-help',\n  tableId: 'tbl-help-plus',\n  columns: [{\n    key: 'quantityDoubts',\n    title: 'Dúvidas'\n  }, {\n    key: 'quantityChanges',\n    title: 'Mudanças'\n  }, {\n    key: 'quantitySupportSPlus',\n    title: 'S+',\n    headerPrefix: '<span class=\"th-sup\">Suporte</span>'\n  }, {\n    key: 'quantitySupportCoord',\n    title: 'Méd. Coord.',\n    headerPrefix: '<span class=\"th-sup\">Suporte</span>'\n  }, {\n    key: 'quantitySupportVivaPlus',\n    title: 'Viva+',\n    headerPrefix: '<span class=\"th-sup\">Suporte</span>'\n  }]\n}\n\n/**\n * Public Methods\n */\nfunction get (productType) {\n  let helpConfig = help\n\n  if (productType === 'PPRA') {\n    helpConfig = removeColumnFromConfig({\n      key: 'quantitySupportCoord',\n      config: help\n    })\n  }\n\n  return {\n    lives,\n    coord,\n    help: helpConfig\n  }\n}\n\n/**\n * Private Methods\n */\nconst removeColumnFromConfig = ({ key, config }) => {\n  const columnIndex = config.columns\n    .findIndex(col => col.key === key)\n\n  if (columnIndex >= 0) {\n    config.columns.splice(columnIndex, 1)\n  }\n\n  return config\n}\n\nexport default {\n  get\n}\n","import {\r\n  getMonthInt,\r\n  getMonthNameByNumber\r\n} from 'orquestra-helpers'\r\n\r\nexport const fillMonthsOnPeriod = ({\r\n  start,\r\n  end,\r\n  data,\r\n  defaultParams\r\n}) => {\r\n  const monthlyEntries = []\r\n  const currDate = new Date(start.getTime())\r\n\r\n  // eslint-disable-next-line no-unmodified-loop-condition\r\n  while (currDate <= end) {\r\n    const currYear = currDate.getFullYear()\r\n    const currMonth = getMonthInt(currDate)\r\n\r\n    const monthlyData = data.find(({ month, year }) => {\r\n      return month === currMonth && year === currYear\r\n    })\r\n\r\n    if (monthlyData) {\r\n      monthlyEntries.push(monthlyData)\r\n    } else {\r\n      monthlyEntries.push({\r\n        month: currMonth,\r\n        monthName: getMonthNameByNumber(currMonth),\r\n        year: currYear,\r\n        ...defaultParams\r\n      })\r\n    }\r\n\r\n    currDate.setMonth(currDate.getMonth() + 1)\r\n  }\r\n\r\n  return monthlyEntries\r\n}\r\n","import {\n  getMonthInt,\n  getMonthNameByNumber\n} from 'orquestra-helpers'\n\nimport { fillMonthsOnPeriod } from './util'\n\nconst ORQUESTRA_DATASOURCE_URL = process.env.DATASOURCE_BASE_URL + process.env.DATASOURCE_COORDINATION\n\nconst config = {\n  defaultParams: {\n    quantity: 0\n  }\n}\n\nconst getDataFromDataSource = function ({\n  start,\n  end,\n  cnpj\n}) {\n  const url = new URL(ORQUESTRA_DATASOURCE_URL)\n\n  const params = {\n    inpperiodoInicial: getMonthInt(start),\n    inpanoInicial: start.getFullYear(),\n    inpperiodoFinal: getMonthInt(end),\n    inpanoFinal: end.getFullYear(),\n    inpcnpj: cnpj.replace(/\\D/g, '')\n  }\n\n  url.search = new URLSearchParams(params).toString()\n\n  return fetch(url)\n    .then(res => res.json())\n    .then(({ success }) => {\n      const data = parseData(success)\n\n      return {\n        data,\n        start,\n        end\n      }\n    })\n}\n\nconst parseData = success => {\n  return success.map(entry => {\n    return {\n      month: parseInt(entry.txt),\n      monthName: getMonthNameByNumber(entry.txt),\n      year: parseInt(entry.fields.ano),\n      quantity: parseInt(entry.fields.quantidade)\n    }\n  })\n}\n\nfunction getDataFromPeriod (params) {\n  return new Promise((resolve, reject) => {\n    getDataFromDataSource(params)\n      .then(({ start, end, data }) => {\n        if (!data.length) {\n          return resolve(data)\n        }\n\n        const { defaultParams } = config\n        const filledData = fillMonthsOnPeriod({\n          start,\n          end,\n          data,\n          defaultParams\n        })\n        return resolve(filledData)\n      })\n      .catch(err => reject(err))\n  })\n}\n\nfunction formatData (data) {\n  return data.map(entry => {\n    const rowData = {}\n    rowData.coordenacaoMesAno = `${entry.monthName.substring(0, 3)}/${entry.year}`\n    rowData.coordenacaoRegistros = entry.quantity || '-'\n\n    return rowData\n  })\n}\n\nexport default {\n  getDataFromPeriod,\n  formatData\n}\n","import {\n  getMonthInt,\n  getMonthNameByNumber\n} from 'orquestra-helpers'\n\nimport { fillMonthsOnPeriod } from './util'\n\nconst ORQUESTRA_DATASOURCE_URL = process.env.DATASOURCE_BASE_URL + process.env.DATASOURCE_HELP_PLUS\n\nconst config = {\n  defaultParams: {\n    quantityDoubts: 0,\n    quantityChanges: 0,\n    quantitySupportSPlus: 0,\n    quantitySupportCoord: 0,\n    quantitySupportVivaPlus: 0\n  }\n}\n\nconst getDataFromDataSource = function ({\n  start,\n  end,\n  proposal,\n  productId\n}) {\n  const url = new URL(ORQUESTRA_DATASOURCE_URL)\n  const params = {\n    inpperiodoInicial: getMonthInt(start),\n    inpanoInicial: start.getFullYear(),\n    inpperiodoFinal: getMonthInt(end),\n    inpanoFinal: end.getFullYear(),\n    inpnumeroDaProposta: proposal,\n    inpcodProduto: productId\n  }\n\n  url.search = new URLSearchParams(params).toString()\n\n  return fetch(url)\n    .then(res => res.json())\n    .then(({ success }) => {\n      const data = parseData(success)\n\n      return {\n        data,\n        start,\n        end\n      }\n    })\n}\n\nconst parseData = success => {\n  const data = success.map(({ fields }) => {\n    const result = {\n      ...config.defaultParams,\n      month: parseInt(fields.mes),\n      monthName: getMonthNameByNumber(fields.mes),\n      year: parseInt(fields.ano)\n    }\n\n    const quantityKey = getQuantityKeyByType(fields.tipoDeDemanda)\n    result[quantityKey] = parseInt(fields.quantidadeTipo)\n\n    return result\n  })\n\n  return data\n}\n\nconst getQuantityKeyByType = type => {\n  const prefix = 'quantity'\n  let keyType = ''\n\n  switch (type) {\n    case 'Dúvida':\n      keyType = 'Doubts'\n      break\n\n    case 'Mudança nos Programas/Documentos/Exames':\n      keyType = 'Changes'\n      break\n\n    case 'Suporte para o Sistema Informatizado S+':\n      keyType = 'SupportSPlus'\n      break\n\n    case 'Suporte do Médico Coordenador do PCMSO':\n      keyType = 'SupportCoord'\n      break\n\n    case 'Suporte Portal SESI Viva+':\n      keyType = 'SupportVivaPlus'\n      break\n  }\n\n  return prefix + keyType\n}\n\nconst groupDataByType = data => {\n  const years = new Set(\n    data.map(({ year }) => year)\n  )\n\n  let result\n\n  years.forEach(year => {\n    const yearlyData = data.filter(entry => entry.year === year)\n    const months = [...new Set(\n      yearlyData.map(({ month }) => month)\n    )]\n\n    result = months.map(month => {\n      return data\n        .filter(entry => entry.month === month)\n        .reduce((acc, curr) => Object.assign(acc, curr), {})\n    })\n  })\n\n  return result\n}\n\nfunction getDataFromPeriod (params) {\n  return new Promise((resolve, reject) => {\n    getDataFromDataSource(params)\n      .then(({ start, end, data }) => {\n        if (!data.length) {\n          return resolve(data)\n        }\n\n        const { defaultParams } = config\n        const mergedData = groupDataByType(data)\n        const filledData = fillMonthsOnPeriod({\n          start,\n          end,\n          defaultParams,\n          data: mergedData\n        })\n\n        return resolve(filledData)\n      })\n      .catch(err => reject(err))\n  })\n}\n\nfunction formatData (data) {\n  return data.map(entry => {\n    const rowData = {}\n    rowData.helpMesAno = `${entry.monthName.substring(0, 3)}/${entry.year}`\n    rowData.helpDuvidas = entry.quantityDoubts || '-'\n    rowData.helpMudancas = entry.quantityChanges || '-'\n    rowData.helpSuporteSMais = entry.quantitySupportSPlus || '-'\n    rowData.helpSuporteMedCoordenacao = entry.quantitySupportCoord || '-'\n    rowData.helpSuporteVivaMais = entry.quantitySupportVivaPlus || '-'\n\n    return rowData\n  })\n}\n\nexport default {\n  getDataFromPeriod,\n  formatData\n}\n","import TableCollapse from '../../components/table-collapse'\nimport { appendData } from '../../components/table-multivalue'\nimport ExamsTableConfig from './exams-table-config'\nimport Coordination from './api/api.coordination'\nimport HelpPlus from './api/api.help-plus'\n\nconst ExamsTables = function () {\n  const $refs = {\n    templateHelp: document.querySelector('#template-help'),\n    templateCoord: document.querySelector('#template-coordenacao')\n  }\n\n  const state = {\n    alias: null,\n    emitter: null,\n    productType: null\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount ({ emitter, alias, productType }) {\n    state.alias = alias\n    state.productType = productType\n    state.emitter = emitter\n    state.emitter.on('search-done', createTables)\n  }\n\n  /**\n   * Private Methods\n   */\n  function createTables ([livesData, helpData, coordData]) {\n    const {\n      lives,\n      help,\n      coord\n    } = ExamsTableConfig.get(state.productType)\n\n    build({\n      data: livesData,\n      ...lives\n    })\n\n    build({\n      data: helpData,\n      ...help\n    })\n\n    build({\n      data: coordData,\n      ...coord\n    })\n\n    if (['complementacao'].includes(state.alias)) {\n      persistData({ helpData, coordData })\n    }\n\n    TableCollapse.init('.table-collapse')\n  }\n\n  function persistData ({ helpData, coordData }) {\n    appendData(\n      $refs.templateHelp,\n      HelpPlus.formatData(helpData)\n    )\n\n    appendData(\n      $refs.templateCoord,\n      Coordination.formatData(coordData)\n    )\n  }\n\n  function build ({\n    data,\n    columns,\n    tabName,\n    tableId = '',\n    emptyMessage = 'Não foi encontrada nenhuma informação no período pesquisado.'\n  }) {\n    const tabContainer = document.querySelector(`.tab-pane[data-tab=\"${tabName}\"]`)\n    const tabNav = document.querySelector(`.tab[data-tab=\"${tabName}\"]`)\n\n    if (!tabContainer) {\n      return console.error(`[Module:ExamsTables] Container element not found for tab: ${tabName}`)\n    }\n\n    if (!data.length) {\n      const emptyHtml = createEmptyMessage(emptyMessage)\n      tabContainer.innerHTML = emptyHtml\n\n      return false\n    }\n\n    const yearlyData = groupDataByYear(data, columns)\n    const headerSettings = columns.map(column => {\n      return {\n        showTotal: true,\n        showAverage: true,\n        headerPrefix: '',\n        total: yearlyData.summary[column.key],\n        average: yearlyData.summary[column.key] / yearlyData.summary.rows,\n        ...column\n      }\n    })\n\n    const tableHeaderHtml = createTableHeader(headerSettings)\n\n    const tableCollapseHtml = Object.entries(yearlyData.entries)\n      .map(([year, rows]) => createCollapse(year, rows, columns))\n      .join('')\n\n    const tableHtml = `<table class=\"table-collapse -tree -padded -hover\" id=\"${tableId}\">${tableHeaderHtml}${tableCollapseHtml}</table>`\n      .replace(/[\\t\\n]/g, '') // remove white spaces and tabs\n      .replace(/\\s\\s+(?=[^><]*<)/g, '') // remove indentation\n\n    tabContainer.innerHTML = tableHtml\n\n    state.emitter.emit('tab-data-found', tabNav)\n  }\n\n  return {\n    mount\n  }\n}\n\nexport default ExamsTables()\n\n/**\n * Helpers\n */\nconst createEmptyMessage = message => {\n  return `\n<div class=\"empty\">\n<div class=\"empty-icon\">\n  <i class=\"fas fa-calendar -minus\"></i>\n</div>\n<div class=\"empty-content\">\n  <h1 class=\"empty-title\">Nenhuma informação no período</h1>\n  <p class=\"empty-message\">${message}</p>\n</div>\n</div>`\n}\n\nconst createCollapse = (title, rows, columns) => {\n  const collapseSettings = columns.map(column => {\n    const total = rows.reduce((acc, data) => acc + data[column.key], 0)\n    const average = total / rows.length\n\n    const columnSettings = {\n      showTotal: true,\n      showAverage: true,\n      average,\n      total,\n      ...column\n    }\n\n    const collapsePrefix = crateCollapsePrefix(columnSettings)\n\n    return {\n      ...columnSettings,\n      collapsePrefix\n    }\n  })\n\n  const collapseHeader = createCollapseHeader(title, collapseSettings)\n  const collapseRows = createCollapseGroup(rows, columns)\n\n  return collapseHeader + collapseRows\n}\n\nconst crateCollapsePrefix = column => {\n  if (!column.showTotal && !column.showAverage) {\n    return ''\n  }\n\n  const averageLabel = '<span class=\"text-summary\">(Média)</span>'\n  const totalLabel = '<span class=\"text-sub\">Total</span>'\n\n  return `\n  <span class=\"margin-right-m\">\n    ${column.showAverage ? averageLabel : ''}\n    ${column.showTotal ? totalLabel : ''}\n  </span>`\n}\n\nconst createTableHeader = columns => {\n  const cols = columns.map(col => createTableHeaderColumn(col))\n\n  return `\n<thead>\n  <tr class=\"-stick\">\n    <th></th>\n    ${cols.join('')}\n    <th></th>\n  </tr>\n</thead>`\n}\n\nconst createTableHeaderColumn = ({\n  title,\n  total,\n  average,\n  headerPrefix,\n  showTotal,\n  showAverage\n}) => {\n  return `\n<th class=\"text-right\">\n  <div class=\"col\">${headerPrefix}${title}</div>\n  <div class=\"col ${!showAverage && !showTotal ? 'hidden' : ''}\">\n    <span class=\"text-small text-summary margin-right-s ${!showAverage ? 'hidden' : ''}\">\n    ${total > 0 ? '(' + average.toLocaleString('pt-BR', { minimumFractionDigits: 1, maximumFractionDigits: 1 }) + ')' : ''}</span>\n    <span class=\"text-small ${!showTotal ? 'hidden' : ''}\">${total > 0 ? total : ''}</span>\n  </div>\n</th>`\n}\n\nconst createCollapseHeader = (title, columns) => {\n  const cols = columns.map((col, i) => createCollapseHeaderColumn(col, i))\n\n  return `\n<tbody class=\"table-collapse-header -stick -summary\">\n  <tr>\n    <th><i class=\"table-collapse-indicator fas fa-chevron-down\"></i>${title}</th>\n    ${cols.join('')}\n    <th></th>\n  </tr>\n</tbody>`\n}\n\nconst createCollapseHeaderColumn = ({\n  total,\n  average,\n  collapsePrefix,\n  showTotal,\n  showAverage\n}, columnIndex) => {\n  return `\n<th class=\"text-right\">\n  ${columnIndex === 0 ? collapsePrefix : ''}\n  ${showAverage && average > 0 ? '<span class=\"text-summary margin-right-s\">(' +\n    average.toLocaleString('pt-BR', { minimumFractionDigits: 1, maximumFractionDigits: 1 }) +\n  ')</span>' : ''}\n  ${showTotal\n      ? total > 0\n        ? total\n        : '-'\n      : ''\n    }\n</th>`\n}\n\nconst createCollapseGroup = (rows, columns) => {\n  const tableRows = rows.map(row => createCollapseRow(row, columns))\n\n  return `\n<tbody class=\"table-collapse-group\">\n  ${tableRows.join('')}\n</tbody>`\n}\n\nconst createCollapseRow = (row, columns) => {\n  const cols = columns.map(({ key }) => `<td class=\"text-right\">${row[key] > 0 ? row[key] : '-'}</td>`)\n\n  return `\n<tr>\n  <td>${row.monthName}</td>\n  ${cols.join('')}\n  <td></td>\n</tr>\n  `\n}\n\nconst groupDataByYear = (data, columns) => {\n  const years = new Set(\n    data.map(({ year }) => year)\n  )\n\n  const summary = data.reduce((acc, data, row) => {\n    columns.forEach(({ key }) => {\n      if (!(key in data)) {\n        return\n      }\n      if (row === 0) {\n        acc[key] = data[key]\n      } else {\n        acc[key] += data[key]\n      }\n    })\n    return acc\n  }, {})\n\n  summary.rows = data.length\n\n  const entries = {}\n\n  years.forEach(year => {\n    const yearlyData = data.filter(entry => entry.year === year)\n    entries[year] = yearlyData\n  })\n\n  return {\n    entries,\n    summary\n  }\n}\n","/* eslint-disable quote-props */\nexport default {\n  'Ilhéus': {\n    name: 'SESI SUL – ILHEUS',\n    id: 521343,\n    exportKey: 16741,\n    key: '46955ddfe8a55f287b10',\n    new_exportKey: 13945,\n    new_key: 'd7ace77d2252d749c02f'\n  },\n  // Equivalência de Ilhéus\n  'Euanópolis': {\n    name: 'SESI SUL – EUNAPÓLIS',\n    id: 521343,\n    exportKey: 16741,\n    key: '46955ddfe8a55f287b10',\n    new_exportKey: 13945,\n    new_key: 'd7ace77d2252d749c02f'\n  },\n  // Equivalência de Ilhéus\n  'Teixeira de Freitas': {\n    name: 'SESI SUL - TEIXEIRA DE FREITAS',\n    id: 521343,\n    exportKey: 16741,\n    key: '46955ddfe8a55f287b10',\n    new_exportKey: 13945,\n    new_key: 'd7ace77d2252d749c02f'\n  },\n  'Juazeiro': {\n    name: 'SESI NORTE – JUAZEIRO',\n    id: 521346,\n    exportKey: 22704,\n    key: '9a981dce8f81ada74433',\n    new_exportKey: 13847,\n    new_key: 'a5e30b1a85b1c8d7842f'\n  },\n  'Vitória da Conquista': {\n    name: 'SESI SUDOESTE - VITÓRIA DA CONQUISTA',\n    id: 521349,\n    exportKey: 14122,\n    key: '19cdb2487b44e42803e5',\n    new_exportKey: 13360,\n    new_key: '80614c85ac13e96c159d'\n  },\n  // Equivalência de Vitória da Conquista\n  'Vitória da Conquista': {\n    name: 'SESI SUDOESTE - JEQUIÉ',\n    id: 521349,\n    exportKey: 14122,\n    key: '19cdb2487b44e42803e5',\n    new_exportKey: 13360,\n    new_key: '80614c85ac13e96c159d'\n  },\n  'Barreiras': {\n    name: 'SESI OESTE – BARREIRAS',\n    id: 520981,\n    exportKey: 22705,\n    key: '54e4be5fe904c3c7e8eb',\n    new_exportKey: 13949,\n    new_key: '55f7887d7165f524543a'\n  },\n  'Feira de Santana': {\n    name: 'SESI FEIRA DE SANTANA',\n    id: 520980,\n    exportKey: 22706,\n    key: '54e4be5fe904c3c7e8eb',\n    new_exportKey: 12612,\n    new_key: 'ebebf524d770e42c263e'\n  },\n  'Lucaia': {\n    name: 'SESI LUCAIA',\n    id: 520979,\n    exportKey: 16745,\n    key: '7abd67eb04ebbaf3dde7',\n    new_exportKey: 12608,\n    new_key: '9eeadb1b256fe39b09a9'\n  },\n  'Luís Eduardo Magalhães': {\n    name: 'SESI OESTE – LUIS EDUARDO',\n    id: 520978,\n    exportKey: 22708,\n    key: '54e4be5fe904c3c7e8eb',\n    new_exportKey: 13953,\n    new_key: '99675f2b71a9492025f8'\n  }\n}\n","const ORQUESTRA_DATASOURCE_URL = process.env.DATASOURCE_BASE_URL + process.env.DATASOURCE_S_PLUS\r\n\r\nconst getDataFromDataSource = function ({\r\n  cnpj,\r\n  unitId,\r\n  exportKey,\r\n  apiKey\r\n}) {\r\n  const url = new URL(ORQUESTRA_DATASOURCE_URL)\r\n\r\n  const params = {\r\n    inpcodUnidade: unitId,\r\n    inpcodExportaDadosNovo: exportKey,\r\n    inpchaveExportaNovo: apiKey\r\n  }\r\n\r\n  url.search = new URLSearchParams(params).toString()\r\n\r\n  return fetch(url)\r\n    .then(res => res.json())\r\n    // Disclaimer:\r\n    // WS SOAP do SOC sempre retornará 1 elemento via Fonte de Dados\r\n    // Orquestra. O retorno de sucesso é sempre uma string JSON\r\n    // deserializada, por isso a necessidade de `JSON.parse`\r\n    .then(({ success }) => {\r\n      if (success[0].fields.error === 'true') {\r\n        throw Error(success[0].fields.msg)\r\n      }\r\n      return JSON.parse(success[0].txt)\r\n    })\r\n    .then(data => {\r\n      const company = findCompany(data, cnpj)\r\n\r\n      if (!company) {\r\n        alert(`Infelizmente não é possível realizar a sua pesquisa.\\n\\nNão foi encontrada nenhuma empresa com o seguinte CNPJ no S+:\\n${cnpj}`)\r\n        throw Error('Empresa não encontrada para o CNPJ informado')\r\n      }\r\n\r\n      return company.CODIGO\r\n    })\r\n}\r\n\r\nconst findCompany = (data, cnpj) =>\r\n  data.find(company => {\r\n    return cnpj.replace(/\\D/g, '') === company.CNPJ.replace(/\\D/g, '') && company.ATIVO === '1'\r\n  })\r\n\r\nexport default {\r\n  getDataFromDataSource\r\n}\r\n","import {\n  getMonthInt,\n  getMonthName\n} from 'orquestra-helpers'\n\nconst ORQUESTRA_DATASOURCE_URL = process.env.DATASOURCE_BASE_URL + process.env.DATASOURCE_LIVES\n\nconst getDataFromDataSource = function ({\n  date,\n  companyId,\n  exportKey,\n  apiKey\n}) {\n  const year = date.getFullYear()\n  const monthName = getMonthName(date)\n  const url = new URL(ORQUESTRA_DATASOURCE_URL)\n  const params = {\n    inpano: year,\n    inpmes: getMonthInt(date),\n    inpempresaDeAtendimento: companyId,\n    inpcodExportaDados: exportKey,\n    inpchaveExporta: apiKey\n  }\n\n  url.search = new URLSearchParams(params).toString()\n\n  return fetch(url)\n    .then(res => res.json())\n    // # Observação:\n    // WS SOAP do SOC sempre retornará 1 elemento via Fonte de Dados\n    // Orquestra. O retorno de sucesso é sempre uma string JSON\n    // deserializada, por isso a necessidade de `JSON.parse`\n    .then(({ success }) => {\n      if (success[0].fields.error === 'true') {\n        console.info(success[0].fields.msg)\n        return null\n      }\n      return JSON.parse(success[0].txt)\n    })\n    .then(data => {\n      const result = parseData(data)\n\n      return {\n        ...result,\n        year,\n        monthName\n      }\n    })\n}\n\nconst parseData = data => {\n  if (!data) {\n    return {\n      quantityActiveLives: 0,\n      quantityInactiveLives: 0\n    }\n  }\n\n  const livesCount = data.reduce((acc, company) => {\n    if (company.situacaoFuncionario === 'Ativo') {\n      acc.quantityActiveLives += 1\n    } else {\n      acc.quantityInactiveLives += 1\n    }\n    return acc\n  }, {\n    quantityActiveLives: 0,\n    quantityInactiveLives: 0\n  })\n\n  return livesCount\n}\n\nfunction getDataFromPeriod ({\n  start,\n  end,\n  companyId,\n  exportKey,\n  apiKey\n}) {\n  const data = []\n  const currentDate = new Date(start.getTime())\n\n  // eslint-disable-next-line no-unmodified-loop-condition\n  while (currentDate <= end) {\n    const monthData = getDataFromDataSource({\n      date: currentDate,\n      companyId,\n      exportKey,\n      apiKey\n    })\n\n    data.push(monthData)\n    currentDate.setMonth(currentDate.getMonth() + 1)\n  }\n\n  return new Promise((resolve, reject) => {\n    Promise.all(data)\n      .then(months => resolve(months))\n      .catch(err => reject(err))\n  })\n}\n\nexport default {\n  getDataFromPeriod\n}\n","import ExamsTabs from './exams-tabs'\nimport ExamsForm from './exams-form'\nimport ExamsControls from './exams-controls'\nimport ExamsTables from './exams-tables'\nimport keys from './keys'\n\n/**\n * Services\n */\nimport SPlusService from './api/api.s-plus'\nimport LivesSerice from './api/api.lives'\nimport CoordinationService from './api/api.coordination'\nimport HelpPlusService from './api/api.help-plus'\n\nconst ExamsSearch = function () {\n  const $refs = {\n    companyId: document.querySelector('[xname=inpcodEmpresaSmais]'),\n    companyCnpj: document.querySelector('[xname=inpcnpjEmpresaDeAtendimento]'),\n    proposalId: document.querySelector('[xname=inpnumeroDaProposta]'),\n    productId: document.querySelector('[xname=inpcodProduto]'),\n    productType: document.querySelector('[xname=inptipoProduto]'),\n    unityName: document.querySelector('[xname=inpunidadeProspectora]'),\n    trigger: ExamsForm.getTrigger(),\n    pane: ExamsTabs.getTabsPane()\n  }\n\n  const state = {\n    alias: null,\n    emitter: null,\n    companyCnpj: $refs.companyCnpj.value,\n    proposalId: $refs.proposalId.value,\n    productId: $refs.productId.value,\n    productType: $refs.productType.value\n  }\n\n  /**\n   * Public Methods\n   */\n  function init ({ alias, emitter }) {\n    const mountComponents = [\n      'elaboracao',\n      'complementacao',\n      'elaboracaoAnual',\n      'complementacaoAnual'\n    ].includes(alias)\n\n    state.emitter = emitter\n    state.alias = alias\n    state.emitter.on('search-start', searchData)\n\n    if (mountComponents) {\n      mount()\n    }\n  }\n\n  function mount () {\n    const { hasErrors } = ExamsForm.validate({ silent: true })\n    const {\n      alias,\n      emitter,\n      productType\n    } = state\n\n    ExamsForm.mount({ emitter })\n    ExamsTabs.mount({ emitter })\n    ExamsTables.mount({ emitter, alias, productType })\n\n    if (state.alias === 'elaboracao') {\n      ExamsControls.mount({ emitter })\n    }\n\n    if (!hasErrors) {\n      state.emitter.emit('search-start')\n    }\n  }\n\n  /**\n   * Private Methods\n   */\n  function searchData () {\n    const unitName = $refs.unityName.value\n    const keys = getUnityKeys(unitName)\n    const cnpj = state.companyCnpj\n\n    addLoadingState()\n\n    Promise.resolve({ cnpj, keys })\n      .then(getCompanyId)\n      .then(companyId => {\n        $refs.companyId.value = companyId\n        return { ...keys, companyId }\n      })\n      .then(getExamsData)\n      .then(handleSearchDone)\n      .catch(handleSearchError)\n      .finally(removeLoadingState)\n  }\n\n  function getCompanyId ({ cnpj, keys }) {\n    const companyId = $refs.companyId.value\n\n    if (companyId !== '') {\n      return companyId\n    }\n\n    return SPlusService\n      .getDataFromDataSource({\n        cnpj,\n        unitId: keys.id,\n        exportKey: keys.new_exportKey,\n        apiKey: keys.new_key\n      })\n  }\n\n  function getExamsData ({ exportKey, key, companyId }) {\n    const { start, end } = ExamsForm.getPeriod()\n\n    const livesData = LivesSerice.getDataFromPeriod({\n      start,\n      end,\n      exportKey,\n      companyId,\n      apiKey: key\n    })\n\n    const helpPlusData = HelpPlusService.getDataFromPeriod({\n      start,\n      end,\n      proposal: state.proposalId,\n      productId: state.productId\n    })\n\n    const coordinationData = CoordinationService.getDataFromPeriod({\n      start,\n      end,\n      cnpj: state.companyCnpj\n    })\n\n    return Promise.all([\n      livesData,\n      helpPlusData,\n      coordinationData\n    ])\n  }\n\n  function handleSearchDone (searchData) {\n    state.emitter.emit('search-done', searchData)\n  }\n\n  function handleSearchError (err) {\n    console.error('[Module:Exams] Something went wrong during the search')\n    console.error(err)\n  }\n\n  function addLoadingState () {\n    [$refs.trigger, $refs.pane]\n      .forEach(el =>\n        el.classList.add('-loading')\n      )\n  }\n\n  function removeLoadingState () {\n    [$refs.trigger, $refs.pane]\n      .forEach(el =>\n        el.classList.remove('-loading')\n      )\n  }\n\n  return {\n    init\n  }\n}\n\nexport default ExamsSearch()\n\n/**\n * Helpers\n */\nfunction getUnityKeys (unitName) {\n  const data = Object.values(keys)\n    .find(unit => unit.name === unitName)\n\n  if (!data) {\n    console.error(`[Module:Exams] Unit not found: ${unitName}`)\n    return null\n  }\n\n  return data\n}\n","class ComponentError extends Error {\n  constructor ({ name, message, type, errors } = {}) {\n    super()\n\n    this.name = name || 'ComponentError'\n    this.message = message\n    this.type = type\n  }\n}\n\nexport default ComponentError\n","import ComponentError from '../helpers/component-error'\nimport resolveReference from '../helpers/component-reference'\n\nconst defaults = {\n  baseHeight: 30, // minimum textarea height in pixels (30px, inherited from Bootstrap defaults text input height)\n  textareaClass: 'textarea-autosize'\n}\n\nexport default function TextareaAutosize (reference, params) {\n  params = {\n    ...defaults,\n    ...params,\n    name: 'TextareaAutosize'\n  }\n\n  const elements = resolveReference(reference, params.name)\n\n  if (elements instanceof HTMLElement) {\n    const [element] = elements\n    return createInstance(element, params)\n  }\n\n  return elements\n    .map(element => createInstance(element, params))\n    .filter(element => element !== undefined)\n}\n\nfunction createInstance (element, params) {\n  const { textarea } = getOrquestraField(element, params)\n\n  if (!textarea) {\n    return false\n  }\n\n  const instance = {\n    element,\n    textarea,\n    update,\n    destroy\n  }\n\n  addListners(textarea)\n  mount()\n\n  textarea._textareaAutosize = instance\n\n  return instance\n\n  /**\n   * 🔒 Private Methods\n   */\n  function addListners (textarea) {\n    textarea.addEventListener('input', setHeight)\n    textarea.addEventListener('focus', setHeight)\n  }\n\n  function setHeight () {\n    const height = getHeight(this)\n\n    // always apply the style to the instance textarea\n    // avoid style cloned textarea created by `setInitialHeight`\n    instance.textarea\n      .style.height = `${height}px`\n  }\n\n  function setInitialHeight () {\n    const clone = instance.textarea.cloneNode(true)\n\n    clone.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      box-sizing: border-box;\n      height: ${params.baseHeight}px;\n      overflow: hidden;\n      resize: none;\n      visibility: hidden;\n      pointer-events: none;\n    `\n    document.body.append(clone)\n    setHeight.apply(clone)\n    clone.remove()\n  }\n\n  function getHeight (textarea) {\n    textarea.style.height = 0\n\n    const lines = (textarea.scrollHeight + 2) / params.baseHeight\n    const height = lines * params.baseHeight\n\n    return height\n  }\n\n  function mount () {\n    instance.textarea\n      .classList.add(params.textareaClass)\n\n    setInitialHeight()\n  }\n\n  /**\n   * 🔑 Public Methods\n   */\n  function update () {\n    setHeight.apply(instance.textarea)\n  }\n\n  function destroy () {\n    instance.textarea\n      .classList.remove('textarea-autosize')\n\n    instance.textarea\n      .removeEventListener('input', setHeight)\n\n    instance.textarea\n      .removeEventListener('focus', setHeight)\n  }\n}\n\n/**\n * 💡 Helper Functions\n */\nfunction getOrquestraField (element, params) {\n  const textarea = element.nodeName.toLowerCase() === 'textarea'\n    ? element\n    : element.querySelector('textarea[xname]')\n\n  const textvalue = element.querySelector('div[xid]')\n  const inputHidden = element.querySelector('input[type=hidden][xname]')\n\n  if (!textarea && !textvalue && !inputHidden) {\n    throw new ComponentError({\n      name: params.name,\n      message:\n      'Erro ao criar a instância do componente.\\nNenhum campo do Orquestra encontrado para a referência informada',\n      type: 'instace_field_not_found'\n    })\n  }\n\n  return {\n    textarea,\n    textvalue\n  }\n}\n","import ComponentError from './component-error'\n\nexport default function resolveReference (reference, component) {\n  // Any QuerySelector string\n  // e.g. 'div > .class'\n  if (typeof reference === 'string') {\n    let elements\n\n    try {\n      elements = [...document.querySelectorAll(reference)]\n    } catch (error) {\n      throw new ComponentError({\n        name: component,\n        message:\n        `Erro ao inicializar a instância do componente.\\n${reference} não é um seletor válido`,\n        type: 'reference_queryselector_validation'\n      })\n    }\n\n    if (!elements.length) {\n      throw new ComponentError({\n        name: component,\n        message:\n        `Erro ao inicializar a instância do componente.\\nNão foi encontrado nenhum elemento para o seletor ${reference}`,\n        type: 'reference_queryselector_empty'\n      })\n    }\n\n    return elements\n  }\n\n  // Single HTML Elements\n  // e.g. document.querySelector('div')\n  if (reference instanceof HTMLElement) {\n    return [reference]\n  }\n\n  // HTML Collection and Node List\n  // HTMLCollection: e.g. document.getElementsByClassName('myClass')\n  // NodeList: e.g. document.querySelectorAll('div')\n  if (reference instanceof HTMLCollection) {\n    return [...reference]\n  }\n\n  // Array of HTML Elements\n  // e.g. [document.querySelector('#a'), document.querySelector('#b')]\n  if (Array.isArray(reference)) {\n    if (!reference.length) {\n      throw new ComponentError({\n        name: component,\n        message:\n        'Erro ao inicializar a instância do componente.\\nVocê não pode chamar o construtor com array vazio',\n        type: 'reference_array_empty'\n      })\n    }\n\n    reference.forEach(element => {\n      if (!(element instanceof HTMLElement)) {\n        throw new ComponentError({\n          name: component,\n          message:\n          'Erro ao inicializar a instância do componente\\nVocê não pode chamar o construtor com arrays que possuam elementos diferentes de HTMLElement',\n          type: 'reference_array_validation'\n        })\n      }\n    })\n\n    return reference\n  }\n\n  throw new ComponentError({\n    name: component,\n    message:\n    'Erro ao inicializar a instância do componente.\\nVocê deve chamar o construtor com strings (seletores CSS), HTMLElement, HTMLElement[], HTMLCollection ou NodeList',\n    type: 'reference_invalid_type'\n  })\n}\n","function mount (btnRadioWrapper, hidePrefix) {\r\n  const select = btnRadioWrapper.querySelector('select')\r\n  const hasBtnGroupMarkup = btnRadioWrapper.querySelector('.btn-group')\r\n\r\n  if (!hasBtnGroupMarkup) {\r\n    const options = getOptions(select, hidePrefix)\r\n    const btnGroup = createButtonGroup(options)\r\n\r\n    select.insertAdjacentHTML('afterend', btnGroup)\r\n  } else {\r\n    reset(btnRadioWrapper)\r\n  }\r\n\r\n  handleChange.apply(select)\r\n  select.addEventListener('change', handleChange)\r\n\r\n  btnRadioWrapper\r\n    .querySelectorAll('.btn-radio')\r\n    .forEach(btn => setTriggers(btn))\r\n}\r\n\r\nfunction setTriggers (btn) {\r\n  btn.addEventListener('click', handleClick)\r\n}\r\n\r\nfunction handleClick () {\r\n  const optionValue = this.dataset.option\r\n  const btnRadioWrapper = this.closest('.btn-radio-wrapper')\r\n  const select = btnRadioWrapper.querySelector('select')\r\n\r\n  reset(btnRadioWrapper)\r\n  this.classList.add('-active')\r\n  select.value = optionValue\r\n}\r\n\r\nfunction handleChange () {\r\n  const btnRadioWrapper = this.closest('.btn-radio-wrapper')\r\n\r\n  if (this.value === '') {\r\n    return reset(btnRadioWrapper)\r\n  }\r\n\r\n  const btnRadio = btnRadioWrapper\r\n    .querySelector(`.btn-radio[data-option='${this.value}']`)\r\n\r\n  handleClick.apply(btnRadio)\r\n}\r\n\r\nfunction resetState (btn) {\r\n  btn.classList.remove('-active')\r\n}\r\n\r\n/**\r\n * Helpers\r\n */\r\nconst getOptions = (select, hidePrefix) =>\r\n  [...select.options]\r\n    .filter(option => option.value)\r\n    .map(option => {\r\n      const value = option.value\r\n      const label = hidePrefix\r\n        ? value.substring(2)\r\n        : value\r\n\r\n      return { value, label }\r\n    })\r\n\r\nconst createButtonGroup = options => {\r\n  const buttons = options.map(option => createButton(option))\r\n  return `<div class=\"btn-group\">${buttons.join('')}</div>`\r\n}\r\n\r\nconst createButton = ({ value, label }) =>\r\n  `<button type=\"button\" class=\"btn btn-radio\" data-option=\"${value}\">${label}</button>`\r\n\r\n/**\r\n * Public API\r\n */\r\nfunction init (btnRadioWrapperSelector, hidePrefix = false, context = document) {\r\n  context\r\n    .querySelectorAll(btnRadioWrapperSelector)\r\n    .forEach(btnRadioWrapper => mount(btnRadioWrapper, hidePrefix))\r\n}\r\n\r\nfunction reset (btnRadioWrapper) {\r\n  btnRadioWrapper\r\n    .querySelectorAll('.btn-radio')\r\n    .forEach(btn => resetState(btn))\r\n}\r\n\r\nfunction destroy (btnRadioWrapper) {\r\n  btnRadioWrapper\r\n    .querySelectorAll('.btn-radio')\r\n    .forEach(btn => {\r\n      btn.removeEventListener('click', handleClick)\r\n      resetState(btn)\r\n    })\r\n}\r\n\r\nexport default {\r\n  init,\r\n  reset,\r\n  destroy\r\n}\r\n","import { TableMultivalue } from '../../components/table-multivalue'\nimport TextareaAutosize from '../../components/textarea-autosize'\nimport ButtonRadio from '../../components/button-radio'\nimport DatepickerRange from '../../components/datepicker-range'\n\nconst TableActions = function () {\n  const tableSelector = '#tbl-actions'\n  const fieldDecriptionId = 'planoAcompanhamento'\n\n  const $refs = {\n    section: document.querySelector('#section-actions'),\n    table: document.querySelector(tableSelector),\n    executedLabels: document.querySelectorAll('[xid=divplanoExecutado]'),\n    periodStart: document.querySelector('[xname=inpperiodoInicio]'),\n    pertiodEnd: document.querySelector('[xname=inpperiodoFim]')\n  }\n\n  const state = {\n    alias: null\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount ({ alias, hasToResetTable }) {\n    const isReadonly = ['complementacao', 'complementacaoAnual'].includes(alias)\n    const isStatic = ['complementacao'].includes(alias)\n\n    state.alias = alias\n\n    if (isReadonly) {\n      return setTableReadonly()\n    }\n\n    const Table = new TableMultivalue(tableSelector, onRowMount)\n\n    if (isStatic) {\n      Table.static()\n    }\n\n    if (hasToResetTable) {\n      Table.reset()\n    }\n\n    return Table\n  }\n\n  function hasToMount ({ alias }) {\n    return [\n      'elaboracao',\n      'complementacao',\n      'elaboracaoAnual',\n      'complementacaoAnual'\n    ].includes(alias)\n  }\n\n  function show () {\n    $refs.section\n      .classList\n      .remove('hidden')\n  }\n\n  function destroy () {\n    $refs.section.remove()\n  }\n\n  /**\n   * Private Methods\n   */\n  function onRowMount (row) {\n    ButtonRadio\n      .init('.btn-radio-wrapper', true, row)\n\n    TextareaAutosize(\n      row.querySelector(`[xname=inp${fieldDecriptionId}]`)\n    )\n\n    DatepickerRange\n      .init('.input-monthrange', {\n        startView: 'months',\n        minViewMode: 'months',\n        format: 'M/yyyy'\n      }, row)\n  }\n\n  function setTableReadonly () {\n    $refs.table\n      .classList\n      .add('-readonly', '-hover')\n\n    $refs.executedLabels\n      .forEach(appendTag)\n\n    DatepickerRange\n      .init(`${tableSelector} .input-monthrange`, {})\n  }\n\n  function appendTag ($label) {\n    // ignore label ordering prefix: 2.Parcial\n    const text = $label.textContent.substring(2)\n    const $td = $label.closest('td')\n    const $btnRadio = $td.querySelector('.btn-radio-wrapper')\n    const tagMarkup = createTag(text)\n\n    $td.insertAdjacentHTML('beforeend', tagMarkup)\n    $btnRadio.classList.add('hidden')\n    $label.classList.add('hidden')\n  }\n\n  return {\n    mount,\n    hasToMount,\n    show,\n    destroy\n  }\n}\n\nexport default TableActions()\n\n/**\n * Helpers\n */\nconst createTag = text =>\n`<span class=\"tag ${getLabelModifier(text)}\">${text}</span>`\n\nconst getLabelModifier = text => {\n  if (text === 'Sim') {\n    return '-success'\n  }\n  if (text === 'Não') {\n    return '-danger'\n  }\n  if (text === 'Parcial') {\n    return '-warning'\n  }\n\n  console.error(`[Module:TableActions] Unknow executed value: ${text}`)\n  return ''\n}\n","import { TableMultivalue } from '../../components/table-multivalue'\nimport TextareaAutosize from '../../components/textarea-autosize'\nimport ButtonRadio from '../../components/button-radio'\nimport DatepickerRange from '../../components/datepicker-range'\n\nconst TableRecommendations = function () {\n  const tableSelector = '#tbl-recommendations'\n  const fieldDecriptionId = 'recomendacoesDescricao'\n\n  const $refs = {\n    section: document.querySelector('#section-recommendations'),\n    table: document.querySelector(tableSelector),\n    executedLabels: document.querySelectorAll('[xid=divplanoExecutado]')\n  }\n\n  const state = {\n    alias: null\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount ({ alias, hasToResetTable }) {\n    const isReadonly = ['elaboracaoAnual', 'complementacaoAnual'].includes(alias)\n\n    state.alias = alias\n\n    if (isReadonly) {\n      return setTableReadonly()\n    }\n\n    const Table = new TableMultivalue(tableSelector, onRowMount)\n\n    if (hasToResetTable) {\n      Table.reset()\n    }\n\n    return Table\n  }\n\n  function hasToMount ({ alias, productType }) {\n    return [\n      'complementacao',\n      'elaboracaoAnual',\n      'complementacaoAnual'\n    ].includes(alias) ||\n    (productType === 'PPRA' && alias === 'elaboracao')\n  }\n\n  function show () {\n    $refs.section\n      .classList\n      .remove('hidden')\n  }\n\n  function destroy () {\n    $refs.section.remove()\n  }\n\n  /**\n   * Private Methods\n   */\n  function onRowMount (row) {\n    ButtonRadio\n      .init('.btn-radio-wrapper', true, row)\n\n    TextareaAutosize(\n      row.querySelector(`[xname=inp${fieldDecriptionId}]`)\n    )\n\n    DatepickerRange\n      .init('.input-monthrange', {\n        startView: 'months',\n        minViewMode: 'months',\n        format: 'M/yyyy'\n      }, row)\n  }\n\n  function setTableReadonly () {\n    $refs.table\n      .classList\n      .add('-readonly', '-hover')\n\n    DatepickerRange\n      .init(`${tableSelector} .input-monthrange`, {})\n  }\n\n  return {\n    mount,\n    hasToMount,\n    show,\n    destroy\n  }\n}\n\nexport default TableRecommendations()\n","import {\n  addMonths,\n  parseDate,\n  getMonthName\n} from 'orquestra-helpers'\nimport { TableMultivalue } from '../../components/table-multivalue'\nimport Template from '../../components/template'\n\nconst TableOccupationalExams = function () {\n  const tableSelector = '#tbl-exams'\n\n  const tableFieldsId = {\n    normal: 'examesNormais',\n    altered: 'examesAlterados',\n    total: 'examesTipoTotal'\n  }\n\n  const $refs = {\n    section: document.querySelector('#section-exams'),\n    table: document.querySelector(tableSelector),\n    tableSummary: document.querySelector('#tbl-exames-total'),\n    alert: document.querySelector('#exams-alert'),\n    reportDate: document.querySelector('[xname=inpdataCicloRelatorio]')\n  }\n\n  const state = {\n    alias: null,\n    productType: null\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount ({ alias, productType, hasToResetTable }) {\n    const isReadonly = [\n      'complementacao',\n      'elaboracaoAnual',\n      'complementacaoAnual'\n    ].includes(alias)\n\n    const hasAlert = [\n      'elaboracaoAnual',\n      'complementacaoAnual'\n    ].includes(alias) && productType === 'PCMSO'\n\n    state.alias = alias\n\n    if (hasAlert) {\n      setAlertMessage()\n    }\n\n    if (isReadonly) {\n      return setTableReadonly()\n    }\n\n    const Table = new TableMultivalue(tableSelector, onRowMount)\n\n    if (hasToResetTable) {\n      Table.reset()\n    }\n\n    Table.on('beforeDelete', onRowDelete)\n    Table.on('afterDelete', updateSummary)\n\n    $refs.summary = {\n      totalNormal: $refs.tableSummary.querySelector('[xname=inpexamesTotalNormal]'),\n      totalAltered: $refs.tableSummary.querySelector('[xname=inpexamesTotalAlterado]'),\n      total: $refs.tableSummary.querySelector('[xname=inpexamesTotalGlobal]')\n    }\n  }\n\n  function hasToMount ({ alias, productType }) {\n    return [\n      'elaboracao',\n      'complementacao',\n      'elaboracaoAnual',\n      'complementacaoAnual'\n    ].includes(alias) && productType === 'PCMSO'\n  }\n\n  function show () {\n    $refs.section\n      .classList\n      .remove('hidden')\n  }\n\n  function destroy () {\n    $refs.section.remove()\n  }\n\n  /**\n   * Private Methods\n   */\n  function onRowMount (row) {\n    const totalLabel = row.querySelector(`[data-bind=${tableFieldsId.total}]`)\n    const totalInput = getRowTotalInput(row)\n    const {\n      examesNormais,\n      examesAlterados\n    } = getTableRowFields(row)\n\n    examesNormais.input.addEventListener('change', onInputChange)\n    examesAlterados.input.addEventListener('change', onInputChange)\n\n    Template.mount(totalInput)\n\n    // Orquestra `InsertNewRow` clone the 1st row with all values\n    // So we need to rewrite the total value with `Template.update`\n    Template.update(totalLabel)\n  }\n\n  function onInputChange () {\n    const changeEvent = new Event('change')\n    const row = this.closest('tr')\n    const {\n      examesNormais,\n      examesAlterados,\n      examesTipoTotal\n    } = getTableRowFields(row)\n\n    examesTipoTotal.input.value = examesAlterados.value + examesNormais.value\n    examesTipoTotal.input.dispatchEvent(changeEvent)\n\n    updateSummary()\n  }\n\n  function onRowDelete (e) {\n    const { deletedRow } = e.detail\n    const totalInput = getRowTotalInput(deletedRow)\n\n    Template.remove(totalInput)\n  }\n\n  function updateSummary () {\n    const changeEvent = new Event('change')\n    const { total } = getTableData()\n\n    $refs.summary.totalNormal.value = total.examesNormais\n    $refs.summary.totalAltered.value = total.examesAlterados\n    $refs.summary.total.value = total.examesTipoTotal\n\n    Object.values($refs.summary)\n      .forEach(input => input.dispatchEvent(changeEvent))\n  }\n\n  function getRowTotalInput (row) {\n    return row.querySelector(`[xname=inp${tableFieldsId.total}]`)\n  }\n\n  function getTableData () {\n    const rows = [...$refs.table.querySelectorAll('tr:not(.header)')]\n      .map(getTableRowFields)\n\n    const total = rows.reduce((total, row) => {\n      Object.entries(row)\n        .forEach(([id, field]) => {\n          if (!total[id]) {\n            total[id] = field.value\n          } else {\n            total[id] += field.value\n          }\n        })\n      return total\n    }, {})\n\n    return {\n      rows,\n      total\n    }\n  }\n\n  function getTableRowFields (row) {\n    return Object.values(tableFieldsId)\n      .reduce((fields, fieldId) => {\n        const input = row.querySelector(`[xname=inp${fieldId}]`)\n        const value = parseInt(input.value) || 0\n\n        fields[fieldId] = {\n          input,\n          value\n        }\n\n        return fields\n      }, {})\n  }\n\n  function setTableReadonly () {\n    $refs.table\n      .classList\n      .add('-readonly', '-hover')\n  }\n\n  function setAlertMessage () {\n    const reportDate = parseDate($refs.reportDate.value)\n\n    $refs.alert.textContent = createAlertMessage(reportDate)\n  }\n\n  return {\n    mount,\n    hasToMount,\n    show,\n    destroy\n  }\n}\n\nexport default TableOccupationalExams()\n\n/**\n * Helpers\n */\nconst createAlertMessage = reportDate => {\n  const previousReport = addMonths(reportDate, -5)\n  const month = getMonthName(previousReport)\n  const year = previousReport.getFullYear()\n\n  return `Os dados abaixo são referentes ao relatório semestral elaborado em ${month}/${year}.`\n}\n","const TaskReviewer = function () {\n  const $refs = {\n    reviwerCodUser: document.querySelector('[xname=inpprofissionalAprovador]'),\n    ppraCodUser: document.querySelector('[xname=inpengenheiroTxt]'),\n    pcmsoCodUser: document.querySelector('[xname=inpresponsavelPelaExecucaoDoServico]'),\n    productId: document.querySelector('[xname=inpcodProduto]'),\n    productType: document.querySelector('[xname=inptipoProduto]')\n  }\n\n  const state = {\n    productId: $refs.productId.value,\n    productType: $refs.productType.value,\n    reviwer: $refs.reviwerCodUser.value\n  }\n\n  /**\n   * Public Methods\n   */\n  function init () {\n    if ($refs.productType.value === '') {\n      setProductType()\n    }\n\n    if ($refs.reviwerCodUser.value === '') {\n      setReviewer()\n    }\n  }\n\n  /**\n   * Private Methods\n   */\n  function setProductType () {\n    const productType = getProductTypeById(state.productId)\n\n    $refs.productType.value = productType\n    state.productType = productType\n  }\n\n  function setReviewer () {\n    const reviwer = getReviewerByProductType(state.productType)\n\n    $refs.reviwerCodUser.value = reviwer\n    state.reviwer = reviwer\n  }\n\n  function getReviewerByProductType (productType) {\n    if (productType === 'PPRA') {\n      return $refs.ppraCodUser.value\n    }\n\n    if (productType === 'PCMSO') {\n      return $refs.pcmsoCodUser.value\n    }\n\n    console.error(`[Module:TaskReviewer] Unknow product type: ${productType}`)\n    return null\n  }\n\n  return {\n    init\n  }\n}\n\nexport default TaskReviewer()\n\n/**\n * Helpers\n */\nconst getProductTypeById = id => {\n  if (id === '2.02.01.01.03.001.001') {\n    return 'PPRA'\n  }\n\n  if (id === '2.02.01.01.08.001.001') {\n    return 'PCMSO'\n  }\n\n  console.error(`[Module:TaskReviewer] Unknow product id: ${id}`)\n  return null\n}\n","import TableActions from './table-actions'\nimport TableRecommendations from './table-recommendations'\nimport TableOccupationalExams from './table-occupational-exams'\n\nconst Tables = function () {\n  const $refs = {\n    productType: document.querySelector('[xname=inptipoProduto]'),\n    periodStart: document.querySelector('[xname=inpperiodoInicio]'),\n    pertiodEnd: document.querySelector('[xname=inpperiodoFim]')\n  }\n\n  const state = {\n    alias: null,\n    emitter: null,\n    productType: $refs.productType.value\n  }\n\n  /**\n   * Public Methods\n   */\n  function init ({ alias, emitter }) {\n    const hasToInit = [\n      'elaboracao',\n      'complementacao',\n      'elaboracaoAnual',\n      'complementacaoAnual'\n    ].includes(alias)\n\n    state.alias = alias\n    state.emitter = emitter\n\n    if (!hasToInit) {\n      return\n    }\n\n    state.emitter.on('search-done', showTables)\n\n    state.tables = [\n      TableActions,\n      TableRecommendations,\n      TableOccupationalExams\n    ].filter(initTables)\n  }\n\n  /**\n   * Private Methods\n   */\n  function initTables (table) {\n    const props = {\n      alias: state.alias,\n      productType: state.productType,\n      hasToResetTable: evalTableReset(state.alias)\n    }\n\n    const hasToMount = table.hasToMount(props)\n\n    if (!hasToMount) {\n      table.destroy()\n    } else {\n      table.mount(props)\n    }\n\n    return hasToMount\n  }\n\n  function showTables () {\n    state.tables\n      .forEach(table => table.show())\n  }\n\n  function evalTableReset (alias) {\n    const isOnInitialTask = ['elaboracao'].includes(alias)\n    const isPeriodEmpty = $refs.periodStart.value === '' && $refs.pertiodEnd.value === ''\n\n    return isOnInitialTask && isPeriodEmpty\n  }\n\n  return {\n    init\n  }\n}\n\nexport default Tables()\n","/**\r\n * @param {String} value - value to form to title case\r\n * @return {String} Title Case String\r\n */\r\nexport const titleCase = value => {\r\n  return value\r\n    .toLowerCase()\r\n    .split(' ')\r\n    .map(word => {\r\n      return word.charAt(0).toUpperCase() + word.slice(1)\r\n    }).join(' ')\r\n}\r\n\r\n/**\r\n * @param {String} email - email string\r\n * @return {Boolean} check result\r\n */\r\nexport const isEmail = email => {\r\n  const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n  return emailRegex.test(String(email).toLowerCase())\r\n}\r\n","function mount (list) {\r\n  const toggleItems = list.querySelectorAll('li:not(:first-child)')\r\n  const listToggler = createListToggler(toggleItems.length)\r\n\r\n  list.insertAdjacentHTML('beforeend', listToggler)\r\n\r\n  setTriggers(list)\r\n}\r\n\r\nfunction setTriggers (list) {\r\n  const togglers = list.querySelectorAll('.list-trunk-toggler')\r\n\r\n  togglers\r\n    .forEach(toggler => toggler.addEventListener('click', handleClick))\r\n}\r\n\r\nfunction handleClick () {\r\n  const list = this.closest('ul')\r\n  list.classList.toggle('-active')\r\n}\r\n\r\n/**\r\n * Helpers\r\n */\r\nconst createListToggler = length => {\r\n  return `\r\n<span class=\"list-trunk-toggler\" data-trunk=\"more\">Mostrar mais ${length}</span>\r\n<span class=\"list-trunk-toggler\" data-trunk=\"less\">Mostrar menos</span>\r\n`\r\n}\r\n\r\n/**\r\n * Public API\r\n */\r\nfunction init (listElementSelector, context = document) {\r\n  context\r\n    .querySelectorAll(listElementSelector)\r\n    .forEach(list => mount(list))\r\n}\r\n\r\nexport default {\r\n  init\r\n}\r\n","import { titleCase } from 'orquestra-helpers'\nimport ListTrunk from '../../components/list-trunk'\n\nconst ReportContacts = function () {\n  const $refs = {\n    wrapper: document.querySelector('#contacts-list')\n  }\n\n  function mount (contacts) {\n    const listMarkup = createList(contacts)\n\n    $refs.wrapper\n      .insertAdjacentHTML('beforeend', listMarkup)\n\n    if (contacts.length) {\n      ListTrunk.init('.list-trunk')\n    }\n  }\n\n  return {\n    mount\n  }\n}\n\nexport default ReportContacts()\n\n/**\n * Template Helpers\n */\nconst createList = contacts => {\n  if (!contacts.length) {\n    return '<span class=\"form-text\"><i>Nenhum contato informado</i></span>'\n  }\n\n  const items = contacts\n    .map(contact => createListItem(contact))\n    .join('')\n\n  return `<ul class=\"list-trunk\">${items}</ul>`\n}\n\nconst createListItem = ({ contato, emailEmpresa }) =>\n`<li>\n  <span class=\"form-text\">${titleCase(contato)}</span>\n  <span class=\"form-text text-small -gapless\">${emailEmpresa}</span>\n</li>`\n","function mount (chips, config) {\n  const {\n    inputPlaceholder,\n    errorMessage\n  } = config\n\n  const inputHtml = createInput(inputPlaceholder, errorMessage)\n  chips.insertAdjacentHTML('beforeend', inputHtml)\n\n  if (config.readonly) {\n    config.editable = false\n    config.removeable = false\n\n    setReadonly(chips)\n  } else {\n    setTriggers(chips, config)\n  }\n\n  if (config.target.value !== '') {\n    const values = config.target.value\n    config.target.value = ''\n\n    return values\n      .split(';')\n      .forEach(value => addChip(chips, value, config))\n  }\n\n  if (config.data) {\n    return config.data\n      .forEach(value => addChip(chips, value, config))\n  }\n}\n\nfunction setReadonly (chips) {\n  const input = getChipsInput(chips)\n\n  chips.classList.add('-readonly')\n  input.style.display = 'none'\n}\n\nfunction setTriggers (chips, config) {\n  const input = getChipsInput(chips)\n\n  chips.addEventListener('click', function () {\n    focus(this)\n  })\n\n  input.addEventListener('focus', handleInputFocus)\n  input.addEventListener('blur', handleInputBlur)\n\n  input.addEventListener('change', function () {\n    handleInputChange(this, config)\n  })\n\n  input.addEventListener('keydown', function (e) {\n    if (e.key === 'Enter') {\n      e.preventDefault()\n      handleInputChange(this, config)\n    }\n  })\n\n}\n\nfunction mountSingleChip (chips, value, config) {\n  const inputWrapper = chips.querySelector('.chip-input-wrapper')\n  const sanitized = sanitizeValue(value)\n  const chipHtml = createChip(sanitized, config)\n  const eventChange = new Event('change')\n\n  inputWrapper.insertAdjacentHTML('beforebegin', chipHtml)\n\n  const chipsValues = config.target.value\n  const chip = [...chips.querySelectorAll('.chip')].pop()\n  const removeBtn = chip.querySelector('.chip-action[data-chip-action=\"remove\"]')\n  const editBtn = chip.querySelector('.chip-action[data-chip-action=\"edit\"]')\n\n  config.target.value = chipsValues === ''\n    ? sanitized\n    : `${chipsValues};${sanitized}`\n\n  config.target.dispatchEvent(eventChange)\n\n  if (removeBtn) {\n    removeBtn.addEventListener('click', function () {\n      handleRemoveChip.call(this, config.target)\n    })\n  }\n\n  if (editBtn) {\n    chip.addEventListener('dblclick', function () {\n      handleEditChip.call(editBtn, config)\n    })\n    editBtn.addEventListener('click', function () {\n      handleEditChip.call(this, config)\n    })\n  }\n}\n\nfunction mountEditChip (chip, config) {\n  const chips = chip.closest('.chips')\n  const index = getChipIndex(chip)\n  const values = config.target.value.split(';')\n  const value = values[index]\n  const inputHtml = createInput('', config.errorMessage, value)\n\n  config = { ...config, chip, value, index }\n  chip.insertAdjacentHTML('afterend', inputHtml)\n  chip.classList.add('hidden')\n\n  disabledAdd(chips)\n\n  const editInput = chips.querySelector('.chip-input')\n  editInput.focus()\n  editInput.setSelectionRange(0, editInput.value.length)\n\n  editInput.addEventListener('focus', handleInputFocus)\n\n  editInput.addEventListener('blur', function () {\n    handleEditChange(this, config)\n  })\n\n  editInput.addEventListener('keydown', function (e) {\n    if (e.key === 'Enter') {\n      e.preventDefault()\n      this.blur()\n    }\n  })\n}\n\nfunction handleInputFocus () {\n  const chips = this.closest('.chips')\n  focus(chips)\n}\n\nfunction handleInputBlur () {\n  const chips = this.closest('.chips')\n  blur(chips)\n}\n\nfunction handleInputChange (input, config) {\n  const { validation } = config\n  const chips = input.closest('.chips')\n  const value = input.value\n  let hasValidValue = true\n\n  if (value === '') {\n    return removeError(chips)\n  }\n\n  if (validation && !(validation instanceof Function)) {\n    return console.error('[Chips] The parameter config.validation must be a function')\n  }\n\n  if (validation) {\n    hasValidValue = validation(value)\n  }\n\n  if (hasValidValue) {\n    input.value = ''\n    addChip(chips, value, config)\n    removeError(chips)\n  } else {\n    addError(chips)\n  }\n}\n\nfunction handleEditChange (input, {\n  validation,\n  target,\n  chip,\n  value,\n  index\n}) {\n  const values = target.value.split(';')\n  const chips = input.closest('.chips')\n  const newValue = input.value\n  const eventChange = new Event('change')\n  let hasValidValue = true\n\n  blur(chips)\n\n  if (newValue === value) {\n    chip.classList.remove('hidden')\n    removeError(chips)\n    return enableAdd(chips)\n  }\n\n  if (newValue === '') {\n    removeError(chips)\n    removeChip(chip, target)\n    return enableAdd(chips)\n  }\n\n  if (validation) {\n    hasValidValue = validation(newValue)\n  }\n\n  if (hasValidValue) {\n    // update target values\n    values[index] = newValue\n    target.value = values.join(';')\n    target.dispatchEvent(eventChange)\n\n    // update chip text\n    chip.childNodes[0].nodeValue = newValue\n    chip.classList.remove('hidden')\n\n    removeError(chips)\n    enableAdd(chips)\n  } else {\n    addError(chips)\n  }\n}\n\nfunction handleRemoveChip (target) {\n  const chip = this.closest('.chip')\n  removeChip(chip, target)\n}\n\nfunction handleEditChip (config) {\n  const chip = this.closest('.chip')\n  editChip(chip, config)\n}\n\n/**\n * Helpers\n */\nconst getChipIndex = chip =>\n  [...chip.closest('.chips').querySelectorAll('.chip')].indexOf(chip)\n\nconst getChipsInput = chips =>\n  chips.querySelector('.chip-input')\n\nconst removeValueFromTarget = (target, index) => {\n  const values = target.value.split(';')\n  values.splice(index, 1)\n\n  return values.join(';')\n}\n\nconst sanitizeValue = value =>\n  value\n    // remove non alphanumeric values, leaving parenthesis, dots, at and spaces\n    .replace(/[^[A-zÀ-ú0-9_@.()\\s]+/g, '')\n    // remove extra white spaces\n    .replace(/\\s+/g, ' ')\n\nconst createInput = (\n  inputPlaceholder = 'Adicionar',\n  errorMessage,\n  value = ''\n) => {\n  return `\n<div class=\"chip-input-wrapper\" ${errorMessage ? `data-error-msg=\"${errorMessage}\"` : ''}>\n  <input type=\"text\" class=\"chip-input\" placeholder=\"${inputPlaceholder}\" value=\"${value}\"/>\n</div>`\n}\n\nconst createChip = (\n  value,\n  { editable = false, removeable = true } = { editable: false, removeable: true }\n) => {\n  const editIcon = '<i class=\"chip-action\" data-chip-action=\"edit\"></i>'\n  const removeIcon = '<i class=\"chip-action\" data-chip-action=\"remove\"></i>'\n\n  return `\n<div class=\"chip ${editable ? '-editable' : ''}\">\n  ${value}${editable ? editIcon : ''}${removeable ? removeIcon : ''}\n</div>`\n    .replace(/[\\t\\n]/g, '') // remove white spaces and tabs\n    .replace(/\\s\\s+(?=[^><]*<)/g, '') // remove indentation\n}\n\n/**\n * Public API\n */\nfunction init (chipsElementSelector, config, context = document) {\n  context\n    .querySelectorAll(chipsElementSelector)\n    .forEach(chips => mount(chips, config))\n}\n\nfunction focus (chips) {\n  const input = getChipsInput(chips)\n\n  chips.classList.add('-focus')\n  input.focus()\n}\n\nfunction blur (chips) {\n  const input = getChipsInput(chips)\n\n  chips.classList.remove('-focus')\n  input.blur()\n}\n\nfunction addError (chips) {\n  chips.classList.add('-error')\n}\n\nfunction removeError (chips) {\n  chips.classList.remove('-error')\n}\n\nfunction addChip (chips, value, config) {\n  mountSingleChip(\n    chips,\n    value,\n    config\n  )\n}\n\nfunction editChip (chip, config) {\n  mountEditChip(\n    chip,\n    config\n  )\n}\n\nfunction removeChip (chip, target) {\n  const index = getChipIndex(chip)\n  const eventChange = new Event('change')\n\n  target.value = removeValueFromTarget(target, index)\n  target.dispatchEvent(eventChange)\n  chip.remove()\n}\n\nfunction enableAdd (chips) {\n  const inputs = [...chips.querySelectorAll('.chip-input-wrapper')]\n  const inputAdd = inputs.pop()\n\n  inputs.forEach(input => input.remove())\n  inputAdd.classList.remove('hidden')\n  inputAdd.querySelector('.chip-input').focus()\n}\n\nfunction disabledAdd (chips) {\n  const inputAdd = [...chips.querySelectorAll('.chip-input-wrapper')].pop()\n  inputAdd.classList.add('hidden')\n}\n\nexport default {\n  init,\n  focus,\n  blur,\n  addError,\n  removeError,\n  addChip,\n  editChip,\n  removeChip,\n  enableAdd,\n  disabledAdd\n}\n","import { titleCase, isEmail } from 'orquestra-helpers'\nimport Chips from '../../components/chips'\n\nconst ReportSendTo = function () {\n  const $refs = {\n    wrapper: document.querySelector('#send-to-group'),\n    placeholder: document.querySelector('[xname=inpenviarRelatorioPara]'),\n    input: document.querySelector('[xname=inplistaEmailsRelatorio]')\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount (contacts, readonly) {\n    const contactsParsed = resolveContacts(contacts)\n    const chipsConfig = {\n      readonly,\n      editable: !readonly\n    }\n\n    Chips.init('.chips', {\n      ...chipsConfig,\n      data: contactsParsed,\n      inputPlaceholder: 'Adicionar E-mail',\n      target: $refs.placeholder,\n      errorMessage: 'Formato de e-mail inválido',\n      validation: validateEmailFormat\n    })\n\n    $refs.placeholder\n      .addEventListener('change', updateInputEmails)\n\n    updateInputEmails\n      .call($refs.placeholder)\n  }\n\n  function show () {\n    $refs.wrapper\n      .classList.remove('hidden')\n  }\n\n  function hide () {\n    $refs.wrapper\n      .classList.add('hidden')\n  }\n\n  /**\n   * Private Methods\n   */\n  function resolveContacts (contacts) {\n    if ($refs.placeholder.value !== '') {\n      return $refs.placeholder.value.split(';')\n    }\n\n    if (!contacts.length) {\n      return contacts\n    }\n\n    return contacts.map(formatContactToChipEmail)\n  }\n\n  function updateInputEmails () {\n    $refs.input.value = filterEmails(this.value).join(';')\n  }\n\n  return {\n    mount,\n    show,\n    hide\n  }\n}\n\nexport default ReportSendTo()\n\n/**\n * Helpers\n */\nconst formatContactToChipEmail = ({ contato, emailEmpresa }) =>\n  `${titleCase(contato)} (${emailEmpresa})`\n\nconst filterEmails = contactsPlaceholder =>\n  contactsPlaceholder\n    .split(';')\n    .map(getEmailFromContact)\n\nconst validateEmailFormat = contact => {\n  const email = getEmailFromContact(contact)\n\n  // Must be formated as: Name (email@example.com) when used with parentheses\n  if (\n    contact.split(')').length > 2 ||\n    contact.split('(').length > 2 ||\n    (contact.includes('(') && contact.slice(-1) !== ')')\n  ) {\n    return false\n  }\n\n  return isEmail(email)\n}\n\nconst getEmailFromContact = contact => {\n  const data = contact.replace(')', '').split('(')\n  const email = data.length > 1\n    ? data[1] // Name (email@example.com)\n    : data[0] // email@example.com\n\n  return email\n}\n","const ReportType = function () {\n  const $refs = {\n    sendReport: {\n      group: document.querySelector('#send-report'),\n      field: document.querySelector('[xname=inpenviarEmail]')\n    },\n    reportType: {\n      group: document.querySelector('#report-type'),\n      field: document.querySelectorAll('[xname=inptipoTemplate]')\n    }\n  }\n\n  const state = {\n    emitter: null\n  }\n\n  /**\n   * Public Methods\n   */\n  function mount ({ emitter }) {\n    state.emitter = emitter\n\n    $refs.sendReport.group\n      .classList\n      .remove('hidden')\n\n    $refs.reportType.group\n      .classList\n      .remove('hidden')\n\n    $refs.sendReport.field\n      .addEventListener('change', onChange)\n\n    onChange.call($refs.sendReport.field)\n  }\n\n  /**\n   * Private Methods\n   */\n  function onChange () {\n    state.emitter.emit('send-report-change', this.checked)\n\n    return this.checked\n      ? enableOptions()\n      : disabledOptions()\n  }\n\n  function enableOptions () {\n    $refs.reportType.field.forEach(option => {\n      option.disabled = false\n      option.setAttribute('required', 'S')\n    })\n  }\n\n  function disabledOptions () {\n    $refs.reportType.field.forEach(option => {\n      option.disabled = true\n      option.checked = false\n      option.setAttribute('required', 'N')\n    })\n  }\n\n  return {\n    mount\n  }\n}\n\nexport default ReportType()\n","import ReportContacts from './report-contacts'\nimport ReportSendTo from './report-send-to'\nimport ReportType from './report-type'\n\nconst Reports = function () {\n  const state = {\n    contacts: [],\n    alias: null,\n    emitter: null\n  }\n\n  const $refs = {\n    section: document.querySelector('#section-send-options')\n  }\n\n  /**\n   * Public Methods\n   */\n  function init ({ alias, emitter }) {\n    const isSendToReadonly = ['formatacaoAnual'].includes(alias)\n    state.contacts = getContactsData([\n      'contato',\n      'emailEmpresa'\n    ])\n\n    state.alias = alias\n    state.emitter = emitter\n\n    state.emitter.on('search-done', mount)\n    state.emitter.on('send-report-change', onSendReportChange)\n\n\n    ReportSendTo.mount(state.contacts, isSendToReadonly)\n    ReportContacts.mount(state.contacts)\n\n    if (isSendToReadonly) {\n      mount()\n    }\n  }\n\n  /**\n   * Private Methods\n   */\n  function mount () {\n    const showSendTo = ['elaboracaoAnual', 'complementacaoAnual', 'formatacaoAnual'].includes(state.alias)\n    const mountReportType = ['elaboracao', 'complementacao'].includes(state.alias)\n\n    $refs.section\n      .classList\n      .remove('hidden')\n\n    if (showSendTo) {\n      ReportSendTo.show()\n    }\n\n    if (mountReportType) {\n      ReportType.mount({ emitter: state.emitter })\n    }\n  }\n\n  function onSendReportChange (isEnable) {\n    isEnable\n      ? ReportSendTo.show()\n      : ReportSendTo.hide()\n  }\n\n  return {\n    init\n  }\n}\n\nexport default Reports()\n\n/**\n * Helpers\n */\nconst getContactsData = fields => {\n  const contactsListSize = Math.max(\n    ...fields.map(field =>\n      document.querySelectorAll(`[xname=inp${field}]`).length\n    )\n  )\n\n  const contactsData = Array(contactsListSize)\n    .fill(null)\n    .map((none, index) =>\n      fields.reduce((row, field) => {\n        const value = document.querySelectorAll(`[xname=inp${field}]`)[index].value\n\n        if (value) {\n          row[field] = value\n        }\n\n        return row\n      }, {})\n    )\n    .filter(contact => Object.keys(contact).length)\n\n  return contactsData\n}\n","/**\n * Dependencies\n */\nimport mitt from 'mitt'\nimport { getTaskAlias } from 'orquestra-helpers'\n\n/**\n * Components\n */\nimport Template from './components/template'\nimport Switch from './components/switch'\nimport RadioCard from './components/radio-card'\n\n/**\n * Modules\n */\nimport ExamsSearch from './modules/exams-search/index'\nimport Tables from './modules/tables'\nimport TaskReviewer from './modules/task-reviewer'\nimport Reports from './modules/reports'\n\nconst emitter = mitt()\nconst alias = getTaskAlias()\n\nTemplate.init({\n  filters: {\n    product (value) {\n      const [initials, desc] = value.split('-')\n      return `${initials.toUpperCase()} - ${this.titleCase(desc)}`\n    }\n  }\n})\nTemplate.conditionals()\nSwitch.init('.switch')\nRadioCard.init('.radio-card')\n\n/**\n * Modules\n */\nTaskReviewer.init()\nReports.init({ alias, emitter })\nTables.init({ alias, emitter })\nExamsSearch.init({ alias, emitter })\n","/**\r\n * @return {String} Orquestra Process CodFlow\r\n */\r\nexport const getCodFlow = () =>\r\n  document.querySelector('#inpCodFlow').value\r\n\r\n/**\r\n * @return {String} Orquestra Process CodFlowExecute\r\n */\r\nexport const getCodFlowExecute = () =>\r\n  document.querySelector('#inpCodFlowExecute').value\r\n\r\n/**\r\n * @return {String} Orquestra Task CodFlowExecuteTask\r\n */\r\nexport const getCodFlowExecuteTask = () =>\r\n  document.querySelector('#inpCodFlowExecuteTask').value\r\n\r\n/**\r\n * @return {String} Orquestra Task Alias\r\n */\r\nexport const getTaskAlias = () =>\r\n  document.querySelector('#inpDsFlowElementAlias').value\r\n\r\n/**\r\n * @return {String} Orquestra Logged User Token\r\n */\r\nexport const getUserToken = () =>\r\n  document.querySelector('#inpToken').value\r\n\r\n/**\r\n * @description Reset Orquestra Multivalue Tables,\r\n * inserting a new blank row and deleting all the rest\r\n *\r\n * @param {Array<DOM Node>, DOM Node} - context Nodes to search form tables\r\n */\r\nexport const resetTables = (contexts = document) => {\r\n  // Converts single DOM node into array\r\n  if (!contexts.length) {\r\n    contexts = [contexts]\r\n  }\r\n\r\n  contexts.forEach(context => {\r\n    context.querySelectorAll('table[mult=S]')\r\n      .forEach(table => {\r\n        const btnInsert = table.querySelector('#BtnInsertNewRow')\r\n\r\n        if (btnInsert) {\r\n          btnInsert.click()\r\n\r\n          table\r\n            .querySelectorAll('tr:not(.header):not(:last-child')\r\n            .forEach(row => row.remove())\r\n        } else {\r\n          table\r\n            .querySelectorAll('tr:not(.header)')\r\n            .forEach(row => row.remove())\r\n        }\r\n      })\r\n  })\r\n}\r\n\r\n/**\r\n * @description Reset all form fields values inside Orquestra\r\n * Task Form (`#BoxFrmExecute` container)\r\n *\r\n * Note: Using jQuery to trigger change event after resetting values\r\n *\r\n * @param {Object} options - reset form options\r\n * @param {Boolean} options.removeRequired - change Orquestra required attribute to false after cleaning values\r\n * @param {Boolean} options.includeHidden - include input hidden Orquestra fields\r\n * @param {Boolean} options.triggerChange - trigger change event after clear field value\r\n * @param {Array<DOM Node>, DOM Node} - context Nodes to search form fields\r\n */\r\nexport const resetFields = (options, contexts) => {\r\n  const defaults = {\r\n    removeRequired: false,\r\n    includeHidden: true,\r\n    triggerChange: true,\r\n    ...options\r\n  }\r\n  // If no contexts are given, defaults to Orquestra form Wrapper\r\n  if (!contexts) {\r\n    contexts = document.querySelector('#BoxFrmExecute')\r\n  }\r\n\r\n  // Converts single DOM node into array\r\n  if (!contexts.length) {\r\n    contexts = [contexts]\r\n  }\r\n\r\n  const { single, collection } = [...contexts].reduce((acc, context) => {\r\n    if (!context.closest('#ContainerForm')) {\r\n      console.error('[Forms:resetAllFields] DOM Node  must be inside `#ContainerForm` Node')\r\n      return acc\r\n    }\r\n\r\n    let hiddenFields = []\r\n\r\n    if (defaults.includeHidden) {\r\n      hiddenFields = context.querySelectorAll('input[type=hidden]')\r\n    }\r\n\r\n    acc.single = [\r\n      ...acc.single,\r\n      ...context.querySelectorAll('input[type=text], textarea, select'),\r\n      ...hiddenFields\r\n    ]\r\n\r\n    acc.collection = [\r\n      ...acc.collection,\r\n      ...context.querySelectorAll('input[type=checkbox], input[type=radio]')\r\n    ]\r\n\r\n    return acc\r\n  }, {\r\n    single: [],\r\n    collection: []\r\n  })\r\n\r\n  single.forEach(field => {\r\n    field.value = ''\r\n\r\n    if (defaults.removeRequired) {\r\n      field.setAttribute('required', 'N')\r\n    }\r\n\r\n    if (defaults.triggerChange) {\r\n      $(field).trigger('change')\r\n    }\r\n  })\r\n\r\n  collection.forEach(field => {\r\n    field.checked = false\r\n\r\n    if (defaults.removeRequired) {\r\n      field.setAttribute('required', 'N')\r\n    }\r\n\r\n    if (defaults.triggerChange) {\r\n      $(field).trigger('change')\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * @description Reset all form fields values and Multivalue\r\n * Tables inside Orquestra Task Form (`#BoxFrmExecute` container)\r\n *\r\n * @param {Object} options - reset form options\r\n * @param {Boolean} options.removeRequired - change Orquestra required attribute to false after cleaning values\r\n * @param {Boolean} options.includeHidden - include input hidden Orquestra fields\r\n * @param {Boolean} options.triggerChange - trigger change event after clear field value\r\n * @param {Array<DOM Node>, DOM Node} - context Nodes to search form fields and tables\r\n */\r\nexport const resetForm = (options = {}, context) => {\r\n  resetTables(context)\r\n  resetFields(options, context)\r\n}\r\n"],"sourceRoot":""}